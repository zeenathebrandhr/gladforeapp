var Em=t=>{throw TypeError(t)};var td=(t,e,r)=>e.has(t)||Em("Cannot "+r);var T=(t,e,r)=>(td(t,e,"read from private field"),r?r.call(t):e.get(t)),fe=(t,e,r)=>e.has(t)?Em("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Y=(t,e,r,n)=>(td(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),be=(t,e,r)=>(td(t,e,"access private method"),r);var Ol=(t,e,r,n)=>({set _(s){Y(t,e,s,r)},get _(){return T(t,e,n)}});function KS(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ey(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ky={exports:{}},xu={},Cy={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),GS=Symbol.for("react.portal"),ZS=Symbol.for("react.fragment"),JS=Symbol.for("react.strict_mode"),YS=Symbol.for("react.profiler"),XS=Symbol.for("react.provider"),eE=Symbol.for("react.context"),tE=Symbol.for("react.forward_ref"),rE=Symbol.for("react.suspense"),nE=Symbol.for("react.memo"),sE=Symbol.for("react.lazy"),km=Symbol.iterator;function iE(t){return t===null||typeof t!="object"?null:(t=km&&t[km]||t["@@iterator"],typeof t=="function"?t:null)}var Ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jy=Object.assign,Oy={};function Ro(t,e,r){this.props=t,this.context=e,this.refs=Oy,this.updater=r||Ty}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Py(){}Py.prototype=Ro.prototype;function Bh(t,e,r){this.props=t,this.context=e,this.refs=Oy,this.updater=r||Ty}var Wh=Bh.prototype=new Py;Wh.constructor=Bh;jy(Wh,Ro.prototype);Wh.isPureReactComponent=!0;var Cm=Array.isArray,Ny=Object.prototype.hasOwnProperty,qh={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function Ay(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ny.call(e,n)&&!Ry.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:pl,type:t,key:i,ref:o,props:s,_owner:qh.current}}function oE(t,e){return{$$typeof:pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hh(t){return typeof t=="object"&&t!==null&&t.$$typeof===pl}function aE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Tm=/\/+/g;function rd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aE(""+t.key):e.toString(36)}function uc(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pl:case GS:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+rd(o,0):n,Cm(s)?(r="",t!=null&&(r=t.replace(Tm,"$&/")+"/"),uc(s,e,r,"",function(c){return c})):s!=null&&(Hh(s)&&(s=oE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Cm(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+rd(i,a);o+=uc(i,e,r,l,s)}else if(l=iE(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+rd(i,a++),o+=uc(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pl(t,e,r){if(t==null)return t;var n=[],s=0;return uc(t,n,"","",function(i){return e.call(r,i,s++)}),n}function lE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},dc={transition:null},cE={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:dc,ReactCurrentOwner:qh};function Iy(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Pl,forEach:function(t,e,r){Pl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Pl(t,function(){e++}),e},toArray:function(t){return Pl(t,function(e){return e})||[]},only:function(t){if(!Hh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Ro;Ee.Fragment=ZS;Ee.Profiler=YS;Ee.PureComponent=Bh;Ee.StrictMode=JS;Ee.Suspense=rE;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cE;Ee.act=Iy;Ee.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ny.call(e,l)&&!Ry.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:pl,type:t.type,key:s,ref:i,props:n,_owner:o}};Ee.createContext=function(t){return t={$$typeof:eE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XS,_context:t},t.Consumer=t};Ee.createElement=Ay;Ee.createFactory=function(t){var e=Ay.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:tE,render:t}};Ee.isValidElement=Hh;Ee.lazy=function(t){return{$$typeof:sE,_payload:{_status:-1,_result:t},_init:lE}};Ee.memo=function(t,e){return{$$typeof:nE,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=dc.transition;dc.transition={};try{t()}finally{dc.transition=e}};Ee.unstable_act=Iy;Ee.useCallback=function(t,e){return Ut.current.useCallback(t,e)};Ee.useContext=function(t){return Ut.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Ut.current.useEffect(t,e)};Ee.useId=function(){return Ut.current.useId()};Ee.useImperativeHandle=function(t,e,r){return Ut.current.useImperativeHandle(t,e,r)};Ee.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Ut.current.useMemo(t,e)};Ee.useReducer=function(t,e,r){return Ut.current.useReducer(t,e,r)};Ee.useRef=function(t){return Ut.current.useRef(t)};Ee.useState=function(t){return Ut.current.useState(t)};Ee.useSyncExternalStore=function(t,e,r){return Ut.current.useSyncExternalStore(t,e,r)};Ee.useTransition=function(){return Ut.current.useTransition()};Ee.version="18.3.1";Cy.exports=Ee;var _=Cy.exports;const ht=zh(_),Dy=KS({__proto__:null,default:ht},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=_,dE=Symbol.for("react.element"),fE=Symbol.for("react.fragment"),hE=Object.prototype.hasOwnProperty,pE=uE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mE={key:!0,ref:!0,__self:!0,__source:!0};function Ly(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)hE.call(e,n)&&!mE.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:dE,type:t,key:i,ref:o,props:s,_owner:pE.current}}xu.Fragment=fE;xu.jsx=Ly;xu.jsxs=Ly;ky.exports=xu;var u=ky.exports,My={exports:{}},dr={},Fy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,D){var q=A.length;A.push(D);e:for(;0<q;){var W=q-1>>>1,te=A[W];if(0<s(te,D))A[W]=D,A[q]=te,q=W;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var D=A[0],q=A.pop();if(q!==D){A[0]=q;e:for(var W=0,te=A.length,Z=te>>>1;W<Z;){var we=2*(W+1)-1,Pe=A[we],Te=we+1,ne=A[Te];if(0>s(Pe,q))Te<te&&0>s(ne,Pe)?(A[W]=ne,A[Te]=q,W=Te):(A[W]=Pe,A[we]=q,W=we);else if(Te<te&&0>s(ne,q))A[W]=ne,A[Te]=q,W=Te;else break e}}return D}function s(A,D){var q=A.sortIndex-D.sortIndex;return q!==0?q:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,v=!1,x=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var D=r(c);D!==null;){if(D.callback===null)n(c);else if(D.startTime<=A)n(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=r(c)}}function S(A){if(p=!1,g(A),!x)if(r(l)!==null)x=!0,K(C);else{var D=r(c);D!==null&&B(S,D.startTime-A)}}function C(A,D){x=!1,p&&(p=!1,y(b),b=-1),v=!0;var q=h;try{for(g(D),f=r(l);f!==null&&(!(f.expirationTime>D)||A&&!L());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var te=W(f.expirationTime<=D);D=t.unstable_now(),typeof te=="function"?f.callback=te:f===r(l)&&n(l),g(D)}else n(l);f=r(l)}if(f!==null)var Z=!0;else{var we=r(c);we!==null&&B(S,we.startTime-D),Z=!1}return Z}finally{f=null,h=q,v=!1}}var P=!1,j=null,b=-1,E=5,O=-1;function L(){return!(t.unstable_now()-O<E)}function N(){if(j!==null){var A=t.unstable_now();O=A;var D=!0;try{D=j(!0,A)}finally{D?F():(P=!1,j=null)}}else P=!1}var F;if(typeof m=="function")F=function(){m(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ee=M.port2;M.port1.onmessage=N,F=function(){ee.postMessage(null)}}else F=function(){w(N,0)};function K(A){j=A,P||(P=!0,F())}function B(A,D){b=w(function(){A(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,K(C))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var q=h;h=D;try{return A()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var q=h;h=A;try{return D()}finally{h=q}},t.unstable_scheduleCallback=function(A,D,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,A={id:d++,callback:D,priorityLevel:A,startTime:q,expirationTime:te,sortIndex:-1},q>W?(A.sortIndex=q,e(c,A),r(l)===null&&A===r(c)&&(p?(y(b),b=-1):p=!0,B(S,q-W))):(A.sortIndex=te,e(l,A),x||v||(x=!0,K(C))),A},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(A){var D=h;return function(){var q=h;h=D;try{return A.apply(this,arguments)}finally{h=q}}}})($y);Fy.exports=$y;var gE=Fy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE=_,lr=gE;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uy=new Set,ka={};function ui(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(ka[t]=e,t=0;t<e.length;t++)Uy.add(e[t])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=Object.prototype.hasOwnProperty,yE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},Om={};function wE(t){return tf.call(Om,t)?!0:tf.call(jm,t)?!1:yE.test(t)?Om[t]=!0:(jm[t]=!0,!1)}function xE(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _E(t,e,r,n){if(e===null||typeof e>"u"||xE(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kh=/[\-:]([a-z])/g;function Qh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kh,Qh);St[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kh,Qh);St[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kh,Qh);St[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gh(t,e,r,n){var s=St.hasOwnProperty(e)?St[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_E(e,r,s,n)&&(r=null),n||s===null?wE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var In=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),Zh=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),Vy=Symbol.for("react.provider"),zy=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),Yh=Symbol.for("react.memo"),zn=Symbol.for("react.lazy"),By=Symbol.for("react.offscreen"),Pm=Symbol.iterator;function Bo(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,nd;function ta(t){if(nd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);nd=e&&e[1]||""}return`
`+nd+t}var sd=!1;function id(t,e){if(!t||sd)return"";sd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ta(t):""}function bE(t){switch(t.tag){case 5:return ta(t.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return t=id(t.type,!1),t;case 11:return t=id(t.type.render,!1),t;case 1:return t=id(t.type,!0),t;default:return""}}function of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Pi:return"Portal";case rf:return"Profiler";case Zh:return"StrictMode";case nf:return"Suspense";case sf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zy:return(t.displayName||"Context")+".Consumer";case Vy:return(t._context.displayName||"Context")+".Provider";case Jh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yh:return e=t.displayName||null,e!==null?e:of(t.type)||"Memo";case zn:e=t._payload,t=t._init;try{return of(t(e))}catch{}}return null}function SE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return of(e);case 8:return e===Zh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EE(t){var e=Wy(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rl(t){t._valueTracker||(t._valueTracker=EE(t))}function qy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Wy(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Oc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function af(t,e){var r=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Nm(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ps(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hy(t,e){e=e.checked,e!=null&&Gh(t,"checked",e,!1)}function lf(t,e){Hy(t,e);var r=ps(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cf(t,e.type,r):e.hasOwnProperty("defaultValue")&&cf(t,e.type,ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function cf(t,e,r){(e!=="number"||Oc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ra=Array.isArray;function Bi(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ps(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function uf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Am(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(z(92));if(ra(r)){if(1<r.length)throw Error(z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ps(r)}}function Ky(t,e){var r=ps(e.value),n=ps(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Im(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function df(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Al,Gy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ca(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kE=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(t){kE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ua[e]=ua[t]})});function Zy(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ua.hasOwnProperty(t)&&ua[t]?(""+e).trim():e+"px"}function Jy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Zy(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var CE=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ff(t,e){if(e){if(CE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=null;function Xh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mf=null,Wi=null,qi=null;function Dm(t){if(t=vl(t)){if(typeof mf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=ku(e),mf(t.stateNode,t.type,e))}}function Yy(t){Wi?qi?qi.push(t):qi=[t]:Wi=t}function Xy(){if(Wi){var t=Wi,e=qi;if(qi=Wi=null,Dm(t),e)for(t=0;t<e.length;t++)Dm(e[t])}}function ew(t,e){return t(e)}function tw(){}var od=!1;function rw(t,e,r){if(od)return t(e,r);od=!0;try{return ew(t,e,r)}finally{od=!1,(Wi!==null||qi!==null)&&(tw(),Xy())}}function Ta(t,e){var r=t.stateNode;if(r===null)return null;var n=ku(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(z(231,e,typeof r));return r}var gf=!1;if(Tn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){gf=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{gf=!1}function TE(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var da=!1,Pc=null,Nc=!1,vf=null,jE={onError:function(t){da=!0,Pc=t}};function OE(t,e,r,n,s,i,o,a,l){da=!1,Pc=null,TE.apply(jE,arguments)}function PE(t,e,r,n,s,i,o,a,l){if(OE.apply(this,arguments),da){if(da){var c=Pc;da=!1,Pc=null}else throw Error(z(198));Nc||(Nc=!0,vf=c)}}function di(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function nw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lm(t){if(di(t)!==t)throw Error(z(188))}function NE(t){var e=t.alternate;if(!e){if(e=di(t),e===null)throw Error(z(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Lm(s),t;if(i===n)return Lm(s),e;i=i.sibling}throw Error(z(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?t:e}function sw(t){return t=NE(t),t!==null?iw(t):null}function iw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iw(t);if(e!==null)return e;t=t.sibling}return null}var ow=lr.unstable_scheduleCallback,Mm=lr.unstable_cancelCallback,RE=lr.unstable_shouldYield,AE=lr.unstable_requestPaint,it=lr.unstable_now,IE=lr.unstable_getCurrentPriorityLevel,ep=lr.unstable_ImmediatePriority,aw=lr.unstable_UserBlockingPriority,Rc=lr.unstable_NormalPriority,DE=lr.unstable_LowPriority,lw=lr.unstable_IdlePriority,_u=null,Xr=null;function LE(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(_u,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:$E,ME=Math.log,FE=Math.LN2;function $E(t){return t>>>=0,t===0?32:31-(ME(t)/FE|0)|0}var Il=64,Dl=4194304;function na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ac(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=na(a):(i&=o,i!==0&&(n=na(i)))}else o=r&~s,o!==0?n=na(o):i!==0&&(n=na(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Lr(e),s=1<<r,n|=t[r],e&=~s;return n}function UE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Lr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=UE(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function yf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cw(){var t=Il;return Il<<=1,!(Il&4194240)&&(Il=64),t}function ad(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ml(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=r}function zE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Lr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function tp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Lr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Me=0;function uw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dw,rp,fw,hw,pw,wf=!1,Ll=[],is=null,os=null,as=null,ja=new Map,Oa=new Map,Wn=[],BE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(e.pointerId)}}function qo(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vl(e),e!==null&&rp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function WE(t,e,r,n,s){switch(e){case"focusin":return is=qo(is,t,e,r,n,s),!0;case"dragenter":return os=qo(os,t,e,r,n,s),!0;case"mouseover":return as=qo(as,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ja.set(i,qo(ja.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Oa.set(i,qo(Oa.get(i)||null,t,e,r,n,s)),!0}return!1}function mw(t){var e=Ms(t.target);if(e!==null){var r=di(e);if(r!==null){if(e=r.tag,e===13){if(e=nw(r),e!==null){t.blockedOn=e,pw(t.priority,function(){fw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=xf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pf=n,r.target.dispatchEvent(n),pf=null}else return e=vl(r),e!==null&&rp(e),t.blockedOn=r,!1;e.shift()}return!0}function $m(t,e,r){fc(t)&&r.delete(e)}function qE(){wf=!1,is!==null&&fc(is)&&(is=null),os!==null&&fc(os)&&(os=null),as!==null&&fc(as)&&(as=null),ja.forEach($m),Oa.forEach($m)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,wf||(wf=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,qE)))}function Pa(t){function e(s){return Ho(s,t)}if(0<Ll.length){Ho(Ll[0],t);for(var r=1;r<Ll.length;r++){var n=Ll[r];n.blockedOn===t&&(n.blockedOn=null)}}for(is!==null&&Ho(is,t),os!==null&&Ho(os,t),as!==null&&Ho(as,t),ja.forEach(e),Oa.forEach(e),r=0;r<Wn.length;r++)n=Wn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wn.length&&(r=Wn[0],r.blockedOn===null);)mw(r),r.blockedOn===null&&Wn.shift()}var Hi=In.ReactCurrentBatchConfig,Ic=!0;function HE(t,e,r,n){var s=Me,i=Hi.transition;Hi.transition=null;try{Me=1,np(t,e,r,n)}finally{Me=s,Hi.transition=i}}function KE(t,e,r,n){var s=Me,i=Hi.transition;Hi.transition=null;try{Me=4,np(t,e,r,n)}finally{Me=s,Hi.transition=i}}function np(t,e,r,n){if(Ic){var s=xf(t,e,r,n);if(s===null)vd(t,e,n,Dc,r),Fm(t,n);else if(WE(s,t,e,r,n))n.stopPropagation();else if(Fm(t,n),e&4&&-1<BE.indexOf(t)){for(;s!==null;){var i=vl(s);if(i!==null&&dw(i),i=xf(t,e,r,n),i===null&&vd(t,e,n,Dc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vd(t,e,n,null,r)}}var Dc=null;function xf(t,e,r,n){if(Dc=null,t=Xh(n),t=Ms(t),t!==null)if(e=di(t),e===null)t=null;else if(r=e.tag,r===13){if(t=nw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dc=t,null}function gw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IE()){case ep:return 1;case aw:return 4;case Rc:case DE:return 16;case lw:return 536870912;default:return 16}default:return 16}}var ns=null,sp=null,hc=null;function vw(){if(hc)return hc;var t,e=sp,r=e.length,n,s="value"in ns?ns.value:ns.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return hc=s.slice(t,1<n?1-n:void 0)}function pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function Um(){return!1}function fr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ml:Um,this.isPropagationStopped=Um,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ip=fr(Ao),gl=tt({},Ao,{view:0,detail:0}),QE=fr(gl),ld,cd,Ko,bu=tt({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(ld=t.screenX-Ko.screenX,cd=t.screenY-Ko.screenY):cd=ld=0,Ko=t),ld)},movementY:function(t){return"movementY"in t?t.movementY:cd}}),Vm=fr(bu),GE=tt({},bu,{dataTransfer:0}),ZE=fr(GE),JE=tt({},gl,{relatedTarget:0}),ud=fr(JE),YE=tt({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),XE=fr(YE),ek=tt({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tk=fr(ek),rk=tt({},Ao,{data:0}),zm=fr(rk),nk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ik={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ok(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ik[t])?!!e[t]:!1}function op(){return ok}var ak=tt({},gl,{key:function(t){if(t.key){var e=nk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(t){return t.type==="keypress"?pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lk=fr(ak),ck=tt({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=fr(ck),uk=tt({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),dk=fr(uk),fk=tt({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),hk=fr(fk),pk=tt({},bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mk=fr(pk),gk=[9,13,27,32],ap=Tn&&"CompositionEvent"in window,fa=null;Tn&&"documentMode"in document&&(fa=document.documentMode);var vk=Tn&&"TextEvent"in window&&!fa,yw=Tn&&(!ap||fa&&8<fa&&11>=fa),Wm=" ",qm=!1;function ww(t,e){switch(t){case"keyup":return gk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ri=!1;function yk(t,e){switch(t){case"compositionend":return xw(e);case"keypress":return e.which!==32?null:(qm=!0,Wm);case"textInput":return t=e.data,t===Wm&&qm?null:t;default:return null}}function wk(t,e){if(Ri)return t==="compositionend"||!ap&&ww(t,e)?(t=vw(),hc=sp=ns=null,Ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yw&&e.locale!=="ko"?null:e.data;default:return null}}var xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xk[t.type]:e==="textarea"}function _w(t,e,r,n){Yy(n),e=Lc(e,"onChange"),0<e.length&&(r=new ip("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ha=null,Na=null;function _k(t){Rw(t,0)}function Su(t){var e=Di(t);if(qy(e))return t}function bk(t,e){if(t==="change")return e}var bw=!1;if(Tn){var dd;if(Tn){var fd="oninput"in document;if(!fd){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),fd=typeof Km.oninput=="function"}dd=fd}else dd=!1;bw=dd&&(!document.documentMode||9<document.documentMode)}function Qm(){ha&&(ha.detachEvent("onpropertychange",Sw),Na=ha=null)}function Sw(t){if(t.propertyName==="value"&&Su(Na)){var e=[];_w(e,Na,t,Xh(t)),rw(_k,e)}}function Sk(t,e,r){t==="focusin"?(Qm(),ha=e,Na=r,ha.attachEvent("onpropertychange",Sw)):t==="focusout"&&Qm()}function Ek(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Na)}function kk(t,e){if(t==="click")return Su(e)}function Ck(t,e){if(t==="input"||t==="change")return Su(e)}function Tk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $r=typeof Object.is=="function"?Object.is:Tk;function Ra(t,e){if($r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!tf.call(e,s)||!$r(t[s],e[s]))return!1}return!0}function Gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zm(t,e){var r=Gm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gm(r)}}function Ew(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ew(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kw(){for(var t=window,e=Oc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Oc(t.document)}return e}function lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jk(t){var e=kw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ew(r.ownerDocument.documentElement,r)){if(n!==null&&lp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Zm(r,i);var o=Zm(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ok=Tn&&"documentMode"in document&&11>=document.documentMode,Ai=null,_f=null,pa=null,bf=!1;function Jm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bf||Ai==null||Ai!==Oc(n)||(n=Ai,"selectionStart"in n&&lp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pa&&Ra(pa,n)||(pa=n,n=Lc(_f,"onSelect"),0<n.length&&(e=new ip("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ai)))}function Fl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ii={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},hd={},Cw={};Tn&&(Cw=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Eu(t){if(hd[t])return hd[t];if(!Ii[t])return t;var e=Ii[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Cw)return hd[t]=e[r];return t}var Tw=Eu("animationend"),jw=Eu("animationiteration"),Ow=Eu("animationstart"),Pw=Eu("transitionend"),Nw=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){Nw.set(t,e),ui(e,[t])}for(var pd=0;pd<Ym.length;pd++){var md=Ym[pd],Pk=md.toLowerCase(),Nk=md[0].toUpperCase()+md.slice(1);Ss(Pk,"on"+Nk)}Ss(Tw,"onAnimationEnd");Ss(jw,"onAnimationIteration");Ss(Ow,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(Pw,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Xm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,PE(n,e,void 0,t),t.currentTarget=null}function Rw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Xm(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Xm(s,a,c),i=l}}}if(Nc)throw t=vf,Nc=!1,vf=null,t}function qe(t,e){var r=e[Tf];r===void 0&&(r=e[Tf]=new Set);var n=t+"__bubble";r.has(n)||(Aw(e,t,2,!1),r.add(n))}function gd(t,e,r){var n=0;e&&(n|=4),Aw(r,t,n,e)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[$l]){t[$l]=!0,Uy.forEach(function(r){r!=="selectionchange"&&(Rk.has(r)||gd(r,!1,t),gd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$l]||(e[$l]=!0,gd("selectionchange",!1,e))}}function Aw(t,e,r,n){switch(gw(e)){case 1:var s=HE;break;case 4:s=KE;break;default:s=np}r=s.bind(null,e,r,t),s=void 0,!gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function vd(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ms(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}rw(function(){var c=i,d=Xh(r),f=[];e:{var h=Nw.get(t);if(h!==void 0){var v=ip,x=t;switch(t){case"keypress":if(pc(r)===0)break e;case"keydown":case"keyup":v=lk;break;case"focusin":x="focus",v=ud;break;case"focusout":x="blur",v=ud;break;case"beforeblur":case"afterblur":v=ud;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ZE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=dk;break;case Tw:case jw:case Ow:v=XE;break;case Pw:v=hk;break;case"scroll":v=QE;break;case"wheel":v=mk;break;case"copy":case"cut":case"paste":v=tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Bm}var p=(e&4)!==0,w=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var m=c,g;m!==null;){g=m;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,y!==null&&(S=Ta(m,y),S!=null&&p.push(Ia(m,S,g)))),w)break;m=m.return}0<p.length&&(h=new v(h,x,null,r,d),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&r!==pf&&(x=r.relatedTarget||r.fromElement)&&(Ms(x)||x[jn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?Ms(x):null,x!==null&&(w=di(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(p=Vm,S="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(p=Bm,S="onPointerLeave",y="onPointerEnter",m="pointer"),w=v==null?h:Di(v),g=x==null?h:Di(x),h=new p(S,m+"leave",v,r,d),h.target=w,h.relatedTarget=g,S=null,Ms(d)===c&&(p=new p(y,m+"enter",x,r,d),p.target=g,p.relatedTarget=w,S=p),w=S,v&&x)t:{for(p=v,y=x,m=0,g=p;g;g=gi(g))m++;for(g=0,S=y;S;S=gi(S))g++;for(;0<m-g;)p=gi(p),m--;for(;0<g-m;)y=gi(y),g--;for(;m--;){if(p===y||y!==null&&p===y.alternate)break t;p=gi(p),y=gi(y)}p=null}else p=null;v!==null&&eg(f,h,v,p,!1),x!==null&&w!==null&&eg(f,w,x,p,!0)}}e:{if(h=c?Di(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var C=bk;else if(Hm(h))if(bw)C=Ck;else{C=Ek;var P=Sk}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=kk);if(C&&(C=C(t,c))){_w(f,C,r,d);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&cf(h,"number",h.value)}switch(P=c?Di(c):window,t){case"focusin":(Hm(P)||P.contentEditable==="true")&&(Ai=P,_f=c,pa=null);break;case"focusout":pa=_f=Ai=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Jm(f,r,d);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":Jm(f,r,d)}var j;if(ap)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ri?ww(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(yw&&r.locale!=="ko"&&(Ri||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ri&&(j=vw()):(ns=d,sp="value"in ns?ns.value:ns.textContent,Ri=!0)),P=Lc(c,b),0<P.length&&(b=new zm(b,t,null,r,d),f.push({event:b,listeners:P}),j?b.data=j:(j=xw(r),j!==null&&(b.data=j)))),(j=vk?yk(t,r):wk(t,r))&&(c=Lc(c,"onBeforeInput"),0<c.length&&(d=new zm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}Rw(f,e)})}function Ia(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Lc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ta(t,r),i!=null&&n.unshift(Ia(t,i,s)),i=Ta(t,e),i!=null&&n.push(Ia(t,i,s))),t=t.return}return n}function gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eg(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Ta(r,i),l!=null&&o.unshift(Ia(r,l,a))):s||(l=Ta(r,i),l!=null&&o.push(Ia(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Ak=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function tg(t){return(typeof t=="string"?t:""+t).replace(Ak,`
`).replace(Ik,"")}function Ul(t,e,r){if(e=tg(e),tg(t)!==e&&r)throw Error(z(425))}function Mc(){}var Sf=null,Ef=null;function kf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cf=typeof setTimeout=="function"?setTimeout:void 0,Dk=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,Lk=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(t){return rg.resolve(null).then(t).catch(Mk)}:Cf;function Mk(t){setTimeout(function(){throw t})}function yd(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Pa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pa(e)}function ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ng(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Io,Da="__reactProps$"+Io,jn="__reactContainer$"+Io,Tf="__reactEvents$"+Io,Fk="__reactListeners$"+Io,$k="__reactHandles$"+Io;function Ms(t){var e=t[Jr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[jn]||r[Jr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ng(t);t!==null;){if(r=t[Jr])return r;t=ng(t)}return e}t=r,r=t.parentNode}return null}function vl(t){return t=t[Jr]||t[jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function ku(t){return t[Da]||null}var jf=[],Li=-1;function Es(t){return{current:t}}function He(t){0>Li||(t.current=jf[Li],jf[Li]=null,Li--)}function Be(t,e){Li++,jf[Li]=t.current,t.current=e}var ms={},Pt=Es(ms),Qt=Es(!1),Ys=ms;function vo(t,e){var r=t.type.contextTypes;if(!r)return ms;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function Fc(){He(Qt),He(Pt)}function sg(t,e,r){if(Pt.current!==ms)throw Error(z(168));Be(Pt,e),Be(Qt,r)}function Iw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(z(108,SE(t)||"Unknown",s));return tt({},r,n)}function $c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ms,Ys=Pt.current,Be(Pt,t),Be(Qt,Qt.current),!0}function ig(t,e,r){var n=t.stateNode;if(!n)throw Error(z(169));r?(t=Iw(t,e,Ys),n.__reactInternalMemoizedMergedChildContext=t,He(Qt),He(Pt),Be(Pt,t)):He(Qt),Be(Qt,r)}var yn=null,Cu=!1,wd=!1;function Dw(t){yn===null?yn=[t]:yn.push(t)}function Uk(t){Cu=!0,Dw(t)}function ks(){if(!wd&&yn!==null){wd=!0;var t=0,e=Me;try{var r=yn;for(Me=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}yn=null,Cu=!1}catch(s){throw yn!==null&&(yn=yn.slice(t+1)),ow(ep,ks),s}finally{Me=e,wd=!1}}return null}var Mi=[],Fi=0,Uc=null,Vc=0,gr=[],vr=0,Xs=null,bn=1,Sn="";function Rs(t,e){Mi[Fi++]=Vc,Mi[Fi++]=Uc,Uc=t,Vc=e}function Lw(t,e,r){gr[vr++]=bn,gr[vr++]=Sn,gr[vr++]=Xs,Xs=t;var n=bn;t=Sn;var s=32-Lr(n)-1;n&=~(1<<s),r+=1;var i=32-Lr(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,bn=1<<32-Lr(e)+s|r<<s|n,Sn=i+t}else bn=1<<i|r<<s|n,Sn=t}function cp(t){t.return!==null&&(Rs(t,1),Lw(t,1,0))}function up(t){for(;t===Uc;)Uc=Mi[--Fi],Mi[Fi]=null,Vc=Mi[--Fi],Mi[Fi]=null;for(;t===Xs;)Xs=gr[--vr],gr[vr]=null,Sn=gr[--vr],gr[vr]=null,bn=gr[--vr],gr[vr]=null}var ir=null,sr=null,Qe=!1,Nr=null;function Mw(t,e){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function og(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,sr=ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xs!==null?{id:bn,overflow:Sn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ir=t,sr=null,!0):!1;default:return!1}}function Of(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pf(t){if(Qe){var e=sr;if(e){var r=e;if(!og(t,e)){if(Of(t))throw Error(z(418));e=ls(r.nextSibling);var n=ir;e&&og(t,e)?Mw(n,r):(t.flags=t.flags&-4097|2,Qe=!1,ir=t)}}else{if(Of(t))throw Error(z(418));t.flags=t.flags&-4097|2,Qe=!1,ir=t}}}function ag(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function Vl(t){if(t!==ir)return!1;if(!Qe)return ag(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kf(t.type,t.memoizedProps)),e&&(e=sr)){if(Of(t))throw Fw(),Error(z(418));for(;e;)Mw(t,e),e=ls(e.nextSibling)}if(ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){sr=ls(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=ir?ls(t.stateNode.nextSibling):null;return!0}function Fw(){for(var t=sr;t;)t=ls(t.nextSibling)}function yo(){sr=ir=null,Qe=!1}function dp(t){Nr===null?Nr=[t]:Nr.push(t)}var Vk=In.ReactCurrentBatchConfig;function Qo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,t))}return t}function zl(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lg(t){var e=t._init;return e(t._payload)}function $w(t){function e(y,m){if(t){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=fs(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,g,S){return m===null||m.tag!==6?(m=Cd(g,y.mode,S),m.return=y,m):(m=s(m,g),m.return=y,m)}function l(y,m,g,S){var C=g.type;return C===Ni?d(y,m,g.props.children,S,g.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zn&&lg(C)===m.type)?(S=s(m,g.props),S.ref=Qo(y,m,g),S.return=y,S):(S=_c(g.type,g.key,g.props,null,y.mode,S),S.ref=Qo(y,m,g),S.return=y,S)}function c(y,m,g,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Td(g,y.mode,S),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function d(y,m,g,S,C){return m===null||m.tag!==7?(m=Zs(g,y.mode,S,C),m.return=y,m):(m=s(m,g),m.return=y,m)}function f(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Cd(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Nl:return g=_c(m.type,m.key,m.props,null,y.mode,g),g.ref=Qo(y,null,m),g.return=y,g;case Pi:return m=Td(m,y.mode,g),m.return=y,m;case zn:var S=m._init;return f(y,S(m._payload),g)}if(ra(m)||Bo(m))return m=Zs(m,y.mode,g,null),m.return=y,m;zl(y,m)}return null}function h(y,m,g,S){var C=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(y,m,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nl:return g.key===C?l(y,m,g,S):null;case Pi:return g.key===C?c(y,m,g,S):null;case zn:return C=g._init,h(y,m,C(g._payload),S)}if(ra(g)||Bo(g))return C!==null?null:d(y,m,g,S,null);zl(y,g)}return null}function v(y,m,g,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(g)||null,a(m,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nl:return y=y.get(S.key===null?g:S.key)||null,l(m,y,S,C);case Pi:return y=y.get(S.key===null?g:S.key)||null,c(m,y,S,C);case zn:var P=S._init;return v(y,m,g,P(S._payload),C)}if(ra(S)||Bo(S))return y=y.get(g)||null,d(m,y,S,C,null);zl(m,S)}return null}function x(y,m,g,S){for(var C=null,P=null,j=m,b=m=0,E=null;j!==null&&b<g.length;b++){j.index>b?(E=j,j=null):E=j.sibling;var O=h(y,j,g[b],S);if(O===null){j===null&&(j=E);break}t&&j&&O.alternate===null&&e(y,j),m=i(O,m,b),P===null?C=O:P.sibling=O,P=O,j=E}if(b===g.length)return r(y,j),Qe&&Rs(y,b),C;if(j===null){for(;b<g.length;b++)j=f(y,g[b],S),j!==null&&(m=i(j,m,b),P===null?C=j:P.sibling=j,P=j);return Qe&&Rs(y,b),C}for(j=n(y,j);b<g.length;b++)E=v(j,y,b,g[b],S),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?b:E.key),m=i(E,m,b),P===null?C=E:P.sibling=E,P=E);return t&&j.forEach(function(L){return e(y,L)}),Qe&&Rs(y,b),C}function p(y,m,g,S){var C=Bo(g);if(typeof C!="function")throw Error(z(150));if(g=C.call(g),g==null)throw Error(z(151));for(var P=C=null,j=m,b=m=0,E=null,O=g.next();j!==null&&!O.done;b++,O=g.next()){j.index>b?(E=j,j=null):E=j.sibling;var L=h(y,j,O.value,S);if(L===null){j===null&&(j=E);break}t&&j&&L.alternate===null&&e(y,j),m=i(L,m,b),P===null?C=L:P.sibling=L,P=L,j=E}if(O.done)return r(y,j),Qe&&Rs(y,b),C;if(j===null){for(;!O.done;b++,O=g.next())O=f(y,O.value,S),O!==null&&(m=i(O,m,b),P===null?C=O:P.sibling=O,P=O);return Qe&&Rs(y,b),C}for(j=n(y,j);!O.done;b++,O=g.next())O=v(j,y,b,O.value,S),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?b:O.key),m=i(O,m,b),P===null?C=O:P.sibling=O,P=O);return t&&j.forEach(function(N){return e(y,N)}),Qe&&Rs(y,b),C}function w(y,m,g,S){if(typeof g=="object"&&g!==null&&g.type===Ni&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Nl:e:{for(var C=g.key,P=m;P!==null;){if(P.key===C){if(C=g.type,C===Ni){if(P.tag===7){r(y,P.sibling),m=s(P,g.props.children),m.return=y,y=m;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zn&&lg(C)===P.type){r(y,P.sibling),m=s(P,g.props),m.ref=Qo(y,P,g),m.return=y,y=m;break e}r(y,P);break}else e(y,P);P=P.sibling}g.type===Ni?(m=Zs(g.props.children,y.mode,S,g.key),m.return=y,y=m):(S=_c(g.type,g.key,g.props,null,y.mode,S),S.ref=Qo(y,m,g),S.return=y,y=S)}return o(y);case Pi:e:{for(P=g.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=Td(g,y.mode,S),m.return=y,y=m}return o(y);case zn:return P=g._init,w(y,m,P(g._payload),S)}if(ra(g))return x(y,m,g,S);if(Bo(g))return p(y,m,g,S);zl(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,g),m.return=y,y=m):(r(y,m),m=Cd(g,y.mode,S),m.return=y,y=m),o(y)):r(y,m)}return w}var wo=$w(!0),Uw=$w(!1),zc=Es(null),Bc=null,$i=null,fp=null;function hp(){fp=$i=Bc=null}function pp(t){var e=zc.current;He(zc),t._currentValue=e}function Nf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ki(t,e){Bc=t,fp=$i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(fp!==t)if(t={context:t,memoizedValue:e,next:null},$i===null){if(Bc===null)throw Error(z(308));$i=t,Bc.dependencies={lanes:0,firstContext:t}}else $i=$i.next=t;return e}var Fs=null;function mp(t){Fs===null?Fs=[t]:Fs.push(t)}function Vw(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,mp(e)):(r.next=s.next,s.next=r),e.interleaved=r,On(t,n)}function On(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Bn=!1;function gp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,On(t,r)}return s=n.interleaved,s===null?(e.next=e,mp(n)):(e.next=s.next,s.next=e),n.interleaved=e,On(t,r)}function mc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tp(t,r)}}function cg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Wc(t,e,r,n){var s=t.updateQueue;Bn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,p=a;switch(h=e,v=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(v,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,h=typeof x=="function"?x.call(v,f,h):x,h==null)break e;f=tt({},f,h);break e;case 2:Bn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=f):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ti|=o,t.lanes=o,t.memoizedState=f}}function ug(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var yl={},en=Es(yl),La=Es(yl),Ma=Es(yl);function $s(t){if(t===yl)throw Error(z(174));return t}function vp(t,e){switch(Be(Ma,e),Be(La,t),Be(en,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:df(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=df(e,t)}He(en),Be(en,e)}function xo(){He(en),He(La),He(Ma)}function Bw(t){$s(Ma.current);var e=$s(en.current),r=df(e,t.type);e!==r&&(Be(La,t),Be(en,r))}function yp(t){La.current===t&&(He(en),He(La))}var Xe=Es(0);function qc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xd=[];function wp(){for(var t=0;t<xd.length;t++)xd[t]._workInProgressVersionPrimary=null;xd.length=0}var gc=In.ReactCurrentDispatcher,_d=In.ReactCurrentBatchConfig,ei=0,et=null,pt=null,vt=null,Hc=!1,ma=!1,Fa=0,zk=0;function Et(){throw Error(z(321))}function xp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!$r(t[r],e[r]))return!1;return!0}function _p(t,e,r,n,s,i){if(ei=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gc.current=t===null||t.memoizedState===null?Hk:Kk,t=r(n,s),ma){i=0;do{if(ma=!1,Fa=0,25<=i)throw Error(z(301));i+=1,vt=pt=null,e.updateQueue=null,gc.current=Qk,t=r(n,s)}while(ma)}if(gc.current=Kc,e=pt!==null&&pt.next!==null,ei=0,vt=pt=et=null,Hc=!1,e)throw Error(z(300));return t}function bp(){var t=Fa!==0;return Fa=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?et.memoizedState=vt=t:vt=vt.next=t,vt}function br(){if(pt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=vt===null?et.memoizedState:vt.next;if(e!==null)vt=e,pt=t;else{if(t===null)throw Error(z(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},vt===null?et.memoizedState=vt=t:vt=vt.next=t}return vt}function $a(t,e){return typeof e=="function"?e(t):e}function bd(t){var e=br(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=pt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ei&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,et.lanes|=d,ti|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,$r(n,e.memoizedState)||(Ht=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,ti|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Sd(t){var e=br(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);$r(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Ww(){}function qw(t,e){var r=et,n=br(),s=e(),i=!$r(n.memoizedState,s);if(i&&(n.memoizedState=s,Ht=!0),n=n.queue,Sp(Qw.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Ua(9,Kw.bind(null,r,n,s,e),void 0,null),xt===null)throw Error(z(349));ei&30||Hw(r,e,s)}return s}function Hw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Kw(t,e,r,n){e.value=r,e.getSnapshot=n,Gw(e)&&Zw(t)}function Qw(t,e,r){return r(function(){Gw(e)&&Zw(t)})}function Gw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$r(t,r)}catch{return!0}}function Zw(t){var e=On(t,1);e!==null&&Mr(e,t,1,-1)}function dg(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=qk.bind(null,et,t),[e.memoizedState,t]}function Ua(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Jw(){return br().memoizedState}function vc(t,e,r,n){var s=qr();et.flags|=t,s.memoizedState=Ua(1|e,r,void 0,n===void 0?null:n)}function Tu(t,e,r,n){var s=br();n=n===void 0?null:n;var i=void 0;if(pt!==null){var o=pt.memoizedState;if(i=o.destroy,n!==null&&xp(n,o.deps)){s.memoizedState=Ua(e,r,i,n);return}}et.flags|=t,s.memoizedState=Ua(1|e,r,i,n)}function fg(t,e){return vc(8390656,8,t,e)}function Sp(t,e){return Tu(2048,8,t,e)}function Yw(t,e){return Tu(4,2,t,e)}function Xw(t,e){return Tu(4,4,t,e)}function e0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function t0(t,e,r){return r=r!=null?r.concat([t]):null,Tu(4,4,e0.bind(null,e,t),r)}function Ep(){}function r0(t,e){var r=br();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function n0(t,e){var r=br();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function s0(t,e,r){return ei&21?($r(r,e)||(r=cw(),et.lanes|=r,ti|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=r)}function Bk(t,e){var r=Me;Me=r!==0&&4>r?r:4,t(!0);var n=_d.transition;_d.transition={};try{t(!1),e()}finally{Me=r,_d.transition=n}}function i0(){return br().memoizedState}function Wk(t,e,r){var n=ds(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},o0(t))a0(e,r);else if(r=Vw(t,e,r,n),r!==null){var s=Ft();Mr(r,t,n,s),l0(r,e,n)}}function qk(t,e,r){var n=ds(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(o0(t))a0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,$r(a,o)){var l=e.interleaved;l===null?(s.next=s,mp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Vw(t,e,s,n),r!==null&&(s=Ft(),Mr(r,t,n,s),l0(r,e,n))}}function o0(t){var e=t.alternate;return t===et||e!==null&&e===et}function a0(t,e){ma=Hc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function l0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tp(t,r)}}var Kc={readContext:_r,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Hk={readContext:_r,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:fg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vc(4194308,4,e0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var r=qr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=qr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Wk.bind(null,et,t),[n.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:dg,useDebugValue:Ep,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=dg(!1),e=t[0];return t=Bk.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=et,s=qr();if(Qe){if(r===void 0)throw Error(z(407));r=r()}else{if(r=e(),xt===null)throw Error(z(349));ei&30||Hw(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,fg(Qw.bind(null,n,i,t),[t]),n.flags|=2048,Ua(9,Kw.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=qr(),e=xt.identifierPrefix;if(Qe){var r=Sn,n=bn;r=(n&~(1<<32-Lr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fa++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=zk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kk={readContext:_r,useCallback:r0,useContext:_r,useEffect:Sp,useImperativeHandle:t0,useInsertionEffect:Yw,useLayoutEffect:Xw,useMemo:n0,useReducer:bd,useRef:Jw,useState:function(){return bd($a)},useDebugValue:Ep,useDeferredValue:function(t){var e=br();return s0(e,pt.memoizedState,t)},useTransition:function(){var t=bd($a)[0],e=br().memoizedState;return[t,e]},useMutableSource:Ww,useSyncExternalStore:qw,useId:i0,unstable_isNewReconciler:!1},Qk={readContext:_r,useCallback:r0,useContext:_r,useEffect:Sp,useImperativeHandle:t0,useInsertionEffect:Yw,useLayoutEffect:Xw,useMemo:n0,useReducer:Sd,useRef:Jw,useState:function(){return Sd($a)},useDebugValue:Ep,useDeferredValue:function(t){var e=br();return pt===null?e.memoizedState=t:s0(e,pt.memoizedState,t)},useTransition:function(){var t=Sd($a)[0],e=br().memoizedState;return[t,e]},useMutableSource:Ww,useSyncExternalStore:qw,useId:i0,unstable_isNewReconciler:!1};function Cr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Rf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ju={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ft(),s=ds(t),i=kn(n,s);i.payload=e,r!=null&&(i.callback=r),e=cs(t,i,s),e!==null&&(Mr(e,t,s,n),mc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ft(),s=ds(t),i=kn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=cs(t,i,s),e!==null&&(Mr(e,t,s,n),mc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ft(),n=ds(t),s=kn(r,n);s.tag=2,e!=null&&(s.callback=e),e=cs(t,s,n),e!==null&&(Mr(e,t,n,r),mc(e,t,n))}};function hg(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ra(r,n)||!Ra(s,i):!0}function c0(t,e,r){var n=!1,s=ms,i=e.contextType;return typeof i=="object"&&i!==null?i=_r(i):(s=Gt(e)?Ys:Pt.current,n=e.contextTypes,i=(n=n!=null)?vo(t,s):ms),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ju,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ju.enqueueReplaceState(e,e.state,null)}function Af(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},gp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_r(i):(i=Gt(e)?Ys:Pt.current,s.context=vo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Rf(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ju.enqueueReplaceState(s,s.state,null),Wc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e){try{var r="",n=e;do r+=bE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ed(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function If(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Gk=typeof WeakMap=="function"?WeakMap:Map;function u0(t,e,r){r=kn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gc||(Gc=!0,Wf=n),If(t,e)},r}function d0(t,e,r){r=kn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){If(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){If(t,e),typeof n!="function"&&(us===null?us=new Set([this]):us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function mg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Gk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=c1.bind(null,t,e,r),e.then(t,t))}function gg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vg(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=kn(-1,1),e.tag=2,cs(r,e,1))),r.lanes|=1),t)}var Zk=In.ReactCurrentOwner,Ht=!1;function Lt(t,e,r,n){e.child=t===null?Uw(e,null,r,n):wo(e,t.child,r,n)}function yg(t,e,r,n,s){r=r.render;var i=e.ref;return Ki(e,s),n=_p(t,e,r,n,i,s),r=bp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pn(t,e,s)):(Qe&&r&&cp(e),e.flags|=1,Lt(t,e,n,s),e.child)}function wg(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Rp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,f0(t,e,i,n,s)):(t=_c(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ra,r(o,n)&&t.ref===e.ref)return Pn(t,e,s)}return e.flags|=1,t=fs(i,n),t.ref=e.ref,t.return=e,e.child=t}function f0(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ra(i,n)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Pn(t,e,s)}return Df(t,e,r,n,s)}function h0(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Vi,er),er|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Vi,er),er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Be(Vi,er),er|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Be(Vi,er),er|=n;return Lt(t,e,s,r),e.child}function p0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Df(t,e,r,n,s){var i=Gt(r)?Ys:Pt.current;return i=vo(e,i),Ki(e,s),r=_p(t,e,r,n,i,s),n=bp(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pn(t,e,s)):(Qe&&n&&cp(e),e.flags|=1,Lt(t,e,r,s),e.child)}function xg(t,e,r,n,s){if(Gt(r)){var i=!0;$c(e)}else i=!1;if(Ki(e,s),e.stateNode===null)yc(t,e),c0(e,r,n),Af(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=_r(c):(c=Gt(r)?Ys:Pt.current,c=vo(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&pg(e,o,n,c),Bn=!1;var h=e.memoizedState;o.state=h,Wc(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Qt.current||Bn?(typeof d=="function"&&(Rf(e,r,d,n),l=e.memoizedState),(a=Bn||hg(e,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,zw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cr(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Gt(r)?Ys:Pt.current,l=vo(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&pg(e,o,n,l),Bn=!1,h=e.memoizedState,o.state=h,Wc(e,n,o,s);var x=e.memoizedState;a!==f||h!==x||Qt.current||Bn?(typeof v=="function"&&(Rf(e,r,v,n),x=e.memoizedState),(c=Bn||hg(e,r,c,n,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Lf(t,e,r,n,i,s)}function Lf(t,e,r,n,s,i){p0(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&ig(e,r,!1),Pn(t,e,i);n=e.stateNode,Zk.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,i),e.child=wo(e,null,a,i)):Lt(t,e,a,i),e.memoizedState=n.state,s&&ig(e,r,!0),e.child}function m0(t){var e=t.stateNode;e.pendingContext?sg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sg(t,e.context,!1),vp(t,e.containerInfo)}function _g(t,e,r,n,s){return yo(),dp(s),e.flags|=256,Lt(t,e,r,n),e.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Ff(t){return{baseLanes:t,cachePool:null,transitions:null}}function g0(t,e,r){var n=e.pendingProps,s=Xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Xe,s&1),t===null)return Pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nu(o,n,0,null),t=Zs(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ff(r),e.memoizedState=Mf,t):kp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Jk(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=fs(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fs(a,i):(i=Zs(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Ff(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Mf,n}return i=t.child,t=i.sibling,n=fs(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function kp(t,e){return e=Nu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bl(t,e,r,n){return n!==null&&dp(n),wo(e,t.child,null,r),t=kp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jk(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Ed(Error(z(422))),Bl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Nu({mode:"visible",children:n.children},s,0,null),i=Zs(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=Ff(o),e.memoizedState=Mf,i);if(!(e.mode&1))return Bl(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(z(419)),n=Ed(i,n,void 0),Bl(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ht||a){if(n=xt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,On(t,s),Mr(n,t,s,-1))}return Np(),n=Ed(Error(z(421))),Bl(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=u1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,sr=ls(s.nextSibling),ir=e,Qe=!0,Nr=null,t!==null&&(gr[vr++]=bn,gr[vr++]=Sn,gr[vr++]=Xs,bn=t.id,Sn=t.overflow,Xs=e),e=kp(e,n.children),e.flags|=4096,e)}function bg(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Nf(t.return,e,r)}function kd(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function v0(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Lt(t,e,n.children,r),n=Xe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bg(t,r,e);else if(t.tag===19)bg(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Be(Xe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&qc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),kd(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}kd(e,!0,r,null,i);break;case"together":kd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,r=fs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=fs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Yk(t,e,r){switch(e.tag){case 3:m0(e),yo();break;case 5:Bw(e);break;case 1:Gt(e.type)&&$c(e);break;case 4:vp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Be(zc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Be(Xe,Xe.current&1),e.flags|=128,null):r&e.child.childLanes?g0(t,e,r):(Be(Xe,Xe.current&1),t=Pn(t,e,r),t!==null?t.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return v0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Xe,Xe.current),n)break;return null;case 22:case 23:return e.lanes=0,h0(t,e,r)}return Pn(t,e,r)}var y0,$f,w0,x0;y0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$f=function(){};w0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,$s(en.current);var i=null;switch(r){case"input":s=af(t,s),n=af(t,n),i=[];break;case"select":s=tt({},s,{value:void 0}),n=tt({},n,{value:void 0}),i=[];break;case"textarea":s=uf(t,s),n=uf(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Mc)}ff(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ka.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ka.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};x0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Go(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Xk(t,e,r){var n=e.pendingProps;switch(up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Gt(e.type)&&Fc(),kt(e),null;case 3:return n=e.stateNode,xo(),He(Qt),He(Pt),wp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nr!==null&&(Kf(Nr),Nr=null))),$f(t,e),kt(e),null;case 5:yp(e);var s=$s(Ma.current);if(r=e.type,t!==null&&e.stateNode!=null)w0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(z(166));return kt(e),null}if(t=$s(en.current),Vl(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Jr]=e,n[Da]=i,t=(e.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(s=0;s<sa.length;s++)qe(sa[s],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":Nm(n,i),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qe("invalid",n);break;case"textarea":Am(n,i),qe("invalid",n)}ff(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ul(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ul(n.textContent,a,t),s=["children",""+a]):ka.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",n)}switch(r){case"input":Rl(n),Rm(n,i,!0);break;case"textarea":Rl(n),Im(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Mc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qy(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Jr]=e,t[Da]=n,y0(t,e,!1,!1),e.stateNode=t;e:{switch(o=hf(r,n),r){case"dialog":qe("cancel",t),qe("close",t),s=n;break;case"iframe":case"object":case"embed":qe("load",t),s=n;break;case"video":case"audio":for(s=0;s<sa.length;s++)qe(sa[s],t);s=n;break;case"source":qe("error",t),s=n;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=n;break;case"details":qe("toggle",t),s=n;break;case"input":Nm(t,n),s=af(t,n),qe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=tt({},n,{value:void 0}),qe("invalid",t);break;case"textarea":Am(t,n),s=uf(t,n),qe("invalid",t);break;default:s=n}ff(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Jy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gy(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ca(t,l):typeof l=="number"&&Ca(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ka.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",t):l!=null&&Gh(t,i,l,o))}switch(r){case"input":Rl(t),Rm(t,n,!1);break;case"textarea":Rl(t),Im(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ps(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Bi(t,!!n.multiple,i,!1):n.defaultValue!=null&&Bi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Mc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)x0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(z(166));if(r=$s(Ma.current),$s(en.current),Vl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Jr]=e,(i=n.nodeValue!==r)&&(t=ir,t!==null))switch(t.tag){case 3:Ul(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jr]=e,e.stateNode=n}return kt(e),null;case 13:if(He(Xe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&sr!==null&&e.mode&1&&!(e.flags&128))Fw(),yo(),e.flags|=98560,i=!1;else if(i=Vl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Jr]=e}else yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),i=!1}else Nr!==null&&(Kf(Nr),Nr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?gt===0&&(gt=3):Np())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return xo(),$f(t,e),t===null&&Aa(e.stateNode.containerInfo),kt(e),null;case 10:return pp(e.type._context),kt(e),null;case 17:return Gt(e.type)&&Fc(),kt(e),null;case 19:if(He(Xe),i=e.memoizedState,i===null)return kt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Go(i,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qc(t),o!==null){for(e.flags|=128,Go(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Be(Xe,Xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>bo&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304)}else{if(!n)if(t=qc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return kt(e),null}else 2*it()-i.renderingStartTime>bo&&r!==1073741824&&(e.flags|=128,n=!0,Go(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,r=Xe.current,Be(Xe,n?r&1|2:r&1),e):(kt(e),null);case 22:case 23:return Pp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?er&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function e1(t,e){switch(up(e),e.tag){case 1:return Gt(e.type)&&Fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),He(Qt),He(Pt),wp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yp(e),null;case 13:if(He(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Xe),null;case 4:return xo(),null;case 10:return pp(e.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var Wl=!1,jt=!1,t1=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ui(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(t,e,n)}else r.current=null}function Uf(t,e,r){try{r()}catch(n){nt(t,e,n)}}var Sg=!1;function r1(t,e){if(Sf=Ic,t=kw(),lp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===r&&++c===s&&(a=o),h===i&&++d===n&&(l=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ef={focusedElem:t,selectionRange:r},Ic=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,w=x.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:Cr(e.type,p),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){nt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return x=Sg,Sg=!1,x}function ga(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uf(e,r,i)}s=s.next}while(s!==n)}}function Ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Vf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function _0(t){var e=t.alternate;e!==null&&(t.alternate=null,_0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[Da],delete e[Tf],delete e[Fk],delete e[$k])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function b0(t){return t.tag===5||t.tag===3||t.tag===4}function Eg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Mc));else if(n!==4&&(t=t.child,t!==null))for(zf(t,e,r),t=t.sibling;t!==null;)zf(t,e,r),t=t.sibling}function Bf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Bf(t,e,r),t=t.sibling;t!==null;)Bf(t,e,r),t=t.sibling}var _t=null,Or=!1;function Dn(t,e,r){for(r=r.child;r!==null;)S0(t,e,r),r=r.sibling}function S0(t,e,r){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(_u,r)}catch{}switch(r.tag){case 5:jt||Ui(r,e);case 6:var n=_t,s=Or;_t=null,Dn(t,e,r),_t=n,Or=s,_t!==null&&(Or?(t=_t,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(Or?(t=_t,r=r.stateNode,t.nodeType===8?yd(t.parentNode,r):t.nodeType===1&&yd(t,r),Pa(t)):yd(_t,r.stateNode));break;case 4:n=_t,s=Or,_t=r.stateNode.containerInfo,Or=!0,Dn(t,e,r),_t=n,Or=s;break;case 0:case 11:case 14:case 15:if(!jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Uf(r,e,o),s=s.next}while(s!==n)}Dn(t,e,r);break;case 1:if(!jt&&(Ui(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){nt(r,e,a)}Dn(t,e,r);break;case 21:Dn(t,e,r);break;case 22:r.mode&1?(jt=(n=jt)||r.memoizedState!==null,Dn(t,e,r),jt=n):Dn(t,e,r);break;default:Dn(t,e,r)}}function kg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new t1),e.forEach(function(n){var s=d1.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Sr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Or=!1;break e;case 3:_t=a.stateNode.containerInfo,Or=!0;break e;case 4:_t=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(_t===null)throw Error(z(160));S0(i,o,s),_t=null,Or=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){nt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)E0(e,t),e=e.sibling}function E0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(e,t),Br(t),n&4){try{ga(3,t,t.return),Ou(3,t)}catch(p){nt(t,t.return,p)}try{ga(5,t,t.return)}catch(p){nt(t,t.return,p)}}break;case 1:Sr(e,t),Br(t),n&512&&r!==null&&Ui(r,r.return);break;case 5:if(Sr(e,t),Br(t),n&512&&r!==null&&Ui(r,r.return),t.flags&32){var s=t.stateNode;try{Ca(s,"")}catch(p){nt(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Hy(s,i),hf(a,o);var c=hf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Jy(s,f):d==="dangerouslySetInnerHTML"?Gy(s,f):d==="children"?Ca(s,f):Gh(s,d,f,c)}switch(a){case"input":lf(s,i);break;case"textarea":Ky(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Bi(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Bi(s,!!i.multiple,i.defaultValue,!0):Bi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Da]=i}catch(p){nt(t,t.return,p)}}break;case 6:if(Sr(e,t),Br(t),n&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){nt(t,t.return,p)}}break;case 3:if(Sr(e,t),Br(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(e.containerInfo)}catch(p){nt(t,t.return,p)}break;case 4:Sr(e,t),Br(t);break;case 13:Sr(e,t),Br(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jp=it())),n&4&&kg(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(jt=(c=jt)||d,Sr(e,t),jt=c):Sr(e,t),Br(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(f=re=d;re!==null;){switch(h=re,v=h.child,h.tag){case 0:case 11:case 14:case 15:ga(4,h,h.return);break;case 1:Ui(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(p){nt(n,r,p)}}break;case 5:Ui(h,h.return);break;case 22:if(h.memoizedState!==null){Tg(f);continue}}v!==null?(v.return=h,re=v):Tg(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zy("display",o))}catch(p){nt(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){nt(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sr(e,t),Br(t),n&4&&kg(t);break;case 21:break;default:Sr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(b0(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ca(s,""),n.flags&=-33);var i=Eg(t);Bf(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Eg(t);zf(t,a,o);break;default:throw Error(z(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n1(t,e,r){re=t,k0(t)}function k0(t,e,r){for(var n=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Wl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jt;a=Wl;var c=jt;if(Wl=o,(jt=l)&&!c)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?jg(s):l!==null?(l.return=o,re=l):jg(s);for(;i!==null;)re=i,k0(i),i=i.sibling;re=s,Wl=a,jt=c}Cg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):Cg(t)}}function Cg(t){for(;re!==null;){var e=re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Ou(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!jt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Cr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ug(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ug(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}jt||e.flags&512&&Vf(e)}catch(h){nt(e,e.return,h)}}if(e===t){re=null;break}if(r=e.sibling,r!==null){r.return=e.return,re=r;break}re=e.return}}function Tg(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,re=r;break}re=e.return}}function jg(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ou(4,e)}catch(l){nt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){nt(e,s,l)}}var i=e.return;try{Vf(e)}catch(l){nt(e,i,l)}break;case 5:var o=e.return;try{Vf(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var s1=Math.ceil,Qc=In.ReactCurrentDispatcher,Cp=In.ReactCurrentOwner,xr=In.ReactCurrentBatchConfig,Ae=0,xt=null,ut=null,bt=0,er=0,Vi=Es(0),gt=0,Va=null,ti=0,Pu=0,Tp=0,va=null,Wt=null,jp=0,bo=1/0,gn=null,Gc=!1,Wf=null,us=null,ql=!1,ss=null,Zc=0,ya=0,qf=null,wc=-1,xc=0;function Ft(){return Ae&6?it():wc!==-1?wc:wc=it()}function ds(t){return t.mode&1?Ae&2&&bt!==0?bt&-bt:Vk.transition!==null?(xc===0&&(xc=cw()),xc):(t=Me,t!==0||(t=window.event,t=t===void 0?16:gw(t.type)),t):1}function Mr(t,e,r,n){if(50<ya)throw ya=0,qf=null,Error(z(185));ml(t,r,n),(!(Ae&2)||t!==xt)&&(t===xt&&(!(Ae&2)&&(Pu|=r),gt===4&&qn(t,bt)),Zt(t,n),r===1&&Ae===0&&!(e.mode&1)&&(bo=it()+500,Cu&&ks()))}function Zt(t,e){var r=t.callbackNode;VE(t,e);var n=Ac(t,t===xt?bt:0);if(n===0)r!==null&&Mm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Mm(r),e===1)t.tag===0?Uk(Og.bind(null,t)):Dw(Og.bind(null,t)),Lk(function(){!(Ae&6)&&ks()}),r=null;else{switch(uw(n)){case 1:r=ep;break;case 4:r=aw;break;case 16:r=Rc;break;case 536870912:r=lw;break;default:r=Rc}r=A0(r,C0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function C0(t,e){if(wc=-1,xc=0,Ae&6)throw Error(z(327));var r=t.callbackNode;if(Qi()&&t.callbackNode!==r)return null;var n=Ac(t,t===xt?bt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Jc(t,n);else{e=n;var s=Ae;Ae|=2;var i=j0();(xt!==t||bt!==e)&&(gn=null,bo=it()+500,Gs(t,e));do try{a1();break}catch(a){T0(t,a)}while(!0);hp(),Qc.current=i,Ae=s,ut!==null?e=0:(xt=null,bt=0,e=gt)}if(e!==0){if(e===2&&(s=yf(t),s!==0&&(n=s,e=Hf(t,s))),e===1)throw r=Va,Gs(t,0),qn(t,n),Zt(t,it()),r;if(e===6)qn(t,n);else{if(s=t.current.alternate,!(n&30)&&!i1(s)&&(e=Jc(t,n),e===2&&(i=yf(t),i!==0&&(n=i,e=Hf(t,i))),e===1))throw r=Va,Gs(t,0),qn(t,n),Zt(t,it()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(z(345));case 2:As(t,Wt,gn);break;case 3:if(qn(t,n),(n&130023424)===n&&(e=jp+500-it(),10<e)){if(Ac(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ft(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Cf(As.bind(null,t,Wt,gn),e);break}As(t,Wt,gn);break;case 4:if(qn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Lr(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*s1(n/1960))-n,10<n){t.timeoutHandle=Cf(As.bind(null,t,Wt,gn),n);break}As(t,Wt,gn);break;case 5:As(t,Wt,gn);break;default:throw Error(z(329))}}}return Zt(t,it()),t.callbackNode===r?C0.bind(null,t):null}function Hf(t,e){var r=va;return t.current.memoizedState.isDehydrated&&(Gs(t,e).flags|=256),t=Jc(t,e),t!==2&&(e=Wt,Wt=r,e!==null&&Kf(e)),t}function Kf(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function i1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!$r(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(t,e){for(e&=~Tp,e&=~Pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Lr(e),n=1<<r;t[r]=-1,e&=~n}}function Og(t){if(Ae&6)throw Error(z(327));Qi();var e=Ac(t,0);if(!(e&1))return Zt(t,it()),null;var r=Jc(t,e);if(t.tag!==0&&r===2){var n=yf(t);n!==0&&(e=n,r=Hf(t,n))}if(r===1)throw r=Va,Gs(t,0),qn(t,e),Zt(t,it()),r;if(r===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,Wt,gn),Zt(t,it()),null}function Op(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(bo=it()+500,Cu&&ks())}}function ri(t){ss!==null&&ss.tag===0&&!(Ae&6)&&Qi();var e=Ae;Ae|=1;var r=xr.transition,n=Me;try{if(xr.transition=null,Me=1,t)return t()}finally{Me=n,xr.transition=r,Ae=e,!(Ae&6)&&ks()}}function Pp(){er=Vi.current,He(Vi)}function Gs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Dk(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(up(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fc();break;case 3:xo(),He(Qt),He(Pt),wp();break;case 5:yp(n);break;case 4:xo();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:pp(n.type._context);break;case 22:case 23:Pp()}r=r.return}if(xt=t,ut=t=fs(t.current,null),bt=er=e,gt=0,Va=null,Tp=Pu=ti=0,Wt=va=null,Fs!==null){for(e=0;e<Fs.length;e++)if(r=Fs[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Fs=null}return t}function T0(t,e){do{var r=ut;try{if(hp(),gc.current=Kc,Hc){for(var n=et.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hc=!1}if(ei=0,vt=pt=et=null,ma=!1,Fa=0,Cp.current=null,r===null||r.return===null){gt=1,Va=e,ut=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=gg(o);if(v!==null){v.flags&=-257,vg(v,o,a,i,e),v.mode&1&&mg(i,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var p=new Set;p.add(l),e.updateQueue=p}else x.add(l);break e}else{if(!(e&1)){mg(i,c,e),Np();break e}l=Error(z(426))}}else if(Qe&&a.mode&1){var w=gg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vg(w,o,a,i,e),dp(_o(l,a));break e}}i=l=_o(l,a),gt!==4&&(gt=2),va===null?va=[i]:va.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=u0(i,l,e);cg(i,y);break e;case 1:a=l;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(us===null||!us.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=d0(i,a,e);cg(i,S);break e}}i=i.return}while(i!==null)}P0(r)}catch(C){e=C,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function j0(){var t=Qc.current;return Qc.current=Kc,t===null?Kc:t}function Np(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||!(ti&268435455)&&!(Pu&268435455)||qn(xt,bt)}function Jc(t,e){var r=Ae;Ae|=2;var n=j0();(xt!==t||bt!==e)&&(gn=null,Gs(t,e));do try{o1();break}catch(s){T0(t,s)}while(!0);if(hp(),Ae=r,Qc.current=n,ut!==null)throw Error(z(261));return xt=null,bt=0,gt}function o1(){for(;ut!==null;)O0(ut)}function a1(){for(;ut!==null&&!RE();)O0(ut)}function O0(t){var e=R0(t.alternate,t,er);t.memoizedProps=t.pendingProps,e===null?P0(t):ut=e,Cp.current=null}function P0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=e1(r,e),r!==null){r.flags&=32767,ut=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ut=null;return}}else if(r=Xk(r,e,er),r!==null){ut=r;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);gt===0&&(gt=5)}function As(t,e,r){var n=Me,s=xr.transition;try{xr.transition=null,Me=1,l1(t,e,r,n)}finally{xr.transition=s,Me=n}return null}function l1(t,e,r,n){do Qi();while(ss!==null);if(Ae&6)throw Error(z(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(zE(t,i),t===xt&&(ut=xt=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ql||(ql=!0,A0(Rc,function(){return Qi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var o=Me;Me=1;var a=Ae;Ae|=4,Cp.current=null,r1(t,r),E0(r,t),jk(Ef),Ic=!!Sf,Ef=Sf=null,t.current=r,n1(r),AE(),Ae=a,Me=o,xr.transition=i}else t.current=r;if(ql&&(ql=!1,ss=t,Zc=s),i=t.pendingLanes,i===0&&(us=null),LE(r.stateNode),Zt(t,it()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Gc)throw Gc=!1,t=Wf,Wf=null,t;return Zc&1&&t.tag!==0&&Qi(),i=t.pendingLanes,i&1?t===qf?ya++:(ya=0,qf=t):ya=0,ks(),null}function Qi(){if(ss!==null){var t=uw(Zc),e=xr.transition,r=Me;try{if(xr.transition=null,Me=16>t?16:t,ss===null)var n=!1;else{if(t=ss,ss=null,Zc=0,Ae&6)throw Error(z(331));var s=Ae;for(Ae|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:ga(8,d,i)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var h=d.sibling,v=d.return;if(_0(d),d===c){re=null;break}if(h!==null){h.return=v,re=h;break}re=v}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ga(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,re=y;break e}re=i.return}}var m=t.current;for(re=m;re!==null;){o=re;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,re=g;else e:for(o=m;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ou(9,a)}}catch(C){nt(a,a.return,C)}if(a===o){re=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,re=S;break e}re=a.return}}if(Ae=s,ks(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(_u,t)}catch{}n=!0}return n}finally{Me=r,xr.transition=e}}return!1}function Pg(t,e,r){e=_o(r,e),e=u0(t,e,1),t=cs(t,e,1),e=Ft(),t!==null&&(ml(t,1,e),Zt(t,e))}function nt(t,e,r){if(t.tag===3)Pg(t,t,r);else for(;e!==null;){if(e.tag===3){Pg(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(us===null||!us.has(n))){t=_o(r,t),t=d0(e,t,1),e=cs(e,t,1),t=Ft(),e!==null&&(ml(e,1,t),Zt(e,t));break}}e=e.return}}function c1(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&r,xt===t&&(bt&r)===r&&(gt===4||gt===3&&(bt&130023424)===bt&&500>it()-jp?Gs(t,0):Tp|=r),Zt(t,e)}function N0(t,e){e===0&&(t.mode&1?(e=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):e=1);var r=Ft();t=On(t,e),t!==null&&(ml(t,e,r),Zt(t,r))}function u1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),N0(t,r)}function d1(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(e),N0(t,r)}var R0;R0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Ht=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ht=!1,Yk(t,e,r);Ht=!!(t.flags&131072)}else Ht=!1,Qe&&e.flags&1048576&&Lw(e,Vc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;yc(t,e),t=e.pendingProps;var s=vo(e,Pt.current);Ki(e,r),s=_p(null,e,n,t,s,r);var i=bp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(n)?(i=!0,$c(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gp(e),s.updater=ju,e.stateNode=s,s._reactInternals=e,Af(e,n,t,r),e=Lf(null,e,n,!0,i,r)):(e.tag=0,Qe&&i&&cp(e),Lt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(yc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=h1(n),t=Cr(n,t),s){case 0:e=Df(null,e,n,t,r);break e;case 1:e=xg(null,e,n,t,r);break e;case 11:e=yg(null,e,n,t,r);break e;case 14:e=wg(null,e,n,Cr(n.type,t),r);break e}throw Error(z(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Cr(n,s),Df(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Cr(n,s),xg(t,e,n,s,r);case 3:e:{if(m0(e),t===null)throw Error(z(387));n=e.pendingProps,i=e.memoizedState,s=i.element,zw(t,e),Wc(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=_o(Error(z(423)),e),e=_g(t,e,n,r,s);break e}else if(n!==s){s=_o(Error(z(424)),e),e=_g(t,e,n,r,s);break e}else for(sr=ls(e.stateNode.containerInfo.firstChild),ir=e,Qe=!0,Nr=null,r=Uw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yo(),n===s){e=Pn(t,e,r);break e}Lt(t,e,n,r)}e=e.child}return e;case 5:return Bw(e),t===null&&Pf(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,kf(n,s)?o=null:i!==null&&kf(n,i)&&(e.flags|=32),p0(t,e),Lt(t,e,o,r),e.child;case 6:return t===null&&Pf(e),null;case 13:return g0(t,e,r);case 4:return vp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wo(e,null,n,r):Lt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Cr(n,s),yg(t,e,n,s,r);case 7:return Lt(t,e,e.pendingProps,r),e.child;case 8:return Lt(t,e,e.pendingProps.children,r),e.child;case 12:return Lt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(zc,n._currentValue),n._currentValue=o,i!==null)if($r(i.value,o)){if(i.children===s.children&&!Qt.current){e=Pn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=kn(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Nf(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Nf(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Lt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ki(e,r),s=_r(s),n=n(s),e.flags|=1,Lt(t,e,n,r),e.child;case 14:return n=e.type,s=Cr(n,e.pendingProps),s=Cr(n.type,s),wg(t,e,n,s,r);case 15:return f0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Cr(n,s),yc(t,e),e.tag=1,Gt(n)?(t=!0,$c(e)):t=!1,Ki(e,r),c0(e,n,s),Af(e,n,s,r),Lf(null,e,n,!0,t,r);case 19:return v0(t,e,r);case 22:return h0(t,e,r)}throw Error(z(156,e.tag))};function A0(t,e){return ow(t,e)}function f1(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,r,n){return new f1(t,e,r,n)}function Rp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function h1(t){if(typeof t=="function")return Rp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jh)return 11;if(t===Yh)return 14}return 2}function fs(t,e){var r=t.alternate;return r===null?(r=wr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function _c(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Rp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ni:return Zs(r.children,s,i,e);case Zh:o=8,s|=8;break;case rf:return t=wr(12,r,e,s|2),t.elementType=rf,t.lanes=i,t;case nf:return t=wr(13,r,e,s),t.elementType=nf,t.lanes=i,t;case sf:return t=wr(19,r,e,s),t.elementType=sf,t.lanes=i,t;case By:return Nu(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vy:o=10;break e;case zy:o=9;break e;case Jh:o=11;break e;case Yh:o=14;break e;case zn:o=16,n=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=wr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Zs(t,e,r,n){return t=wr(7,t,n,e),t.lanes=r,t}function Nu(t,e,r,n){return t=wr(22,t,n,e),t.elementType=By,t.lanes=r,t.stateNode={isHidden:!1},t}function Cd(t,e,r){return t=wr(6,t,null,e),t.lanes=r,t}function Td(t,e,r){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p1(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ap(t,e,r,n,s,i,o,a,l){return t=new p1(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gp(i),t}function m1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function I0(t){if(!t)return ms;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var r=t.type;if(Gt(r))return Iw(t,r,e)}return e}function D0(t,e,r,n,s,i,o,a,l){return t=Ap(r,n,!0,t,s,i,o,a,l),t.context=I0(null),r=t.current,n=Ft(),s=ds(r),i=kn(n,s),i.callback=e??null,cs(r,i,s),t.current.lanes=s,ml(t,s,n),Zt(t,n),t}function Ru(t,e,r,n){var s=e.current,i=Ft(),o=ds(s);return r=I0(r),e.context===null?e.context=r:e.pendingContext=r,e=kn(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=cs(s,e,o),t!==null&&(Mr(t,s,o,i),mc(t,s,o)),o}function Yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ng(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ip(t,e){Ng(t,e),(t=t.alternate)&&Ng(t,e)}function g1(){return null}var L0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dp(t){this._internalRoot=t}Au.prototype.render=Dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Ru(t,e,null,null)};Au.prototype.unmount=Dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ri(function(){Ru(null,t,null,null)}),e[jn]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var e=hw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Wn.length&&e!==0&&e<Wn[r].priority;r++);Wn.splice(r,0,t),r===0&&mw(t)}};function Lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rg(){}function v1(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Yc(o);i.call(c)}}var o=D0(e,n,t,0,null,!1,!1,"",Rg);return t._reactRootContainer=o,t[jn]=o.current,Aa(t.nodeType===8?t.parentNode:t),ri(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Yc(l);a.call(c)}}var l=Ap(t,0,!1,null,null,!1,!1,"",Rg);return t._reactRootContainer=l,t[jn]=l.current,Aa(t.nodeType===8?t.parentNode:t),ri(function(){Ru(e,l,r,n)}),l}function Du(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Yc(o);a.call(l)}}Ru(e,o,t,s)}else o=v1(r,e,t,s,n);return Yc(o)}dw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=na(e.pendingLanes);r!==0&&(tp(e,r|1),Zt(e,it()),!(Ae&6)&&(bo=it()+500,ks()))}break;case 13:ri(function(){var n=On(t,1);if(n!==null){var s=Ft();Mr(n,t,1,s)}}),Ip(t,1)}};rp=function(t){if(t.tag===13){var e=On(t,134217728);if(e!==null){var r=Ft();Mr(e,t,134217728,r)}Ip(t,134217728)}};fw=function(t){if(t.tag===13){var e=ds(t),r=On(t,e);if(r!==null){var n=Ft();Mr(r,t,e,n)}Ip(t,e)}};hw=function(){return Me};pw=function(t,e){var r=Me;try{return Me=t,e()}finally{Me=r}};mf=function(t,e,r){switch(e){case"input":if(lf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ku(n);if(!s)throw Error(z(90));qy(n),lf(n,s)}}}break;case"textarea":Ky(t,r);break;case"select":e=r.value,e!=null&&Bi(t,!!r.multiple,e,!1)}};ew=Op;tw=ri;var y1={usingClientEntryPoint:!1,Events:[vl,Di,ku,Yy,Xy,Op]},Zo={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w1={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sw(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||g1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{_u=Hl.inject(w1),Xr=Hl}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;dr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(e))throw Error(z(200));return m1(t,e,null,r)};dr.createRoot=function(t,e){if(!Lp(t))throw Error(z(299));var r=!1,n="",s=L0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ap(t,1,!1,null,null,r,!1,n,s),t[jn]=e.current,Aa(t.nodeType===8?t.parentNode:t),new Dp(e)};dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=sw(e),t=t===null?null:t.stateNode,t};dr.flushSync=function(t){return ri(t)};dr.hydrate=function(t,e,r){if(!Iu(e))throw Error(z(200));return Du(null,t,e,!0,r)};dr.hydrateRoot=function(t,e,r){if(!Lp(t))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=L0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=D0(e,null,t,1,r??null,s,!1,i,o),t[jn]=e.current,Aa(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Au(e)};dr.render=function(t,e,r){if(!Iu(e))throw Error(z(200));return Du(null,t,e,!1,r)};dr.unmountComponentAtNode=function(t){if(!Iu(t))throw Error(z(40));return t._reactRootContainer?(ri(function(){Du(null,null,t,!1,function(){t._reactRootContainer=null,t[jn]=null})}),!0):!1};dr.unstable_batchedUpdates=Op;dr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Iu(r))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Du(t,e,r,!1,n)};dr.version="18.3.1-next-f1338f8080-20240426";function M0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M0)}catch(t){console.error(t)}}M0(),My.exports=dr;var fi=My.exports;const x1=zh(fi);var F0,Ag=fi;F0=Ag.createRoot,Ag.hydrateRoot;function _1(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)r=s[0],r==="*"?(o.push(r),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),a+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~n?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var $0={exports:{}},U0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=_;function b1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var S1=typeof Object.is=="function"?Object.is:b1,E1=So.useState,k1=So.useEffect,C1=So.useLayoutEffect,T1=So.useDebugValue;function j1(t,e){var r=e(),n=E1({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return C1(function(){s.value=r,s.getSnapshot=e,jd(s)&&i({inst:s})},[t,r,e]),k1(function(){return jd(s)&&i({inst:s}),t(function(){jd(s)&&i({inst:s})})},[t]),T1(r),r}function jd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!S1(t,r)}catch{return!0}}function O1(t,e){return e()}var P1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O1:j1;U0.useSyncExternalStore=So.useSyncExternalStore!==void 0?So.useSyncExternalStore:P1;$0.exports=U0;var N1=$0.exports;const R1=Dy.useInsertionEffect,A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I1=A1?_.useLayoutEffect:_.useEffect,D1=R1||I1,V0=t=>{const e=_.useRef([t,(...r)=>e[0](...r)]).current;return D1(()=>{e[0]=t}),e[1]},L1="popstate",Mp="pushState",Fp="replaceState",M1="hashchange",Ig=[L1,Mp,Fp,M1],F1=t=>{for(const e of Ig)addEventListener(e,t);return()=>{for(const e of Ig)removeEventListener(e,t)}},z0=(t,e)=>N1.useSyncExternalStore(F1,t,e),$1=()=>location.search,U1=({ssrSearch:t=""}={})=>z0($1,()=>t),Dg=()=>location.pathname,V1=({ssrPath:t}={})=>z0(Dg,t?()=>t:Dg),z1=(t,{replace:e=!1,state:r=null}={})=>history[e?Fp:Mp](r,"",t),B1=(t={})=>[V1(t),z1],Lg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Lg]>"u"){for(const t of[Mp,Fp]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Lg,{value:!0})}const W1=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",B0=(t="")=>t==="/"?"":t,q1=(t,e)=>t[0]==="~"?t.slice(1):B0(e)+t,H1=(t="",e)=>W1(Mg(B0(t)),Mg(e)),Mg=t=>{try{return decodeURI(t)}catch{return t}},W0={hook:B1,searchHook:U1,parser:_1,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},q0=_.createContext(W0),wl=()=>_.useContext(q0),H0={},K0=_.createContext(H0),K1=()=>_.useContext(K0),Lu=t=>{const[e,r]=t.hook(t);return[H1(t.base,e),V0((n,s)=>r(q1(n,t.base),s))]},xl=()=>Lu(wl()),Q0=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=s.exec(r)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...n?[a]:[]]:[!1,null]},Q1=({children:t,...e})=>{var d,f;const r=wl(),n=e.hook?W0:r;let s=n;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=_.useRef({}),l=a.current,c=l;for(let h in n){const v=h==="base"?n[h]+(e[h]||""):e[h]||n[h];l===c&&v!==c[h]&&(a.current=c={...c}),c[h]=v,v!==n[h]&&(s=c)}return _.createElement(q0.Provider,{value:s,children:t})},Fg=({children:t,component:e},r)=>e?_.createElement(e,{params:r}):typeof t=="function"?t(r):t,G1=t=>{let e=_.useRef(H0),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Jt=({path:t,nest:e,match:r,...n})=>{const s=wl(),[i]=Lu(s),[o,a,l]=r??Q0(s.parser,t,i,e),c=G1({...K1(),...a});if(!o)return null;const d=l?_.createElement(Q1,{base:l},Fg(n,c)):Fg(n,c);return _.createElement(K0.Provider,{value:c,children:d})},hs=_.forwardRef((t,e)=>{const r=wl(),[n,s]=Lu(r),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:f,state:h,...v}=t,x=V0(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return l&&_.isValidElement(c)?_.cloneElement(c,{onClick:x,href:p}):_.createElement("a",{...v,onClick:x,href:p,className:d!=null&&d.call?d(n===o):d,children:c,ref:e})}),G0=t=>Array.isArray(t)?t.flatMap(e=>G0(e&&e.type===_.Fragment?e.props.children:e)):[t],Z1=({children:t,location:e})=>{const r=wl(),[n]=Lu(r);for(const s of G0(t)){let i=0;if(_.isValidElement(s)&&(i=Q0(r.parser,s.props.path,e||n,s.props.nest))[0])return _.cloneElement(s,{match:i})}return null};var Do=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ni=typeof window>"u"||"Deno"in globalThis;function mr(){}function J1(t,e){return typeof t=="function"?t(e):t}function Qf(t){return typeof t=="number"&&t>=0&&t!==1/0}function Z0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gi(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function $g(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==$p(o,e.options))return!1}else if(!za(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Ug(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(si(e.options.mutationKey)!==si(i))return!1}else if(!za(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function $p(t,e){return((e==null?void 0:e.queryKeyHashFn)||si)(t)}function si(t){return JSON.stringify(t,(e,r)=>Gf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function za(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!za(t[r],e[r])):!1}function J0(t,e){if(t===e)return t;const r=Vg(t)&&Vg(e);if(r||Gf(t)&&Gf(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{};let l=0;for(let c=0;c<o;c++){const d=r?c:i[c];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=J0(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Xc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Vg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gf(t){if(!zg(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!zg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function zg(t){return Object.prototype.toString.call(t)==="[object Object]"}function Y1(t){return new Promise(e=>{setTimeout(e,t)})}function Zf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?J0(t,e):e}function X1(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function eC(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Up=Symbol();function Y0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Up?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zs,Qn,ro,py,tC=(py=class extends Do{constructor(){super();fe(this,zs);fe(this,Qn);fe(this,ro);Y(this,ro,e=>{if(!ni&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,Qn)||this.setEventListener(T(this,ro))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Qn))==null||e.call(this),Y(this,Qn,void 0))}setEventListener(e){var r;Y(this,ro,e),(r=T(this,Qn))==null||r.call(this),Y(this,Qn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){T(this,zs)!==e&&(Y(this,zs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof T(this,zs)=="boolean"?T(this,zs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zs=new WeakMap,Qn=new WeakMap,ro=new WeakMap,py),Vp=new tC,no,Gn,so,my,rC=(my=class extends Do{constructor(){super();fe(this,no,!0);fe(this,Gn);fe(this,so);Y(this,so,e=>{if(!ni&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){T(this,Gn)||this.setEventListener(T(this,so))}onUnsubscribe(){var e;this.hasListeners()||((e=T(this,Gn))==null||e.call(this),Y(this,Gn,void 0))}setEventListener(e){var r;Y(this,so,e),(r=T(this,Gn))==null||r.call(this),Y(this,Gn,e(this.setOnline.bind(this)))}setOnline(e){T(this,no)!==e&&(Y(this,no,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return T(this,no)}},no=new WeakMap,Gn=new WeakMap,so=new WeakMap,my),eu=new rC;function Jf(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function nC(t){return Math.min(1e3*2**t,3e4)}function X0(t){return(t??"online")==="online"?eu.isOnline():!0}var ex=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Od(t){return t instanceof ex}function tx(t){let e=!1,r=0,n=!1,s;const i=Jf(),o=p=>{var w;n||(h(new ex(p)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Vp.isFocused()&&(t.networkMode==="always"||eu.isOnline())&&t.canRun(),d=()=>X0(t.networkMode)&&t.canRun(),f=p=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,p),s==null||s(),i.resolve(p))},h=p=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,p),s==null||s(),i.reject(p))},v=()=>new Promise(p=>{var w;s=y=>{(n||c())&&p(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var p;s=void 0,n||(p=t.onContinue)==null||p.call(t)}),x=()=>{if(n)return;let p;const w=r===0?t.initialPromise:void 0;try{p=w??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var P;if(n)return;const m=t.retry??(ni?0:3),g=t.retryDelay??nC,S=typeof g=="function"?g(r,y):g,C=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,y);if(e||!C){h(y);return}r++,(P=t.onFail)==null||P.call(t,r,y),Y1(S).then(()=>c()?void 0:v()).then(()=>{e?h(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():v().then(x),i)}}function sC(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var mt=sC(),Bs,gy,rx=(gy=class{constructor(){fe(this,Bs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qf(this.gcTime)&&Y(this,Bs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ni?1/0:5*60*1e3))}clearGcTimeout(){T(this,Bs)&&(clearTimeout(T(this,Bs)),Y(this,Bs,void 0))}},Bs=new WeakMap,gy),io,oo,pr,Tt,ul,Ws,jr,pn,vy,iC=(vy=class extends rx{constructor(e){super();fe(this,jr);fe(this,io);fe(this,oo);fe(this,pr);fe(this,Tt);fe(this,ul);fe(this,Ws);Y(this,Ws,!1),Y(this,ul,e.defaultOptions),this.setOptions(e.options),this.observers=[],Y(this,pr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Y(this,io,oC(this.options)),this.state=e.state??T(this,io),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=T(this,Tt))==null?void 0:e.promise}setOptions(e){this.options={...T(this,ul),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,pr).remove(this)}setData(e,r){const n=Zf(this.state.data,e,this.options);return be(this,jr,pn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){be(this,jr,pn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=T(this,Tt))==null?void 0:n.promise;return(s=T(this,Tt))==null||s.cancel(e),r?r.then(mr).catch(mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,io))}isActive(){return this.observers.some(e=>Rr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Up||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Z0(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,Tt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=T(this,Tt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),T(this,pr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(T(this,Tt)&&(T(this,Ws)?T(this,Tt).cancel({revert:!0}):T(this,Tt).cancelRetry()),this.scheduleGc()),T(this,pr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,jr,pn).call(this,{type:"invalidate"})}fetch(e,r){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,Tt))return T(this,Tt).continueRetry(),T(this,Tt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Y(this,Ws,!0),n.signal)})},i=()=>{const f=Y0(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),Y(this,Ws,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),Y(this,oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&be(this,jr,pn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,v,x,p;Od(f)&&f.silent||be(this,jr,pn).call(this,{type:"error",error:f}),Od(f)||((v=(h=T(this,pr).config).onError)==null||v.call(h,f,this),(p=(x=T(this,pr).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return Y(this,Tt,tx({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,v,x,p;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(v=(h=T(this,pr).config).onSuccess)==null||v.call(h,f,this),(p=(x=T(this,pr).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{be(this,jr,pn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{be(this,jr,pn).call(this,{type:"pause"})},onContinue:()=>{be(this,jr,pn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),T(this,Tt).start()}},io=new WeakMap,oo=new WeakMap,pr=new WeakMap,Tt=new WeakMap,ul=new WeakMap,Ws=new WeakMap,jr=new WeakSet,pn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nx(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Od(s)&&s.revert&&T(this,oo)?{...T(this,oo),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),mt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),T(this,pr).notify({query:this,type:"updated",action:e})})},vy);function nx(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function oC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kr,yy,aC=(yy=class extends Do{constructor(e={}){super();fe(this,Kr);this.config=e,Y(this,Kr,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??$p(s,r);let o=this.get(i);return o||(o=new iC({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){T(this,Kr).has(e.queryHash)||(T(this,Kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=T(this,Kr).get(e.queryHash);r&&(e.destroy(),r===e&&T(this,Kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return T(this,Kr).get(e)}getAll(){return[...T(this,Kr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>$g(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>$g(e,n)):r}notify(e){mt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kr=new WeakMap,yy),Qr,At,qs,Gr,$n,wy,lC=(wy=class extends rx{constructor(e){super();fe(this,Gr);fe(this,Qr);fe(this,At);fe(this,qs);this.mutationId=e.mutationId,Y(this,At,e.mutationCache),Y(this,Qr,[]),this.state=e.state||sx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){T(this,Qr).includes(e)||(T(this,Qr).push(e),this.clearGcTimeout(),T(this,At).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Y(this,Qr,T(this,Qr).filter(r=>r!==e)),this.scheduleGc(),T(this,At).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){T(this,Qr).length||(this.state.status==="pending"?this.scheduleGc():T(this,At).remove(this))}continue(){var e;return((e=T(this,qs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,d,f,h,v,x,p,w,y,m,g,S,C,P,j;Y(this,qs,tx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(b,E)=>{be(this,Gr,$n).call(this,{type:"failed",failureCount:b,error:E})},onPause:()=>{be(this,Gr,$n).call(this,{type:"pause"})},onContinue:()=>{be(this,Gr,$n).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,At).canRun(this)}));const r=this.state.status==="pending",n=!T(this,qs).canStart();try{if(!r){be(this,Gr,$n).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=T(this,At).config).onMutate)==null?void 0:i.call(s,e,this));const E=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));E!==this.state.context&&be(this,Gr,$n).call(this,{type:"pending",context:E,variables:e,isPaused:n})}const b=await T(this,qs).start();return await((c=(l=T(this,At).config).onSuccess)==null?void 0:c.call(l,b,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,b,e,this.state.context)),await((v=(h=T(this,At).config).onSettled)==null?void 0:v.call(h,b,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,b,null,e,this.state.context)),be(this,Gr,$n).call(this,{type:"success",data:b}),b}catch(b){try{throw await((y=(w=T(this,At).config).onError)==null?void 0:y.call(w,b,e,this.state.context,this)),await((g=(m=this.options).onError)==null?void 0:g.call(m,b,e,this.state.context)),await((C=(S=T(this,At).config).onSettled)==null?void 0:C.call(S,void 0,b,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,void 0,b,e,this.state.context)),b}finally{be(this,Gr,$n).call(this,{type:"error",error:b})}}finally{T(this,At).runNext(this)}}},Qr=new WeakMap,At=new WeakMap,qs=new WeakMap,Gr=new WeakSet,$n=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),mt.batch(()=>{T(this,Qr).forEach(n=>{n.onMutationUpdate(e)}),T(this,At).notify({mutation:this,type:"updated",action:e})})},wy);function sx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xt,dl,xy,cC=(xy=class extends Do{constructor(e={}){super();fe(this,Xt);fe(this,dl);this.config=e,Y(this,Xt,new Map),Y(this,dl,Date.now())}build(e,r,n){const s=new lC({mutationCache:this,mutationId:++Ol(this,dl)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Kl(e),n=T(this,Xt).get(r)??[];n.push(e),T(this,Xt).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Kl(e);if(T(this,Xt).has(r)){const s=(n=T(this,Xt).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?T(this,Xt).delete(r):T(this,Xt).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=T(this,Xt).get(Kl(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=T(this,Xt).get(Kl(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...T(this,Xt).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ug(r,n))}findAll(e={}){return this.getAll().filter(r=>Ug(e,r))}notify(e){mt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return mt.batch(()=>Promise.all(e.map(r=>r.continue().catch(mr))))}},Xt=new WeakMap,dl=new WeakMap,xy);function Kl(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Bg(t){return{onFetch:(e,r)=>{var d,f,h,v,x;const n=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const w=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=Y0(e.options,e.fetchOptions),m=async(g,S,C)=>{if(p)return Promise.reject();if(S==null&&g.pages.length)return Promise.resolve(g);const P={queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};w(P);const j=await y(P),{maxPages:b}=e.options,E=C?eC:X1;return{pages:E(g.pages,j,b),pageParams:E(g.pageParams,S,b)}};if(s&&i.length){const g=s==="backward",S=g?uC:Wg,C={pages:i,pageParams:o},P=S(n,C);a=await m(C,P,g)}else{const g=t??i.length;do{const S=l===0?o[0]??n.initialPageParam:Wg(n,a);if(l>0&&S==null)break;a=await m(a,S),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>{var p,w;return(w=(p=e.options).persister)==null?void 0:w.call(p,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Wg(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function uC(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var rt,Zn,Jn,ao,lo,Yn,co,uo,_y,dC=(_y=class{constructor(t={}){fe(this,rt);fe(this,Zn);fe(this,Jn);fe(this,ao);fe(this,lo);fe(this,Yn);fe(this,co);fe(this,uo);Y(this,rt,t.queryCache||new aC),Y(this,Zn,t.mutationCache||new cC),Y(this,Jn,t.defaultOptions||{}),Y(this,ao,new Map),Y(this,lo,new Map),Y(this,Yn,0)}mount(){Ol(this,Yn)._++,T(this,Yn)===1&&(Y(this,co,Vp.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,rt).onFocus())})),Y(this,uo,eu.subscribe(async t=>{t&&(await this.resumePausedMutations(),T(this,rt).onOnline())})))}unmount(){var t,e;Ol(this,Yn)._--,T(this,Yn)===0&&((t=T(this,co))==null||t.call(this),Y(this,co,void 0),(e=T(this,uo))==null||e.call(this),Y(this,uo,void 0))}isFetching(t){return T(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return T(this,Zn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,rt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=T(this,rt).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Gi(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return T(this,rt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=T(this,rt).get(n.queryHash),i=s==null?void 0:s.state.data,o=J1(e,i);if(o!==void 0)return T(this,rt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return mt.batch(()=>T(this,rt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=T(this,rt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=T(this,rt);mt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=T(this,rt),n={type:"active",...t};return mt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=mt.batch(()=>T(this,rt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(mr).catch(mr)}invalidateQueries(t={},e={}){return mt.batch(()=>{if(T(this,rt).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=mt.batch(()=>T(this,rt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(mr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(mr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=T(this,rt).build(this,e);return r.isStaleByTime(Gi(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mr).catch(mr)}fetchInfiniteQuery(t){return t.behavior=Bg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mr).catch(mr)}ensureInfiniteQueryData(t){return t.behavior=Bg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eu.isOnline()?T(this,Zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,rt)}getMutationCache(){return T(this,Zn)}getDefaultOptions(){return T(this,Jn)}setDefaultOptions(t){Y(this,Jn,t)}setQueryDefaults(t,e){T(this,ao).set(si(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...T(this,ao).values()];let r={};return e.forEach(n=>{za(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){T(this,lo).set(si(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...T(this,lo).values()];let r={};return e.forEach(n=>{za(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...T(this,Jn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$p(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Up&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...T(this,Jn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){T(this,rt).clear(),T(this,Zn).clear()}},rt=new WeakMap,Zn=new WeakMap,Jn=new WeakMap,ao=new WeakMap,lo=new WeakMap,Yn=new WeakMap,co=new WeakMap,uo=new WeakMap,_y),zt,Oe,fl,It,Hs,fo,Xn,Zr,hl,ho,po,Ks,Qs,es,mo,Le,ia,Yf,Xf,eh,th,rh,nh,sh,ix,by,fC=(by=class extends Do{constructor(e,r){super();fe(this,Le);fe(this,zt);fe(this,Oe);fe(this,fl);fe(this,It);fe(this,Hs);fe(this,fo);fe(this,Xn);fe(this,Zr);fe(this,hl);fe(this,ho);fe(this,po);fe(this,Ks);fe(this,Qs);fe(this,es);fe(this,mo,new Set);this.options=r,Y(this,zt,e),Y(this,Zr,null),Y(this,Xn,Jf()),this.options.experimental_prefetchInRender||T(this,Xn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Oe).addObserver(this),qg(T(this,Oe),this.options)?be(this,Le,ia).call(this):this.updateResult(),be(this,Le,th).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ih(T(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ih(T(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Le,rh).call(this),be(this,Le,nh).call(this),T(this,Oe).removeObserver(this)}setOptions(e,r){const n=this.options,s=T(this,Oe);if(this.options=T(this,zt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,T(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Le,sh).call(this),T(this,Oe).setOptions(this.options),n._defaulted&&!Xc(this.options,n)&&T(this,zt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Oe),observer:this});const i=this.hasListeners();i&&Hg(T(this,Oe),s,this.options,n)&&be(this,Le,ia).call(this),this.updateResult(r),i&&(T(this,Oe)!==s||Rr(this.options.enabled,T(this,Oe))!==Rr(n.enabled,T(this,Oe))||Gi(this.options.staleTime,T(this,Oe))!==Gi(n.staleTime,T(this,Oe)))&&be(this,Le,Yf).call(this);const o=be(this,Le,Xf).call(this);i&&(T(this,Oe)!==s||Rr(this.options.enabled,T(this,Oe))!==Rr(n.enabled,T(this,Oe))||o!==T(this,es))&&be(this,Le,eh).call(this,o)}getOptimisticResult(e){const r=T(this,zt).getQueryCache().build(T(this,zt),e),n=this.createResult(r,e);return pC(this,n)&&(Y(this,It,n),Y(this,fo,this.options),Y(this,Hs,T(this,Oe).state)),n}getCurrentResult(){return T(this,It)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){T(this,mo).add(e)}getCurrentQuery(){return T(this,Oe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=T(this,zt).defaultQueryOptions(e),n=T(this,zt).getQueryCache().build(T(this,zt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return be(this,Le,ia).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,It)))}createResult(e,r){var b;const n=T(this,Oe),s=this.options,i=T(this,It),o=T(this,Hs),a=T(this,fo),c=e!==n?e.state:T(this,fl),{state:d}=e;let f={...d},h=!1,v;if(r._optimisticResults){const E=this.hasListeners(),O=!E&&qg(e,r),L=E&&Hg(e,n,r,s);(O||L)&&(f={...f,...nx(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:w}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===T(this,hl))v=T(this,ho);else try{Y(this,hl,r.select),v=r.select(f.data),v=Zf(i==null?void 0:i.data,v,r),Y(this,ho,v),Y(this,Zr,null)}catch(E){Y(this,Zr,E)}else v=f.data;if(r.placeholderData!==void 0&&v===void 0&&w==="pending"){let E;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))E=i.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((b=T(this,po))==null?void 0:b.state.data,T(this,po)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),Y(this,Zr,null)}catch(O){Y(this,Zr,O)}E!==void 0&&(w="success",v=Zf(i==null?void 0:i.data,E,r),h=!0)}T(this,Zr)&&(x=T(this,Zr),v=T(this,ho),p=Date.now(),w="error");const y=f.fetchStatus==="fetching",m=w==="pending",g=w==="error",S=m&&y,C=v!==void 0,j={status:w,fetchStatus:f.fetchStatus,isPending:m,isSuccess:w==="success",isError:g,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!m,isLoadingError:g&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:g&&C,isStale:zp(e,r),refetch:this.refetch,promise:T(this,Xn)};if(this.options.experimental_prefetchInRender){const E=N=>{j.status==="error"?N.reject(j.error):j.data!==void 0&&N.resolve(j.data)},O=()=>{const N=Y(this,Xn,j.promise=Jf());E(N)},L=T(this,Xn);switch(L.status){case"pending":e.queryHash===n.queryHash&&E(L);break;case"fulfilled":(j.status==="error"||j.data!==L.value)&&O();break;case"rejected":(j.status!=="error"||j.error!==L.reason)&&O();break}}return j}updateResult(e){const r=T(this,It),n=this.createResult(T(this,Oe),this.options);if(Y(this,Hs,T(this,Oe).state),Y(this,fo,this.options),T(this,Hs).data!==void 0&&Y(this,po,T(this,Oe)),Xc(n,r))return;Y(this,It,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!T(this,mo).size)return!0;const l=new Set(a??T(this,mo));return this.options.throwOnError&&l.add("error"),Object.keys(T(this,It)).some(c=>{const d=c;return T(this,It)[d]!==r[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),be(this,Le,ix).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Le,th).call(this)}},zt=new WeakMap,Oe=new WeakMap,fl=new WeakMap,It=new WeakMap,Hs=new WeakMap,fo=new WeakMap,Xn=new WeakMap,Zr=new WeakMap,hl=new WeakMap,ho=new WeakMap,po=new WeakMap,Ks=new WeakMap,Qs=new WeakMap,es=new WeakMap,mo=new WeakMap,Le=new WeakSet,ia=function(e){be(this,Le,sh).call(this);let r=T(this,Oe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(mr)),r},Yf=function(){be(this,Le,rh).call(this);const e=Gi(this.options.staleTime,T(this,Oe));if(ni||T(this,It).isStale||!Qf(e))return;const n=Z0(T(this,It).dataUpdatedAt,e)+1;Y(this,Ks,setTimeout(()=>{T(this,It).isStale||this.updateResult()},n))},Xf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Oe)):this.options.refetchInterval)??!1},eh=function(e){be(this,Le,nh).call(this),Y(this,es,e),!(ni||Rr(this.options.enabled,T(this,Oe))===!1||!Qf(T(this,es))||T(this,es)===0)&&Y(this,Qs,setInterval(()=>{(this.options.refetchIntervalInBackground||Vp.isFocused())&&be(this,Le,ia).call(this)},T(this,es)))},th=function(){be(this,Le,Yf).call(this),be(this,Le,eh).call(this,be(this,Le,Xf).call(this))},rh=function(){T(this,Ks)&&(clearTimeout(T(this,Ks)),Y(this,Ks,void 0))},nh=function(){T(this,Qs)&&(clearInterval(T(this,Qs)),Y(this,Qs,void 0))},sh=function(){const e=T(this,zt).getQueryCache().build(T(this,zt),this.options);if(e===T(this,Oe))return;const r=T(this,Oe);Y(this,Oe,e),Y(this,fl,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},ix=function(e){mt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(T(this,It))}),T(this,zt).getQueryCache().notify({query:T(this,Oe),type:"observerResultsUpdated"})})},by);function hC(t,e){return Rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qg(t,e){return hC(t,e)||t.state.data!==void 0&&ih(t,e,e.refetchOnMount)}function ih(t,e,r){if(Rr(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&zp(t,e)}return!1}function Hg(t,e,r,n){return(t!==e||Rr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&zp(t,r)}function zp(t,e){return Rr(e.enabled,t)!==!1&&t.isStaleByTime(Gi(e.staleTime,t))}function pC(t,e){return!Xc(t.getCurrentResult(),e)}var ts,rs,Bt,xn,Cn,bc,oh,Sy,mC=(Sy=class extends Do{constructor(r,n){super();fe(this,Cn);fe(this,ts);fe(this,rs);fe(this,Bt);fe(this,xn);Y(this,ts,r),this.setOptions(n),this.bindMethods(),be(this,Cn,bc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=T(this,ts).defaultMutationOptions(r),Xc(this.options,n)||T(this,ts).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,Bt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&si(n.mutationKey)!==si(this.options.mutationKey)?this.reset():((s=T(this,Bt))==null?void 0:s.state.status)==="pending"&&T(this,Bt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=T(this,Bt))==null||r.removeObserver(this)}onMutationUpdate(r){be(this,Cn,bc).call(this),be(this,Cn,oh).call(this,r)}getCurrentResult(){return T(this,rs)}reset(){var r;(r=T(this,Bt))==null||r.removeObserver(this),Y(this,Bt,void 0),be(this,Cn,bc).call(this),be(this,Cn,oh).call(this)}mutate(r,n){var s;return Y(this,xn,n),(s=T(this,Bt))==null||s.removeObserver(this),Y(this,Bt,T(this,ts).getMutationCache().build(T(this,ts),this.options)),T(this,Bt).addObserver(this),T(this,Bt).execute(r)}},ts=new WeakMap,rs=new WeakMap,Bt=new WeakMap,xn=new WeakMap,Cn=new WeakSet,bc=function(){var n;const r=((n=T(this,Bt))==null?void 0:n.state)??sx();Y(this,rs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},oh=function(r){mt.batch(()=>{var n,s,i,o,a,l,c,d;if(T(this,xn)&&this.hasListeners()){const f=T(this,rs).variables,h=T(this,rs).context;(r==null?void 0:r.type)==="success"?((s=(n=T(this,xn)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=T(this,xn)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(a=T(this,xn)).onError)==null||l.call(a,r.error,f,h),(d=(c=T(this,xn)).onSettled)==null||d.call(c,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(T(this,rs))})})},Sy),ox=_.createContext(void 0),ax=t=>{const e=_.useContext(ox);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gC=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(ox.Provider,{value:t,children:e})),lx=_.createContext(!1),vC=()=>_.useContext(lx);lx.Provider;function yC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wC=_.createContext(yC()),xC=()=>_.useContext(wC);function cx(t,e){return typeof t=="function"?t(...e):!!t}function ah(){}var _C=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},bC=t=>{_.useEffect(()=>{t.clearReset()},[t])},SC=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&cx(r,[t.error,n]),EC=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},kC=(t,e)=>t.isLoading&&t.isFetching&&!e,CC=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Kg=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function TC(t,e,r){var d,f,h,v,x;const n=ax(),s=vC(),i=xC(),o=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",EC(o),_C(o,i),bC(i);const a=!n.getQueryCache().get(o.queryHash),[l]=_.useState(()=>new e(n,o)),c=l.getOptimisticResult(o);if(_.useSyncExternalStore(_.useCallback(p=>{const w=s?ah:l.subscribe(mt.batchCalls(p));return l.updateResult(),w},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),_.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),CC(o,c))throw Kg(o,l,i);if(SC({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw c.error;if((v=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||v.call(h,o,c),o.experimental_prefetchInRender&&!ni&&kC(c,s)){const p=a?Kg(o,l,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(ah).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function cr(t,e){return TC(t,fC)}function Ba(t,e){const r=ax(),[n]=_.useState(()=>new mC(r,t));_.useEffect(()=>{n.setOptions(t)},[n,t]);const s=_.useSyncExternalStore(_.useCallback(o=>n.subscribe(mt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=_.useCallback((o,a)=>{n.mutate(o,a).catch(ah)},[n]);if(s.error&&cx(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function jC(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const OC=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await jC(r),await r.json())},Eo=new dC({defaultOptions:{queries:{queryFn:OC({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),PC=1,NC=1e6;let Pd=0;function RC(){return Pd=(Pd+1)%Number.MAX_SAFE_INTEGER,Pd.toString()}const Nd=new Map,Qg=t=>{if(Nd.has(t))return;const e=setTimeout(()=>{Nd.delete(t),wa({type:"REMOVE_TOAST",toastId:t})},NC);Nd.set(t,e)},AC=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,PC)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Qg(r):t.toasts.forEach(n=>{Qg(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Sc=[];let Ec={toasts:[]};function wa(t){Ec=AC(Ec,t),Sc.forEach(e=>{e(Ec)})}function IC({...t}){const e=RC(),r=s=>wa({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>wa({type:"DISMISS_TOAST",toastId:e});return wa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function hi(){const[t,e]=_.useState(Ec);return _.useEffect(()=>(Sc.push(e),()=>{const r=Sc.indexOf(e);r>-1&&Sc.splice(r,1)}),[t]),{...t,toast:IC,dismiss:r=>wa({type:"DISMISS_TOAST",toastId:r})}}function Ce(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Gg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ux(...t){return e=>{let r=!1;const n=t.map(s=>{const i=Gg(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Gg(t[s],null)}}}}function st(...t){return _.useCallback(ux(...t),t)}function _l(t,e=[]){let r=[];function n(i,o){const a=_.createContext(o),l=r.length;r=[...r,o];const c=f=>{var y;const{scope:h,children:v,...x}=f,p=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,w=_.useMemo(()=>x,Object.values(x));return u.jsx(p.Provider,{value:w,children:v})};c.displayName=i+"Provider";function d(f,h){var p;const v=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,x=_.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=r.map(o=>_.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,DC(s,...e)]}function DC(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Wa(t){const e=MC(t),r=_.forwardRef((n,s)=>{const{children:i,...o}=n,a=_.Children.toArray(i),l=a.find($C);if(l){const c=l.props.children,d=a.map(f=>f===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:_.isValidElement(c)?_.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var LC=Wa("Slot");function MC(t){const e=_.forwardRef((r,n)=>{const{children:s,...i}=r;if(_.isValidElement(s)){const o=VC(s),a=UC(i,s.props);return s.type!==_.Fragment&&(a.ref=n?ux(n,o):o),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dx=Symbol("radix.slottable");function FC(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=dx,e}function $C(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dx}function UC(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function VC(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function fx(t){const e=t+"CollectionProvider",[r,n]=_l(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:w,children:y}=p,m=ht.useRef(null),g=ht.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:g,collectionRef:m,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Wa(a),c=ht.forwardRef((p,w)=>{const{scope:y,children:m}=p,g=i(a,y),S=st(w,g.collectionRef);return u.jsx(l,{ref:S,children:m})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Wa(d),v=ht.forwardRef((p,w)=>{const{scope:y,children:m,...g}=p,S=ht.useRef(null),C=st(w,S),P=i(d,y);return ht.useEffect(()=>(P.itemMap.set(S,{ref:S,...g}),()=>void P.itemMap.delete(S))),u.jsx(h,{[f]:"",ref:C,children:m})});v.displayName=d;function x(p){const w=i(t+"CollectionConsumer",p);return ht.useCallback(()=>{const m=w.collectionRef.current;if(!m)return[];const g=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((P,j)=>g.indexOf(P.ref.current)-g.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:v},x,n]}var zC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=zC.reduce((t,e)=>{const r=Wa(`Primitive.${e}`),n=_.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function hx(t,e){t&&fi.flushSync(()=>t.dispatchEvent(e))}function ur(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function BC(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t);_.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var WC="DismissableLayer",lh="dismissableLayer.update",qC="dismissableLayer.pointerDownOutside",HC="dismissableLayer.focusOutside",Zg,px=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mu=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=_.useContext(px),[d,f]=_.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=_.useState({}),x=st(e,j=>f(j)),p=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(w),m=d?p.indexOf(d):-1,g=c.layersWithOutsidePointerEventsDisabled.size>0,S=m>=y,C=QC(j=>{const b=j.target,E=[...c.branches].some(O=>O.contains(b));!S||E||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},h),P=GC(j=>{const b=j.target;[...c.branches].some(O=>O.contains(b))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},h);return BC(j=>{m===c.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},h),_.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Zg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Jg(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Zg)}},[d,h,r,c]),_.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Jg())},[d,c]),_.useEffect(()=>{const j=()=>v({});return document.addEventListener(lh,j),()=>document.removeEventListener(lh,j)},[]),u.jsx(Ve.div,{...l,ref:x,style:{pointerEvents:g?S?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,C.onPointerDownCapture)})});Mu.displayName=WC;var KC="DismissableLayerBranch",mx=_.forwardRef((t,e)=>{const r=_.useContext(px),n=_.useRef(null),s=st(e,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),u.jsx(Ve.div,{...t,ref:s})});mx.displayName=KC;function QC(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){gx(qC,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function GC(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!n.current&&gx(HC,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jg(){const t=new CustomEvent(lh);document.dispatchEvent(t)}function gx(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?hx(s,i):s.dispatchEvent(i)}var ZC=Mu,JC=mx,Nt=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},YC="Portal",Bp=_.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,i]=_.useState(!1);Nt(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?x1.createPortal(u.jsx(Ve.div,{...n,ref:e}),o):null});Bp.displayName=YC;function XC(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var Wp=t=>{const{present:e,children:r}=t,n=eT(e),s=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=st(n.ref,tT(s));return typeof r=="function"||n.isPresent?_.cloneElement(s,{ref:i}):null};Wp.displayName="Presence";function eT(t){const[e,r]=_.useState(),n=_.useRef({}),s=_.useRef(t),i=_.useRef("none"),o=t?"mounted":"unmounted",[a,l]=XC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Ql(n.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=n.current,d=s.current;if(d!==t){const h=i.current,v=Ql(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=v=>{const p=Ql(n.current).includes(v.animationName);if(v.target===e&&p&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=v=>{v.target===e&&(i.current=Ql(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function Ql(t){return(t==null?void 0:t.animationName)||"none"}function tT(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ch({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=rT({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,a=ur(r),l=_.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function rT({defaultProp:t,onChange:e}){const r=_.useState(t),[n]=r,s=_.useRef(n),i=ur(e);return _.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var nT="VisuallyHidden",bl=_.forwardRef((t,e)=>u.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));bl.displayName=nT;var sT=bl,qp="ToastProvider",[Hp,iT,oT]=fx("Toast"),[vx,GD]=_l("Toast",[oT]),[aT,Fu]=vx(qp),yx=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=_.useState(null),[c,d]=_.useState(0),f=_.useRef(!1),h=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${qp}\`. Expected non-empty \`string\`.`),u.jsx(Hp.Provider,{scope:e,children:u.jsx(aT,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:_.useCallback(()=>d(v=>v+1),[]),onToastRemove:_.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};yx.displayName=qp;var wx="ToastViewport",lT=["F8"],uh="toast.viewportPause",dh="toast.viewportResume",xx=_.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=lT,label:s="Notifications ({hotkey})",...i}=t,o=Fu(wx,r),a=iT(r),l=_.useRef(null),c=_.useRef(null),d=_.useRef(null),f=_.useRef(null),h=st(e,f,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;_.useEffect(()=>{const w=y=>{var g;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),_.useEffect(()=>{const w=l.current,y=f.current;if(x&&w&&y){const m=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(uh);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(dh);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},S=P=>{!w.contains(P.relatedTarget)&&g()},C=()=>{w.contains(document.activeElement)||g()};return w.addEventListener("focusin",m),w.addEventListener("focusout",S),w.addEventListener("pointermove",m),w.addEventListener("pointerleave",C),window.addEventListener("blur",m),window.addEventListener("focus",g),()=>{w.removeEventListener("focusin",m),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",m),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",m),window.removeEventListener("focus",g)}}},[x,o.isClosePausedRef]);const p=_.useCallback(({tabbingDirection:w})=>{const m=a().map(g=>{const S=g.ref.current,C=[S,..._T(S)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?m.reverse():m).flat()},[a]);return _.useEffect(()=>{const w=f.current;if(w){const y=m=>{var C,P,j;const g=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!g){const b=document.activeElement,E=m.shiftKey;if(m.target===w&&E){(C=c.current)==null||C.focus();return}const N=p({tabbingDirection:E?"backwards":"forwards"}),F=N.findIndex(M=>M===b);Rd(N.slice(F+1))?m.preventDefault():E?(P=c.current)==null||P.focus():(j=d.current)==null||j.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[a,p]),u.jsxs(JC,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(fh,{ref:c,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"forwards"});Rd(w)}}),u.jsx(Hp.Slot,{scope:r,children:u.jsx(Ve.ol,{tabIndex:-1,...i,ref:h})}),x&&u.jsx(fh,{ref:d,onFocusFromOutsideViewport:()=>{const w=p({tabbingDirection:"backwards"});Rd(w)}})]})});xx.displayName=wx;var _x="ToastFocusProxy",fh=_.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Fu(_x,r);return u.jsx(bl,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&n()}})});fh.displayName=_x;var $u="Toast",cT="toast.swipeStart",uT="toast.swipeMove",dT="toast.swipeCancel",fT="toast.swipeEnd",bx=_.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ch({prop:n,defaultProp:s,onChange:i});return u.jsx(Wp,{present:r||a,children:u.jsx(mT,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ur(t.onPause),onResume:ur(t.onResume),onSwipeStart:Ce(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});bx.displayName=$u;var[hT,pT]=vx($u,{onClose(){}}),mT=_.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,...x}=t,p=Fu($u,r),[w,y]=_.useState(null),m=st(e,M=>y(M)),g=_.useRef(null),S=_.useRef(null),C=s||p.duration,P=_.useRef(0),j=_.useRef(C),b=_.useRef(0),{onToastAdd:E,onToastRemove:O}=p,L=ur(()=>{var ee;(w==null?void 0:w.contains(document.activeElement))&&((ee=p.viewport)==null||ee.focus()),o()}),N=_.useCallback(M=>{!M||M===1/0||(window.clearTimeout(b.current),P.current=new Date().getTime(),b.current=window.setTimeout(L,M))},[L]);_.useEffect(()=>{const M=p.viewport;if(M){const ee=()=>{N(j.current),c==null||c()},K=()=>{const B=new Date().getTime()-P.current;j.current=j.current-B,window.clearTimeout(b.current),l==null||l()};return M.addEventListener(uh,K),M.addEventListener(dh,ee),()=>{M.removeEventListener(uh,K),M.removeEventListener(dh,ee)}}},[p.viewport,C,l,c,N]),_.useEffect(()=>{i&&!p.isClosePausedRef.current&&N(C)},[i,C,p.isClosePausedRef,N]),_.useEffect(()=>(E(),()=>O()),[E,O]);const F=_.useMemo(()=>w?Ox(w):null,[w]);return p.viewport?u.jsxs(u.Fragment,{children:[F&&u.jsx(gT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),u.jsx(hT,{scope:r,onClose:L,children:fi.createPortal(u.jsx(Hp.ItemSlot,{scope:r,children:u.jsx(ZC,{asChild:!0,onEscapeKeyDown:Ce(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||L(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Ce(t.onPointerDown,M=>{M.button===0&&(g.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ce(t.onPointerMove,M=>{if(!g.current)return;const ee=M.clientX-g.current.x,K=M.clientY-g.current.y,B=!!S.current,A=["left","right"].includes(p.swipeDirection),D=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,q=A?D(0,ee):0,W=A?0:D(0,K),te=M.pointerType==="touch"?10:2,Z={x:q,y:W},we={originalEvent:M,delta:Z};B?(S.current=Z,Gl(uT,f,we,{discrete:!1})):Yg(Z,p.swipeDirection,te)?(S.current=Z,Gl(cT,d,we,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(ee)>te||Math.abs(K)>te)&&(g.current=null)}),onPointerUp:Ce(t.onPointerUp,M=>{const ee=S.current,K=M.target;if(K.hasPointerCapture(M.pointerId)&&K.releasePointerCapture(M.pointerId),S.current=null,g.current=null,ee){const B=M.currentTarget,A={originalEvent:M,delta:ee};Yg(ee,p.swipeDirection,p.swipeThreshold)?Gl(fT,v,A,{discrete:!0}):Gl(dT,h,A,{discrete:!0}),B.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),gT=t=>{const{__scopeToast:e,children:r,...n}=t,s=Fu($u,e),[i,o]=_.useState(!1),[a,l]=_.useState(!1);return wT(()=>o(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Bp,{asChild:!0,children:u.jsx(bl,{...n,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",r]})})})},vT="ToastTitle",Sx=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Ve.div,{...n,ref:e})});Sx.displayName=vT;var yT="ToastDescription",Ex=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Ve.div,{...n,ref:e})});Ex.displayName=yT;var kx="ToastAction",Cx=_.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(jx,{altText:r,asChild:!0,children:u.jsx(Kp,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kx}\`. Expected non-empty \`string\`.`),null)});Cx.displayName=kx;var Tx="ToastClose",Kp=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=pT(Tx,r);return u.jsx(jx,{asChild:!0,children:u.jsx(Ve.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,s.onClose)})})});Kp.displayName=Tx;var jx=_.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return u.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Ox(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),xT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ox(n))}}),e}function Gl(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?hx(s,i):s.dispatchEvent(i)}var Yg=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function wT(t=()=>{}){const e=ur(t);Nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function xT(t){return t.nodeType===t.ELEMENT_NODE}function _T(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Rd(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var bT=yx,Px=xx,Nx=bx,Rx=Sx,Ax=Ex,Ix=Cx,Dx=Kp;function Lx(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Lx(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Mx(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Lx(t))&&(n&&(n+=" "),n+=e);return n}const Xg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ev=Mx,Uu=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return ev(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=r==null?void 0:r[c],f=i==null?void 0:i[c];if(d===null)return null;const h=Xg(d)||Xg(f);return s[c][h]}),a=r&&Object.entries(r).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(x=>{let[p,w]=x;return Array.isArray(w)?w.includes({...i,...a}[p]):{...i,...a}[p]===w})?[...c,f,h]:c},[]);return ev(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fx=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ET={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...ET,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Fx("lucide",s),...a},[...o.map(([c,d])=>_.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=(t,e)=>{const r=_.forwardRef(({className:n,...s},i)=>_.createElement(kT,{ref:i,iconNode:e,className:Fx(`lucide-${ST(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Sl("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Sl("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Sl("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Sl("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=Sl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qp="-",PT=t=>{const e=RT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(Qp);return a[0]===""&&a.length!==1&&a.shift(),Ux(a,e)||NT(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},Ux=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Ux(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Qp);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},tv=/^\[(.+)\]$/,NT=t=>{if(tv.test(t)){const e=tv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},RT=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return IT(Object.entries(t.classGroups),r).forEach(([i,o])=>{hh(o,n,i,e)}),n},hh=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:rv(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(AT(s)){hh(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{hh(o,rv(e,i),r,n)})})},rv=(t,e)=>{let r=t;return e.split(Qp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},AT=t=>t.isThemeGetter,IT=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t,DT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Vx="!",LT=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let w=0;w<a.length;w++){let y=a[w];if(c===0){if(y===s&&(n||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(y==="/"){f=w;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(d),v=h.startsWith(Vx),x=v?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:p}};return r?a=>r({className:a,parseClassName:o}):o},MT=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},FT=t=>({cache:DT(t.cacheSize),parseClassName:LT(t),...PT(t)}),$T=/\s+/,UT=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split($T);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=r(c);let x=!!v,p=n(x?h.substring(0,v):h);if(!p){if(!x){a=c+(a.length>0?" "+a:a);continue}if(p=n(h),!p){a=c+(a.length>0?" "+a:a);continue}x=!1}const w=MT(d).join(":"),y=f?w+Vx:w,m=y+p;if(i.includes(m))continue;i.push(m);const g=s(p,x);for(let S=0;S<g.length;++S){const C=g[S];i.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function VT(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=zx(e))&&(n&&(n+=" "),n+=r);return n}const zx=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=zx(t[n]))&&(r&&(r+=" "),r+=e);return r};function zT(t,...e){let r,n,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return r=FT(c),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const c=n(l);if(c)return c;const d=UT(l,r);return s(l,d),d}return function(){return i(VT.apply(null,arguments))}}const We=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Bx=/^\[(?:([a-z-]+):)?(.+)\]$/i,BT=/^\d+\/\d+$/,WT=new Set(["px","full","screen"]),qT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fn=t=>Zi(t)||WT.has(t)||BT.test(t),Ln=t=>Lo(t,"length",nj),Zi=t=>!!t&&!Number.isNaN(Number(t)),Ad=t=>Lo(t,"number",Zi),Jo=t=>!!t&&Number.isInteger(Number(t)),ZT=t=>t.endsWith("%")&&Zi(t.slice(0,-1)),_e=t=>Bx.test(t),Mn=t=>qT.test(t),JT=new Set(["length","size","percentage"]),YT=t=>Lo(t,JT,Wx),XT=t=>Lo(t,"position",Wx),ej=new Set(["image","url"]),tj=t=>Lo(t,ej,ij),rj=t=>Lo(t,"",sj),Yo=()=>!0,Lo=(t,e,r)=>{const n=Bx.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},nj=t=>HT.test(t)&&!KT.test(t),Wx=()=>!1,sj=t=>QT.test(t),ij=t=>GT.test(t),oj=()=>{const t=We("colors"),e=We("spacing"),r=We("blur"),n=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),c=We("grayscale"),d=We("hueRotate"),f=We("invert"),h=We("gap"),v=We("gradientColorStops"),x=We("gradientColorStopPositions"),p=We("inset"),w=We("margin"),y=We("opacity"),m=We("padding"),g=We("saturate"),S=We("scale"),C=We("sepia"),P=We("skew"),j=We("space"),b=We("translate"),E=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",_e,e],N=()=>[_e,e],F=()=>["",fn,Ln],M=()=>["auto",Zi,_e],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",_e],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Zi,_e];return{cacheSize:500,separator:":",theme:{colors:[Yo],spacing:[fn,Ln],blur:["none","",Mn,_e],brightness:W(),borderColor:[t],borderRadius:["none","","full",Mn,_e],borderSpacing:N(),borderWidth:F(),contrast:W(),grayscale:D(),hueRotate:W(),invert:D(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[ZT,Ln],inset:L(),margin:L(),opacity:W(),padding:N(),saturate:W(),scale:W(),sepia:D(),skew:W(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Mn]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),_e]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jo,_e]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Jo,_e]}],"grid-cols":[{"grid-cols":[Yo]}],"col-start-end":[{col:["auto",{span:["full",Jo,_e]},_e]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Yo]}],"row-start-end":[{row:["auto",{span:[Jo,_e]},_e]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Mn]},Mn]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Mn,Ln]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ad]}],"font-family":[{font:[Yo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Zi,Ad]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fn,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fn,Ln]}],"underline-offset":[{"underline-offset":["auto",fn,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),XT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[fn,_e]}],"outline-w":[{outline:[fn,Ln]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[fn,Ln]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mn,rj]}],"shadow-color":[{shadow:[Yo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Mn,_e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Jo,_e]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fn,Ln,Ad]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aj=zT(oj);function Ke(...t){return aj(Mx(t))}const lj=bT,qx=_.forwardRef(({className:t,...e},r)=>u.jsx(Px,{ref:r,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));qx.displayName=Px.displayName;const cj=Uu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Hx=_.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(Nx,{ref:n,className:Ke(cj({variant:e}),t),...r}));Hx.displayName=Nx.displayName;const uj=_.forwardRef(({className:t,...e},r)=>u.jsx(Ix,{ref:r,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));uj.displayName=Ix.displayName;const Kx=_.forwardRef(({className:t,...e},r)=>u.jsx(Dx,{ref:r,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(OT,{className:"h-4 w-4"})}));Kx.displayName=Dx.displayName;const Qx=_.forwardRef(({className:t,...e},r)=>u.jsx(Rx,{ref:r,className:Ke("text-sm font-semibold",t),...e}));Qx.displayName=Rx.displayName;const Gx=_.forwardRef(({className:t,...e},r)=>u.jsx(Ax,{ref:r,className:Ke("text-sm opacity-90",t),...e}));Gx.displayName=Ax.displayName;function dj(){const{toasts:t}=hi();return u.jsxs(lj,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return u.jsxs(Hx,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(Qx,{children:r}),n&&u.jsx(Gx,{children:n})]}),s,u.jsx(Kx,{})]},e)}),u.jsx(qx,{})]})}var fj=Dy[" useId ".trim().toString()]||(()=>{}),hj=0;function Gp(t){const[e,r]=_.useState(fj());return Nt(()=>{r(n=>n??String(hj++))},[t]),e?`radix-${e}`:""}const pj=["top","right","bottom","left"],gs=Math.min,tr=Math.max,tu=Math.round,Zl=Math.floor,tn=t=>({x:t,y:t}),mj={left:"right",right:"left",bottom:"top",top:"bottom"},gj={start:"end",end:"start"};function ph(t,e,r){return tr(t,gs(e,r))}function Nn(t,e){return typeof t=="function"?t(e):t}function Rn(t){return t.split("-")[0]}function Mo(t){return t.split("-")[1]}function Zp(t){return t==="x"?"y":"x"}function Jp(t){return t==="y"?"height":"width"}function vs(t){return["top","bottom"].includes(Rn(t))?"y":"x"}function Yp(t){return Zp(vs(t))}function vj(t,e,r){r===void 0&&(r=!1);const n=Mo(t),s=Yp(t),i=Jp(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ru(o)),[o,ru(o)]}function yj(t){const e=ru(t);return[mh(t),e,mh(e)]}function mh(t){return t.replace(/start|end/g,e=>gj[e])}function wj(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function xj(t,e,r,n){const s=Mo(t);let i=wj(Rn(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(mh)))),i}function ru(t){return t.replace(/left|right|bottom|top/g,e=>mj[e])}function _j(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zx(t){return typeof t!="number"?_j(t):{top:t,right:t,bottom:t,left:t}}function nu(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function nv(t,e,r){let{reference:n,floating:s}=t;const i=vs(e),o=Yp(e),a=Jp(o),l=Rn(e),c=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-s.width,y:f};break;default:v={x:n.x,y:n.y}}switch(Mo(e)){case"start":v[o]-=h*(r&&c?-1:1);break;case"end":v[o]+=h*(r&&c?-1:1);break}return v}const bj=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=nv(c,n,l),h=n,v={},x=0;for(let p=0;p<a.length;p++){const{name:w,fn:y}=a[p],{x:m,y:g,data:S,reset:C}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=m??d,f=g??f,v={...v,[w]:{...v[w],...S}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:f}=nv(c,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function qa(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=Nn(e,t),x=Zx(v),w=a[h?f==="floating"?"reference":"floating":f],y=nu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),m=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},C=nu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:g,strategy:l}):m);return{top:(y.top-C.top+x.top)/S.y,bottom:(C.bottom-y.bottom+x.bottom)/S.y,left:(y.left-C.left+x.left)/S.x,right:(C.right-y.right+x.right)/S.x}}const Sj=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Nn(t,e)||{};if(c==null)return{};const f=Zx(d),h={x:r,y:n},v=Yp(s),x=Jp(v),p=await o.getDimensions(c),w=v==="y",y=w?"top":"left",m=w?"bottom":"right",g=w?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[v]-h[v]-i.floating[x],C=h[v]-i.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let j=P?P[g]:0;(!j||!await(o.isElement==null?void 0:o.isElement(P)))&&(j=a.floating[g]||i.floating[x]);const b=S/2-C/2,E=j/2-p[x]/2-1,O=gs(f[y],E),L=gs(f[m],E),N=O,F=j-p[x]-L,M=j/2-p[x]/2+b,ee=ph(N,M,F),K=!l.arrow&&Mo(s)!=null&&M!==ee&&i.reference[x]/2-(M<N?O:L)-p[x]/2<0,B=K?M<N?M-N:M-F:0;return{[v]:h[v]+B,data:{[v]:ee,centerOffset:M-ee-B,...K&&{alignmentOffset:B}},reset:K}}}),Ej=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...w}=Nn(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Rn(s),m=vs(a),g=Rn(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(g||!p?[ru(a)]:yj(a)),P=x!=="none";!h&&P&&C.push(...xj(a,p,x,S));const j=[a,...C],b=await qa(e,w),E=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&E.push(b[y]),f){const M=vj(s,o,S);E.push(b[M[0]],b[M[1]])}if(O=[...O,{placement:s,overflows:E}],!E.every(M=>M<=0)){var L,N;const M=(((L=i.flip)==null?void 0:L.index)||0)+1,ee=j[M];if(ee)return{data:{index:M,overflows:O},reset:{placement:ee}};let K=(N=O.filter(B=>B.overflows[0]<=0).sort((B,A)=>B.overflows[1]-A.overflows[1])[0])==null?void 0:N.placement;if(!K)switch(v){case"bestFit":{var F;const B=(F=O.filter(A=>{if(P){const D=vs(A.placement);return D===m||D==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(D=>D>0).reduce((D,q)=>D+q,0)]).sort((A,D)=>A[1]-D[1])[0])==null?void 0:F[0];B&&(K=B);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function sv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function iv(t){return pj.some(e=>t[e]>=0)}const kj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Nn(t,e);switch(n){case"referenceHidden":{const i=await qa(e,{...s,elementContext:"reference"}),o=sv(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iv(o)}}}case"escaped":{const i=await qa(e,{...s,altBoundary:!0}),o=sv(i,r.floating);return{data:{escapedOffsets:o,escaped:iv(o)}}}default:return{}}}}};async function Cj(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Rn(r),a=Mo(r),l=vs(r)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=Nn(e,t);let{mainAxis:h,crossAxis:v,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),l?{x:v*d,y:h*c}:{x:h*c,y:v*d}}const Tj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Cj(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},jj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:m}=w;return{x:y,y:m}}},...l}=Nn(t,e),c={x:r,y:n},d=await qa(e,l),f=vs(Rn(s)),h=Zp(f);let v=c[h],x=c[f];if(i){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",m=v+d[w],g=v-d[y];v=ph(m,v,g)}if(o){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=x+d[w],g=x-d[y];x=ph(m,x,g)}const p=a.fn({...e,[h]:v,[f]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},Oj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Nn(t,e),d={x:r,y:n},f=vs(s),h=Zp(f);let v=d[h],x=d[f];const p=Nn(a,e),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const g=h==="y"?"height":"width",S=i.reference[h]-i.floating[g]+w.mainAxis,C=i.reference[h]+i.reference[g]-w.mainAxis;v<S?v=S:v>C&&(v=C)}if(c){var y,m;const g=h==="y"?"width":"height",S=["top","left"].includes(Rn(s)),C=i.reference[f]-i.floating[g]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:w.crossAxis),P=i.reference[f]+i.reference[g]+(S?0:((m=o.offset)==null?void 0:m[f])||0)-(S?w.crossAxis:0);x<C?x=C:x>P&&(x=P)}return{[h]:v,[f]:x}}}},Pj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Nn(t,e),d=await qa(e,c),f=Rn(s),h=Mo(s),v=vs(s)==="y",{width:x,height:p}=i.floating;let w,y;f==="top"||f==="bottom"?(w=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,w=h==="end"?"top":"bottom");const m=p-d.top-d.bottom,g=x-d.left-d.right,S=gs(p-d[w],m),C=gs(x-d[y],g),P=!e.middlewareData.shift;let j=S,b=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(b=g),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=m),P&&!h){const O=tr(d.left,0),L=tr(d.right,0),N=tr(d.top,0),F=tr(d.bottom,0);v?b=x-2*(O!==0||L!==0?O+L:tr(d.left,d.right)):j=p-2*(N!==0||F!==0?N+F:tr(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:j});const E=await o.getDimensions(a.floating);return x!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function Vu(){return typeof window<"u"}function Fo(t){return Jx(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function an(t){var e;return(e=(Jx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Jx(t){return Vu()?t instanceof Node||t instanceof or(t).Node:!1}function Ur(t){return Vu()?t instanceof Element||t instanceof or(t).Element:!1}function nn(t){return Vu()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function ov(t){return!Vu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}function El(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Vr(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function Nj(t){return["table","td","th"].includes(Fo(t))}function zu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Xp(t){const e=em(),r=Ur(t)?Vr(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Rj(t){let e=ys(t);for(;nn(e)&&!ko(e);){if(Xp(e))return e;if(zu(e))return null;e=ys(e)}return null}function em(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ko(t){return["html","body","#document"].includes(Fo(t))}function Vr(t){return or(t).getComputedStyle(t)}function Bu(t){return Ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ys(t){if(Fo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ov(t)&&t.host||an(t);return ov(e)?e.host:e}function Yx(t){const e=ys(t);return ko(e)?t.ownerDocument?t.ownerDocument.body:t.body:nn(e)&&El(e)?e:Yx(e)}function Ha(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Yx(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=or(s);if(i){const a=gh(o);return e.concat(o,o.visualViewport||[],El(s)?s:[],a&&r?Ha(a):[])}return e.concat(s,Ha(s,[],r))}function gh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xx(t){const e=Vr(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=nn(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=tu(r)!==i||tu(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function tm(t){return Ur(t)?t:t.contextElement}function Ji(t){const e=tm(t);if(!nn(e))return tn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=Xx(e);let o=(i?tu(r.width):r.width)/n,a=(i?tu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Aj=tn(0);function e_(t){const e=or(t);return!em()||!e.visualViewport?Aj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ij(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==or(t)?!1:e}function ii(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=tm(t);let o=tn(1);e&&(n?Ur(n)&&(o=Ji(n)):o=Ji(t));const a=Ij(i,r,n)?e_(i):tn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=or(i),v=n&&Ur(n)?or(n):n;let x=h,p=gh(x);for(;p&&n&&v!==x;){const w=Ji(p),y=p.getBoundingClientRect(),m=Vr(p),g=y.left+(p.clientLeft+parseFloat(m.paddingLeft))*w.x,S=y.top+(p.clientTop+parseFloat(m.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=g,c+=S,x=or(p),p=gh(x)}}return nu({width:d,height:f,x:l,y:c})}function rm(t,e){const r=Bu(t).scrollLeft;return e?e.left+r:ii(an(t)).left+r}function t_(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:rm(t,n)),i=n.top+e.scrollTop;return{x:s,y:i}}function Dj(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=an(n),a=e?zu(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=tn(1);const d=tn(0),f=nn(n);if((f||!f&&!i)&&((Fo(n)!=="body"||El(o))&&(l=Bu(n)),nn(n))){const v=ii(n);c=Ji(n),d.x=v.x+n.clientLeft,d.y=v.y+n.clientTop}const h=o&&!f&&!i?t_(o,l,!0):tn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}}function Lj(t){return Array.from(t.getClientRects())}function Mj(t){const e=an(t),r=Bu(t),n=t.ownerDocument.body,s=tr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=tr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+rm(t);const a=-r.scrollTop;return Vr(n).direction==="rtl"&&(o+=tr(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Fj(t,e){const r=or(t),n=an(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=em();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function $j(t,e){const r=ii(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=nn(t)?Ji(t):tn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function av(t,e,r){let n;if(e==="viewport")n=Fj(t,r);else if(e==="document")n=Mj(an(t));else if(Ur(e))n=$j(e,r);else{const s=e_(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return nu(n)}function r_(t,e){const r=ys(t);return r===e||!Ur(r)||ko(r)?!1:Vr(r).position==="fixed"||r_(r,e)}function Uj(t,e){const r=e.get(t);if(r)return r;let n=Ha(t,[],!1).filter(a=>Ur(a)&&Fo(a)!=="body"),s=null;const i=Vr(t).position==="fixed";let o=i?ys(t):t;for(;Ur(o)&&!ko(o);){const a=Vr(o),l=Xp(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||El(o)&&!l&&r_(t,o))?n=n.filter(d=>d!==o):s=a,o=ys(o)}return e.set(t,n),n}function Vj(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?zu(e)?[]:Uj(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,d)=>{const f=av(e,d,s);return c.top=tr(f.top,c.top),c.right=gs(f.right,c.right),c.bottom=gs(f.bottom,c.bottom),c.left=tr(f.left,c.left),c},av(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zj(t){const{width:e,height:r}=Xx(t);return{width:e,height:r}}function Bj(t,e,r){const n=nn(e),s=an(e),i=r==="fixed",o=ii(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=tn(0);if(n||!n&&!i)if((Fo(e)!=="body"||El(s))&&(a=Bu(e)),n){const h=ii(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=rm(s));const c=s&&!n&&!i?t_(s,a):tn(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function Id(t){return Vr(t).position==="static"}function lv(t,e){if(!nn(t)||Vr(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return an(t)===r&&(r=r.ownerDocument.body),r}function n_(t,e){const r=or(t);if(zu(t))return r;if(!nn(t)){let s=ys(t);for(;s&&!ko(s);){if(Ur(s)&&!Id(s))return s;s=ys(s)}return r}let n=lv(t,e);for(;n&&Nj(n)&&Id(n);)n=lv(n,e);return n&&ko(n)&&Id(n)&&!Xp(n)?r:n||Rj(t)||r}const Wj=async function(t){const e=this.getOffsetParent||n_,r=this.getDimensions,n=await r(t.floating);return{reference:Bj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qj(t){return Vr(t).direction==="rtl"}const Hj={convertOffsetParentRelativeRectToViewportRelativeRect:Dj,getDocumentElement:an,getClippingRect:Vj,getOffsetParent:n_,getElementRects:Wj,getClientRects:Lj,getDimensions:zj,getScale:Ji,isElement:Ur,isRTL:qj};function s_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Kj(t,e){let r=null,n;const s=an(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:v}=c;if(a||e(),!h||!v)return;const x=Zl(f),p=Zl(s.clientWidth-(d+h)),w=Zl(s.clientHeight-(f+v)),y=Zl(d),g={rootMargin:-x+"px "+-p+"px "+-w+"px "+-y+"px",threshold:tr(0,gs(1,l))||1};let S=!0;function C(P){const j=P[0].intersectionRatio;if(j!==l){if(!S)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!s_(c,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(C,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,g)}r.observe(t)}return o(!0),i}function Qj(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=tm(t),d=s||i?[...c?Ha(c):[],...Ha(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=c&&a?Kj(c,r):null;let h=-1,v=null;o&&(v=new ResizeObserver(y=>{let[m]=y;m&&m.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=v)==null||g.observe(e)})),r()}),c&&!l&&v.observe(c),v.observe(e));let x,p=l?ii(t):null;l&&w();function w(){const y=ii(t);p&&!s_(p,y)&&r(),p=y,x=requestAnimationFrame(w)}return r(),()=>{var y;d.forEach(m=>{s&&m.removeEventListener("scroll",r),i&&m.removeEventListener("resize",r)}),f==null||f(),(y=v)==null||y.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const Gj=Tj,Zj=jj,Jj=Ej,Yj=Pj,Xj=kj,cv=Sj,eO=Oj,tO=(t,e,r)=>{const n=new Map,s={platform:Hj,...r},i={...s.platform,_c:n};return bj(t,e,{...s,platform:i})};var kc=typeof document<"u"?_.useLayoutEffect:_.useEffect;function su(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!su(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!su(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function i_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uv(t,e){const r=i_(t);return Math.round(e*r)/r}function Dd(t){const e=_.useRef(t);return kc(()=>{e.current=t}),e}function rO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,v]=_.useState(n);su(h,n)||v(n);const[x,p]=_.useState(null),[w,y]=_.useState(null),m=_.useCallback(A=>{A!==P.current&&(P.current=A,p(A))},[]),g=_.useCallback(A=>{A!==j.current&&(j.current=A,y(A))},[]),S=i||x,C=o||w,P=_.useRef(null),j=_.useRef(null),b=_.useRef(d),E=l!=null,O=Dd(l),L=Dd(s),N=Dd(c),F=_.useCallback(()=>{if(!P.current||!j.current)return;const A={placement:e,strategy:r,middleware:h};L.current&&(A.platform=L.current),tO(P.current,j.current,A).then(D=>{const q={...D,isPositioned:N.current!==!1};M.current&&!su(b.current,q)&&(b.current=q,fi.flushSync(()=>{f(q)}))})},[h,e,r,L,N]);kc(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[c]);const M=_.useRef(!1);kc(()=>(M.current=!0,()=>{M.current=!1}),[]),kc(()=>{if(S&&(P.current=S),C&&(j.current=C),S&&C){if(O.current)return O.current(S,C,F);F()}},[S,C,F,O,E]);const ee=_.useMemo(()=>({reference:P,floating:j,setReference:m,setFloating:g}),[m,g]),K=_.useMemo(()=>({reference:S,floating:C}),[S,C]),B=_.useMemo(()=>{const A={position:r,left:0,top:0};if(!K.floating)return A;const D=uv(K.floating,d.x),q=uv(K.floating,d.y);return a?{...A,transform:"translate("+D+"px, "+q+"px)",...i_(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:q}},[r,a,K.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:F,refs:ee,elements:K,floatingStyles:B}),[d,F,ee,K,B])}const nO=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?cv({element:n.current,padding:s}).fn(r):{}:n?cv({element:n,padding:s}).fn(r):{}}}},sO=(t,e)=>({...Gj(t),options:[t,e]}),iO=(t,e)=>({...Zj(t),options:[t,e]}),oO=(t,e)=>({...eO(t),options:[t,e]}),aO=(t,e)=>({...Jj(t),options:[t,e]}),lO=(t,e)=>({...Yj(t),options:[t,e]}),cO=(t,e)=>({...Xj(t),options:[t,e]}),uO=(t,e)=>({...nO(t),options:[t,e]});var dO="Arrow",o_=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return u.jsx(Ve.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});o_.displayName=dO;var fO=o_;function hO(t){const[e,r]=_.useState(void 0);return Nt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var nm="Popper",[a_,Wu]=_l(nm),[pO,l_]=a_(nm),c_=t=>{const{__scopePopper:e,children:r}=t,[n,s]=_.useState(null);return u.jsx(pO,{scope:e,anchor:n,onAnchorChange:s,children:r})};c_.displayName=nm;var u_="PopperAnchor",d_=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=l_(u_,r),o=_.useRef(null),a=st(e,o);return _.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:u.jsx(Ve.div,{...s,ref:a})});d_.displayName=u_;var sm="PopperContent",[mO,gO]=a_(sm),f_=_.forwardRef((t,e)=>{var ne,ie,ce,ue,Q,le;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:x,...p}=t,w=l_(sm,r),[y,m]=_.useState(null),g=st(e,je=>m(je)),[S,C]=_.useState(null),P=hO(S),j=(P==null?void 0:P.width)??0,b=(P==null?void 0:P.height)??0,E=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],N=L.length>0,F={padding:O,boundary:L.filter(yO),altBoundary:N},{refs:M,floatingStyles:ee,placement:K,isPositioned:B,middlewareData:A}=rO({strategy:"fixed",placement:E,whileElementsMounted:(...je)=>Qj(...je,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[sO({mainAxis:s+b,alignmentAxis:o}),l&&iO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?oO():void 0,...F}),l&&aO({...F}),lO({...F,apply:({elements:je,rects:xe,availableWidth:Ne,availableHeight:me})=>{const{width:at,height:ge}=xe.reference,De=je.floating.style;De.setProperty("--radix-popper-available-width",`${Ne}px`),De.setProperty("--radix-popper-available-height",`${me}px`),De.setProperty("--radix-popper-anchor-width",`${at}px`),De.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),S&&uO({element:S,padding:a}),wO({arrowWidth:j,arrowHeight:b}),h&&cO({strategy:"referenceHidden",...F})]}),[D,q]=m_(K),W=ur(x);Nt(()=>{B&&(W==null||W())},[B,W]);const te=(ne=A.arrow)==null?void 0:ne.x,Z=(ie=A.arrow)==null?void 0:ie.y,we=((ce=A.arrow)==null?void 0:ce.centerOffset)!==0,[Pe,Te]=_.useState();return Nt(()=>{y&&Te(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:B?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(ue=A.transformOrigin)==null?void 0:ue.x,(Q=A.transformOrigin)==null?void 0:Q.y].join(" "),...((le=A.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(mO,{scope:r,placedSide:D,onArrowChange:C,arrowX:te,arrowY:Z,shouldHideArrow:we,children:u.jsx(Ve.div,{"data-side":D,"data-align":q,...p,ref:g,style:{...p.style,animation:B?void 0:"none"}})})})});f_.displayName=sm;var h_="PopperArrow",vO={top:"bottom",right:"left",bottom:"top",left:"right"},p_=_.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=gO(h_,n),o=vO[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(fO,{...s,ref:r,style:{...s.style,display:"block"}})})});p_.displayName=h_;function yO(t){return t!==null}var wO=t=>({name:"transformOrigin",options:t,fn(e){var w,y,m;const{placement:r,rects:n,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=m_(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,v=(((m=s.arrow)==null?void 0:m.y)??0)+l/2;let x="",p="";return c==="bottom"?(x=o?f:`${h}px`,p=`${-l}px`):c==="top"?(x=o?f:`${h}px`,p=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,p=o?f:`${v}px`):c==="left"&&(x=`${n.floating.width+l}px`,p=o?f:`${v}px`),{data:{x,y:p}}}});function m_(t){const[e,r="center"]=t.split("-");return[e,r]}var xO=c_,g_=d_,v_=f_,y_=p_,[qu,ZD]=_l("Tooltip",[Wu]),im=Wu(),w_="TooltipProvider",_O=700,dv="tooltip.open",[bO,x_]=qu(w_),__=t=>{const{__scopeTooltip:e,delayDuration:r=_O,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(bO,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};__.displayName=w_;var b_="Tooltip",[JD,Hu]=qu(b_),vh="TooltipTrigger",SO=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Hu(vh,r),i=x_(vh,r),o=im(r),a=_.useRef(null),l=st(e,a,s.onTriggerChange),c=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(g_,{asChild:!0,...o,children:u.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:Ce(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ce(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ce(t.onBlur,s.onClose),onClick:Ce(t.onClick,s.onClose)})})});SO.displayName=vh;var EO="TooltipPortal",[YD,kO]=qu(EO,{forceMount:void 0}),Co="TooltipContent",S_=_.forwardRef((t,e)=>{const r=kO(Co,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=Hu(Co,t.__scopeTooltip);return u.jsx(Wp,{present:n||o.open,children:o.disableHoverableContent?u.jsx(E_,{side:s,...i,ref:e}):u.jsx(CO,{side:s,...i,ref:e})})}),CO=_.forwardRef((t,e)=>{const r=Hu(Co,t.__scopeTooltip),n=x_(Co,t.__scopeTooltip),s=_.useRef(null),i=st(e,s),[o,a]=_.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:f}=n,h=_.useCallback(()=>{a(null),f(!1)},[f]),v=_.useCallback((x,p)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},m=NO(y,w.getBoundingClientRect()),g=RO(y,m),S=AO(p.getBoundingClientRect()),C=DO([...g,...S]);a(C),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(l&&d){const x=w=>v(w,d),p=w=>v(w,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",p)}}},[l,d,v,h]),_.useEffect(()=>{if(o){const x=p=>{const w=p.target,y={x:p.clientX,y:p.clientY},m=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),g=!IO(y,o);m?h():g&&(h(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,c,h]),u.jsx(E_,{...t,ref:i})}),[TO,jO]=qu(b_,{isInside:!1}),OO=FC("TooltipContent"),E_=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Hu(Co,r),c=im(r),{onClose:d}=l;return _.useEffect(()=>(document.addEventListener(dv,d),()=>document.removeEventListener(dv,d)),[d]),_.useEffect(()=>{if(l.trigger){const f=h=>{const v=h.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Mu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(v_,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(OO,{children:n}),u.jsx(TO,{scope:r,isInside:!0,children:u.jsx(sT,{id:l.contentId,role:"tooltip",children:s||n})})]})})});S_.displayName=Co;var k_="TooltipArrow",PO=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=im(r);return jO(k_,r).isInside?null:u.jsx(y_,{...s,...n,ref:e})});PO.displayName=k_;function NO(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function RO(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function AO(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function IO(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>n!=d>n&&r<(c-a)*(n-l)/(d-l)+a&&(s=!s)}return s}function DO(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),LO(e)}function LO(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var MO=__,C_=S_;const FO=MO,$O=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(C_,{ref:n,sideOffset:e,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));$O.displayName=C_.displayName;const UO=[{path:"/admin/dashboard",label:"Dashboard",icon:"dashboard",roles:["admin"]},{path:"/admin/farmers",label:"Farmers",icon:"people",roles:["admin"]},{path:"/admin/orders",label:"Orders",icon:"receipt_long",roles:["admin"]},{path:"/agent/dashboard",label:"Dashboard",icon:"dashboard",roles:["agent"]},{path:"/agent/new-order",label:"New Order",icon:"add_circle",roles:["agent"]},{path:"/agent/farmers",label:"My Farmers",icon:"people",roles:["agent"]},{path:"/agent/profile",label:"Profile",icon:"account_circle",roles:["agent"]},{path:"/farmer/orders",label:"My Orders",icon:"receipt_long",roles:["farmer"]},{path:"/farmer/payments",label:"Payments",icon:"payments",roles:["farmer"]},{path:"/farmer/profile",label:"Profile",icon:"account_circle",roles:["farmer"]}];function VO({userRole:t}){const[e]=xl(),r=UO.filter(n=>n.roles.includes(t));return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-card-border md:hidden z-50",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},"data-testid":"mobile-nav",children:u.jsx("div",{className:"flex justify-around items-center h-16",children:r.map(n=>{const s=e===n.path;return u.jsx(hs,{href:n.path,"data-testid":`nav-link-${n.label.toLowerCase().replace(/\s+/g,"-")}`,children:u.jsxs("a",{className:"flex flex-col items-center justify-center min-w-[64px] px-2 py-1 hover-elevate active-elevate-2 rounded-md",children:[u.jsx("span",{className:`material-icons text-2xl transition-colors ${s?"text-primary":"text-muted-foreground"}`,children:n.icon}),u.jsx("span",{className:`text-xs mt-0.5 font-medium transition-colors ${s?"text-foreground":"text-muted-foreground"}`,children:n.label}),s&&u.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full"})]})},n.path)})})})}const zO=Uu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Kt=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?LC:"button";return u.jsx(o,{className:Ke(zO({variant:e,size:r,className:t})),ref:i,...s})});Kt.displayName="Button";const BO=[{path:"/admin/dashboard",label:"Dashboard",icon:"dashboard",roles:["admin"]},{path:"/admin/farmers",label:"Farmers",icon:"people",roles:["admin"]},{path:"/admin/orders",label:"Orders",icon:"receipt_long",roles:["admin"]},{path:"/agent/dashboard",label:"Dashboard",icon:"dashboard",roles:["agent"]},{path:"/agent/new-order",label:"New Order",icon:"add_circle",roles:["agent"]},{path:"/agent/farmers",label:"My Farmers",icon:"people",roles:["agent"]},{path:"/agent/profile",label:"Profile",icon:"account_circle",roles:["agent"]},{path:"/farmer/orders",label:"My Orders",icon:"receipt_long",roles:["farmer"]},{path:"/farmer/payments",label:"Payments",icon:"payments",roles:["farmer"]},{path:"/farmer/profile",label:"Profile",icon:"account_circle",roles:["farmer"]}];function WO({userRole:t,userName:e,onLogout:r}){const[n]=xl(),s=BO.filter(i=>i.roles.includes(t));return u.jsxs("nav",{className:"hidden md:flex sticky top-0 z-50 h-16 bg-card border-b border-card-border items-center justify-between px-6","data-testid":"desktop-nav",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary text-3xl",children:"agriculture"}),u.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Gladfore"})]}),u.jsx("div",{className:"flex items-center gap-2",children:s.map(i=>{const o=n===i.path;return u.jsx(hs,{href:i.path,children:u.jsx("a",{"data-testid":`nav-link-${i.label.toLowerCase().replace(/\s+/g,"-")}`,children:u.jsxs(Kt,{variant:o?"secondary":"ghost",className:"gap-2",children:[u.jsx("span",{className:"material-icons text-xl",children:i.icon}),i.label]})})},i.path)})}),u.jsxs("div",{className:"flex items-center gap-4",children:[e&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-2xl text-muted-foreground",children:"account_circle"}),u.jsx("span",{className:"text-sm font-medium text-foreground",children:e})]}),r&&u.jsx(Kt,{variant:"outline",onClick:r,"data-testid":"button-logout",children:"Logout"})]})]})}var yh=function(t,e){return yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},yh(t,e)};function T_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yr=function(){return yr=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yr.apply(this,arguments)};function Cs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function j_(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function O_(t,e){return function(r,n){e(r,n,t)}}function P_(t,e,r,n,s,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,h=!1,v=r.length-1;v>=0;v--){var x={};for(var p in n)x[p]=p==="access"?{}:n[p];for(var p in n.access)x.access[p]=n.access[p];x.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var w=(0,r[v])(a==="accessor"?{get:d.get,set:d.set}:d[l],x);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=o(w.get))&&(d.get=f),(f=o(w.set))&&(d.set=f),(f=o(w.init))&&s.unshift(f)}else(f=o(w))&&(a==="field"?s.unshift(f):d[l]=f)}c&&Object.defineProperty(c,n.name,d),h=!0}function N_(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function R_(t){return typeof t=="symbol"?t:"".concat(t)}function A_(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function I_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function D_(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ku=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function L_(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ku(e,t,r)}function iu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function om(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function M_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(om(arguments[e]));return t}function F_(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function am(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function To(t){return this instanceof To?(this.v=t,this):new To(t)}function $_(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(x){return Promise.resolve(x).then(v,f)}}function a(v,x){n[v]&&(s[v]=function(p){return new Promise(function(w,y){i.push([v,p,w,y])>1||l(v,p)})},x&&(s[v]=x(s[v])))}function l(v,x){try{c(n[v](x))}catch(p){h(i[0][3],p)}}function c(v){v.value instanceof To?Promise.resolve(v.value.v).then(d,f):h(i[0][2],v)}function d(v){l("next",v)}function f(v){l("throw",v)}function h(v,x){v(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}function U_(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:To(t[s](o)),done:!1}:i?i(o):o}:i}}function V_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof iu=="function"?iu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function z_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var qO=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},wh=function(t){return wh=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},wh(t)};function B_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=wh(t),n=0;n<r.length;n++)r[n]!=="default"&&Ku(e,t,r[n]);return qO(e,t),e}function W_(t){return t&&t.__esModule?t:{default:t}}function q_(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function H_(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function K_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Q_(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var HO=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function G_(t){function e(i){t.error=t.hasError?new HO(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Z_(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const KO={__extends:T_,__assign:yr,__rest:Cs,__decorate:j_,__param:O_,__esDecorate:P_,__runInitializers:N_,__propKey:R_,__setFunctionName:A_,__metadata:I_,__awaiter:oe,__generator:D_,__createBinding:Ku,__exportStar:L_,__values:iu,__read:om,__spread:M_,__spreadArrays:F_,__spreadArray:am,__await:To,__asyncGenerator:$_,__asyncDelegator:U_,__asyncValues:V_,__makeTemplateObject:z_,__importStar:B_,__importDefault:W_,__classPrivateFieldGet:q_,__classPrivateFieldSet:H_,__classPrivateFieldIn:K_,__addDisposableResource:Q_,__disposeResources:G_,__rewriteRelativeImportExtension:Z_},QO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Q_,get __assign(){return yr},__asyncDelegator:U_,__asyncGenerator:$_,__asyncValues:V_,__await:To,__awaiter:oe,__classPrivateFieldGet:q_,__classPrivateFieldIn:K_,__classPrivateFieldSet:H_,__createBinding:Ku,__decorate:j_,__disposeResources:G_,__esDecorate:P_,__exportStar:L_,__extends:T_,__generator:D_,__importDefault:W_,__importStar:B_,__makeTemplateObject:z_,__metadata:I_,__param:O_,__propKey:R_,__read:om,__rest:Cs,__rewriteRelativeImportExtension:Z_,__runInitializers:N_,__setFunctionName:A_,__spread:M_,__spreadArray:am,__spreadArrays:F_,__values:iu,default:KO},Symbol.toStringTag,{value:"Module"})),GO="modulepreload",ZO=function(t,e){return new URL(t,e).href},fv={},$o=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ZO(c,n),c in fv)return;fv[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let x=o.length-1;x>=0;x--){const p=o[x];if(p.href===c&&(!d||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":GO,d||(v.as="script"),v.crossOrigin="",v.href=c,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((x,p)=>{v.addEventListener("load",x),v.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},JO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$o(async()=>{const{default:n}=await Promise.resolve().then(()=>pi);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class lm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class hv extends lm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pv extends lm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mv extends lm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xh||(xh={}));class YO{constructor(e,{headers:r={},customFetch:n,region:s=xh.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=JO(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oe(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let c={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;const v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new hv(y)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new pv(v);if(!v.ok)throw new mv(v);let p=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield v.json():p==="application/octet-stream"||p==="application/pdf"?w=yield v.blob():p==="text/event-stream"?w=v:p==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new hv(i)}:{data:null,error:i,response:i instanceof mv||i instanceof pv?i.context:void 0}}})}}var qt={};const Uo=Ey(QO);var Jl={},Yl={},Xl={},ec={},tc={},XO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jo=XO();const eP=jo.fetch,J_=jo.fetch.bind(jo),Y_=jo.Headers,tP=jo.Request,rP=jo.Response,pi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y_,Request:tP,Response:rP,default:J_,fetch:eP},Symbol.toStringTag,{value:"Module"})),nP=Ey(pi);var rc={},gv;function X_(){if(gv)return rc;gv=1,Object.defineProperty(rc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return rc.default=t,rc}var vv;function eb(){if(vv)return tc;vv=1,Object.defineProperty(tc,"__esModule",{value:!0});const t=Uo,e=t.__importDefault(nP),r=t.__importDefault(X_());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,h,v;let x=null,p=null,w=null,y=c.status,m=c.statusText;if(c.ok){if(this.method!=="HEAD"){const P=await c.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?p=P:p=JSON.parse(P))}const S=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),C=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");S&&C&&C.length>1&&(w=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(x={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,w=null,y=406,m="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const S=await c.text();try{x=JSON.parse(S),Array.isArray(x)&&c.status===404&&(p=[],x=null,y=200,m="OK")}catch{c.status===404&&S===""?(y=204,m="No Content"):x={message:S}}if(x&&this.isMaybeSingle&&(!((v=x==null?void 0:x.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,y=200,m="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:p,count:w,status:y,statusText:m}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,f,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return tc.default=n,tc}var yv;function tb(){if(yv)return ec;yv=1,Object.defineProperty(ec,"__esModule",{value:!0});const e=Uo.__importDefault(eb());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ec.default=r,ec}var wv;function cm(){if(wv)return Xl;wv=1,Object.defineProperty(Xl,"__esModule",{value:!0});const e=Uo.__importDefault(tb());class r extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return Xl.default=r,Xl}var xv;function rb(){if(xv)return Yl;xv=1,Object.defineProperty(Yl,"__esModule",{value:!0});const e=Uo.__importDefault(cm());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,v)=>h.concat(Object.keys(v)),[]);if(f.length>0){const h=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Yl.default=r,Yl}var _v;function sP(){if(_v)return Jl;_v=1,Object.defineProperty(Jl,"__esModule",{value:!0});const t=Uo,e=t.__importDefault(rb()),r=t.__importDefault(cm());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let v;a||l?(f=a?"HEAD":"GET",Object.entries(o).filter(([p,w])=>w!==void 0).map(([p,w])=>[p,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([p,w])=>{h.searchParams.append(p,w)})):(f="POST",v=o);const x=new Headers(this.headers);return c&&x.set("Prefer",`count=${c}`),new r.default({method:f,url:h,headers:x,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Jl.default=n,Jl}Object.defineProperty(qt,"__esModule",{value:!0});qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const Vo=Uo,nb=Vo.__importDefault(sP());qt.PostgrestClient=nb.default;const sb=Vo.__importDefault(rb());qt.PostgrestQueryBuilder=sb.default;const ib=Vo.__importDefault(cm());qt.PostgrestFilterBuilder=ib.default;const ob=Vo.__importDefault(tb());qt.PostgrestTransformBuilder=ob.default;const ab=Vo.__importDefault(eb());qt.PostgrestBuilder=ab.default;const lb=Vo.__importDefault(X_());qt.PostgrestError=lb.default;var iP=qt.default={PostgrestClient:nb.default,PostgrestQueryBuilder:sb.default,PostgrestFilterBuilder:ib.default,PostgrestTransformBuilder:ob.default,PostgrestBuilder:ab.default,PostgrestError:lb.default};const{PostgrestClient:oP,PostgrestQueryBuilder:XD,PostgrestFilterBuilder:eL,PostgrestTransformBuilder:tL,PostgrestBuilder:rL,PostgrestError:nL}=iP;class aP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lP="2.76.1",cP=`realtime-js/${lP}`,uP="1.0.0",_h=1e4,dP=1e3,fP=100;var xa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xa||(xa={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var Pr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pr||(Pr={}));var bh;(function(t){t.websocket="websocket"})(bh||(bh={}));var Ds;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ds||(Ds={}));class hP{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class cb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ze||(ze={}));const bv=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=pP(o,t,e,s),i),{}):{}},pP=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?ub(i,o):Sh(o)},ub=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return yP(e,r)}switch(t){case ze.bool:return mP(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return gP(e);case ze.json:case ze.jsonb:return vP(e);case ze.timestamp:return wP(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Sh(e);default:return Sh(e)}},Sh=t=>t,mP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ub(e,a))}return t},wP=t=>typeof t=="string"?t.replace(" ","T"):t,db=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ld{constructor(e,r,n={},s=_h){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sv||(Sv={}));class _a{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_a.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=_a.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_a.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(w=>w.presence_ref),v=f.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),p=f.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(a[c]=x),p.length>0&&(l[c]=p)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ev;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ev||(Ev={}));var ba;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ba||(ba={}));var vn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vn||(vn={}));class um{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ld(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new _a(this),this.broadcastEndpointURL=db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ba.PRESENCE]&&this.bindings[ba.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(vn.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(vn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(vn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,w=(x=p==null?void 0:p.length)!==null&&x!==void 0?x:0,y=[];for(let m=0;m<w;m++){const g=p[m],{filter:{event:S,schema:C,table:P,filter:j}}=g,b=v&&v[m];if(b&&b.event===S&&b.schema===C&&b.table===P&&b.filter===j)y.push(Object.assign(Object.assign({},g),{id:b.id}));else{this.unsubscribe(),this.state=dt.errored,e==null||e(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(vn.SUBSCRIBED);return}}).receive("error",v=>{this.state=dt.errored,e==null||e(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===dt.joined&&e===ba.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ld(this,Pr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ld(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Pr;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,p,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(p=v.filter)===null||p===void 0?void 0:p.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,p,w,y,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const S=v.id,C=(x=v.filter)===null||x===void 0?void 0:x.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(m=(y=v==null?void 0:v.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:p,table:w,commit_timestamp:y,type:m,errors:g}=x;h=Object.assign(Object.assign({},{schema:p,table:w,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(x))}v.callback(h,n)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&um.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pr.close,{},e)}_onError(e){this._on(Pr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bv(e.columns,e.old_record)),r}}const Md=()=>{},nc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xP=[1e3,2e3,5e3,1e4],_P=1e4,bP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SP{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_h,this.transport=null,this.heartbeatIntervalMs=nc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Md,this.ref=0,this.reconnectTimer=null,this.logger=Md,this.conn=null,this.sendBuffer=[],this.serializer=new hP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>$o(async()=>{const{default:a}=await Promise.resolve().then(()=>pi);return{default:a}},void 0,import.meta.url).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${bh.websocket}`,this.httpEndpoint=db(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uP}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xa.connecting:return Ds.Connecting;case xa.open:return Ds.Open;case xa.closing:return Ds.Closing;default:return Ds.Closed}}isConnected(){return this.connectionState()===Ds.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new um(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(dP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},nc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([bP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:cP};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Pr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:_h,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:nc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Md,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>xP[f-1]||_P,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class EP extends dm{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eh extends dm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const fm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$o(async()=>{const{default:n}=await Promise.resolve().then(()=>pi);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},kP=()=>oe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $o(()=>Promise.resolve().then(()=>pi),void 0,import.meta.url)).Response:Response}),kh=t=>{if(Array.isArray(t))return t.map(r=>kh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=kh(n)}),e},CP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TP=(t,e,r)=>oe(void 0,void 0,void 0,function*(){const n=yield kP();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new EP(Fd(s),i,o))}).catch(s=>{e(new Eh(Fd(s),s))}):e(new Eh(Fd(t),t))}),jP=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(CP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function kl(t,e,r,n,s,i){return oe(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,jP(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>TP(l,a,n))})})}function Ka(t,e,r,n){return oe(this,void 0,void 0,function*(){return kl(t,"GET",e,r,n)})}function Tr(t,e,r,n,s){return oe(this,void 0,void 0,function*(){return kl(t,"POST",e,n,s,r)})}function Ch(t,e,r,n,s){return oe(this,void 0,void 0,function*(){return kl(t,"PUT",e,n,s,r)})}function OP(t,e,r,n){return oe(this,void 0,void 0,function*(){return kl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hm(t,e,r,n,s){return oe(this,void 0,void 0,function*(){return kl(t,"DELETE",e,n,s,r)})}class PP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}var fb;class NP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[fb]="BlobDownloadBuilder",this.promise=null}asStream(){return new PP(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}fb=Symbol.toStringTag;const RP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AP{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=fm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},kv),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(e=="PUT"?Ch:Tr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}upload(e,r,n){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:kv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield Ch(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Tr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new dm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}update(e,r,n){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return oe(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}copy(e,r,n){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return oe(this,void 0,void 0,function*(){try{const s=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Ka(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new NP(l,this.shouldThrowOnError)}info(e){return oe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ka(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}exists(e){return oe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield OP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n)&&n instanceof Eh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return oe(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}list(e,r,n){return oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},RP),r),{prefix:e||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}listV2(e,r){return oe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const hb="2.76.1",pb={"X-Client-Info":`storage-js/${hb}`};class IP{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pb),r),this.fetch=fm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return oe(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}createBucket(e){return oe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return oe(this,void 0,void 0,function*(){try{return{data:yield Ch(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}emptyBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}}class DP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pb),r),this.fetch=fm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield Ka(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield hm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}}const pm={"X-Client-Info":`storage-js/${hb}`,"Content-Type":"application/json"};class mb extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function rr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class $d extends mb{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class LP extends mb{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Cv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cv||(Cv={}));const mm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$o(async()=>{const{default:n}=await Promise.resolve().then(()=>pi);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},MP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FP=(t,e,r)=>oe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new $d(Tv(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new $d(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new $d(a,s,o))}}else e(new LP(Tv(t),t))}),$P=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(MP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function UP(t,e,r,n,s,i){return oe(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,$P(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>FP(l,a,n))})})}function nr(t,e,r,n,s){return oe(this,void 0,void 0,function*(){return UP(t,"POST",e,n,s,r)})}class VP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pm),r),this.fetch=mm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return oe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}listIndexes(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return oe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}class zP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pm),r),this.fetch=mm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield nr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}getVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}listVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield nr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}queryVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield nr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}}class BP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pm),r),this.fetch=mm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}listBuckets(){return oe(this,arguments,void 0,function*(e={}){try{return{data:yield nr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}}class WP extends BP{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new qP(this.url,this.headers,e,this.fetch)}}class qP extends VP{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new HP(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class HP extends zP{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class KP extends IP{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new AP(this.url,this.headers,e,this.fetch)}get vectors(){return new WP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DP(this.url+"/iceberg",this.headers,this.fetch)}}const QP="2.76.1";let oa="";typeof Deno<"u"?oa="deno":typeof document<"u"?oa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oa="react-native":oa="node";const GP={"X-Client-Info":`supabase-js-${oa}/${QP}`},ZP={headers:GP},JP={schema:"public"},YP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XP={},eN=t=>{let e;return t?e=t:typeof fetch>"u"?e=J_:e=fetch,(...r)=>e(...r)},tN=()=>typeof Headers>"u"?Y_:Headers,rN=(t,e,r)=>{const n=eN(r),s=tN();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function nN(t){return t.endsWith("/")?t:t+"/"}function sN(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function iN(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gb="2.76.1",Ti=30*1e3,Th=3,Ud=Th*Ti,oN="http://localhost:9999",aN="supabase.auth.token",lN={"X-Client-Info":`gotrue-js/${gb}`},jh="X-Supabase-Api-Version",vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uN=10*60*1e3;class Qa extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dN extends Qa{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fN(t){return de(t)&&t.name==="AuthApiError"}class Ls extends Qa{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ts extends Qa{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Un extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hN(t){return de(t)&&t.name==="AuthSessionMissingError"}class vi extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sc extends Ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ic extends Ts{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pN(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}class jv extends Ts{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oh extends Ts{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Vd(t){return de(t)&&t.name==="AuthRetryableFetchError"}class Ov extends Ts{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ph extends Ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pv=` 	
\r=`.split(""),mN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pv.length;e+=1)t[Pv[e].charCodeAt(0)]=-2;for(let e=0;e<ou.length;e+=1)t[ou[e].charCodeAt(0)]=e;return t})();function Nv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ou[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ou[n]),e.queuedBits-=6}}function yb(t,e,r){const n=mN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rv(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{yN(o,n,r)};for(let o=0;o<t.length;o+=1)yb(t.charCodeAt(o),s,i);return e.join("")}function gN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gN(n,e)}}function yN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Yi(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)yb(t.charCodeAt(s),r,n);return new Uint8Array(e)}function wN(t){const e=[];return vN(t,r=>e.push(r)),new Uint8Array(e)}function Us(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Nv(s,r,n)),Nv(null,r,n),e.join("")}function xN(t){return Math.round(Date.now()/1e3)+t}function _N(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",Ps={tested:!1,writable:!1},wb=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ps.tested)return Ps.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ps.tested=!0,Ps.writable=!0}catch{Ps.tested=!0,Ps.writable=!1}return Ps.writable};function bN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const xb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$o(async()=>{const{default:n}=await Promise.resolve().then(()=>pi);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},SN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ji=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ns=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fn=async(t,e)=>{await t.removeItem(e)};class Qu{constructor(){this.promise=new Qu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Qu.promiseConstructor=Promise;function zd(t){const e=t.split(".");if(e.length!==3)throw new Ph("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!cN.test(e[n]))throw new Ph("JWT not in base64url format");return{header:JSON.parse(Rv(e[0])),payload:JSON.parse(Rv(e[1])),signature:Yi(e[2]),raw:{header:e[0],payload:e[1]}}}async function EN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kN(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function CN(t){return("0"+t.toString(16)).substr(-2)}function TN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,CN).join("")}async function jN(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ON(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await jN(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(t,e,r=!1){const n=TN();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ji(t,`${e}-code-verifier`,s);const i=await ON(n);return[i,n===i?"plain":"s256"]}const PN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NN(t){const e=t.headers.get(jh);if(!e||!e.match(PN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function RN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wi(t){if(!IN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bd(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Av(t){return JSON.parse(JSON.stringify(t))}const Is=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DN=[502,503,504];async function Iv(t){var e;if(!SN(t))throw new Oh(Is(t),0);if(DN.includes(t.status))throw new Oh(Is(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ls(Is(i),i)}let n;const s=NN(t);if(s&&s.getTime()>=vb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ov(Is(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ov(Is(r),t.status,r.weak_password.reasons);throw new dN(Is(r),t.status||500,n)}const LN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ve(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[jh]||(i[jh]=vb["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await MN(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function MN(t,e,r,n,s,i){const o=LN(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Oh(Is(l),0)}if(a.ok||await Iv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Iv(l)}}function Er(t){var e;let r=null;UN(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=xN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Dv(t){const e=Er(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Hn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function FN(t){return{data:t,error:null}}function $N(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Cs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Lv(t){return t}function UN(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wd=["global","local","others"];class VN{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Wd[0]){if(Wd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wd.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Cs(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$N,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lv});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(de(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){wi(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wi(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Hn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wi(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wi(e.userId);try{const{data:r,error:n}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wi(e.userId),wi(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Lv});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(de(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Mv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const xi={debug:!!(globalThis&&wb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _b extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zN extends _b{}async function BN(t,e,r){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function WN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function qN(t){return parseInt(t,16)}function HN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function KN(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=bb(t.address),x=d?`${d}://${n}`:n,p=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${v}

${p}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const g of c){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${w}
${y}`}class lt extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class au extends lt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function QN({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Sb(o)){if(i.rp.id!==o)return new lt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function GN({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new lt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Sb(n)){if(r.rpId!==n)return new lt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ZN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const JN=new ZN;function YN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Cs(t,["challenge","user","excludeCredentials"]),i=Yi(e).buffer,o=Object.assign(Object.assign({},r),{id:Yi(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Yi(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function XN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Cs(t,["challenge","allowCredentials"]),s=Yi(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Yi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function eR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Us(new Uint8Array(t.response.attestationObject)),clientDataJSON:Us(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Us(new Uint8Array(s.authenticatorData)),clientDataJSON:Us(new Uint8Array(s.clientDataJSON)),signature:Us(new Uint8Array(s.signature)),userHandle:s.userHandle?Us(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Fv(){var t,e;return!!(Yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rR(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new au("Browser returned unexpected credential type",e)}:{data:null,error:new au("Empty credential response",e)}}catch(e){return{data:null,error:QN({error:e,options:t})}}}async function nR(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new au("Browser returned unexpected credential type",e)}:{data:null,error:new au("Empty credential response",e)}}catch(e){return{data:null,error:GN({error:e,options:t})}}}const sR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},iR={userVerification:"preferred",hints:["security-key"]};function lu(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=lu(a,o):n[i]=lu(o)}else n[i]=o}return n}function oR(t,e){return lu(sR,t,e||{})}function aR(t,e){return lu(iR,t,e||{})}class lR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??JN.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=oR(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await rR({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=aR(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await nR(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Ls("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new Qa("rpId is required for WebAuthn authentication")};try{if(!Fv())return{data:null,error:new Ls("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Ls("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new Qa("rpId is required for WebAuthn registration")};try{if(!Fv())return{data:null,error:new Ls("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Ls("Unexpected error in register",o)}}}}WN();const cR={url:oN,storageKey:aN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $v(t,e,r){return await r()}const _i={};class Ga{get jwks(){var e,r;return(r=(e=_i[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_i[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ga.nextInstanceID,Ga.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},cR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new VN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xb(s.fetch),this.lock=s.lock||$v,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=BN:this.lock=$v,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lR(this)},this.persistSession?(s.storage?this.storage=s.storage:wb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mv(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=bN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Yt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pN(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new Ls("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Er}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await yi(this.storage,this.storageKey)),i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:x},xform:Er})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Er})}else throw new sc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dv})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dv})}else throw new sc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vi}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,d,f,h;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:p,wallet:w,statement:y,options:m}=e;let g;if(Yt())if(typeof w=="object")g=w;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")g=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=w}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),C=await g.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=bb(C[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const E=await g.request({method:"eth_chainId"});j=qN(E)}const b={domain:S.host,address:P,statement:y,uri:S.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=KN(b),x=await g.request({method:"personal_sign",params:[HN(v),P]})}try{const{data:p,error:w}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Er});if(w)throw w;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new vi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:w})}catch(p){if(de(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,f,h,v;let x,p;if("message"in e)x=e.message,p=e.signature;else{const{chain:w,wallet:y,statement:m,options:g}=e;let S;if(Yt())if(typeof y=="object")S=y;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))S=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const C=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const P=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let j;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")j=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)j=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const P=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=P}}try{const{data:w,error:y}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Us(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Er});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new vi}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(de(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await Ns(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Er});if(await Fn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new vi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(de(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Er}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yi(this.storage,this.storageKey));const{error:f}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new sc("You must provide either an email or phone number.")}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Er});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await yi(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:FN})}catch(i){if(de(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Un;const{error:s}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(de(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new sc("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ud:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ns(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Bd()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Hn})})}catch(r){if(de(r))return hN(r)&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Un;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await yi(this.storage,this.storageKey));const{data:c,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Hn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Un;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=zd(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Un;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Yt())throw new ic("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ic(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jv("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ic("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const v=h-d;v*1e3<=Ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:p,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ns(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(fN(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=_N(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yi(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(de(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Yt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,f=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Er}),{data:h,error:v}=f;return v?{data:{user:null,session:null},error:v}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new vi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:v})}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await kN(async s=>(s>0&&await EN(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Er})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Vd(i)&&Date.now()+o-n<Ti})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Yt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ns(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ji(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Bd()}else if(s&&!s.user&&!s.user){const o=await Ns(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Fn(this.storage,this.storageKey+"-user"),await ji(this.storage,this.storageKey,s)):s.user=Bd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ud;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ud}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Vd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Un;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),de(i)){const o={data:null,error:i};return Vd(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ji(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Av(s);await ji(this.storage,this.storageKey,i)}else{const s=Av(r);await ji(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Fn(this.storage,this.storageKey),await Fn(this.storage,this.storageKey+"-code-verifier"),await Fn(this.storage,this.storageKey+"-user"),this.userStorage&&await Fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ti);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ti}ms, refresh threshold is ${Th} ticks`),s<=Th&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _b)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await yi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?eR(e.webauthn.credential_response):tR(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:YN(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:XN(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zd(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+uN>s)return n;const{data:i,error:o}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=zd(n);r!=null&&r.allowExpired||RN(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=AN(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,wN(`${a}.${l}`)))throw new Ph("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}Ga.nextInstanceID=0;const uR=Ga;class dR extends uR{constructor(e){super(e)}}class fR{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=iN(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:JP,realtime:XP,auth:Object.assign(Object.assign({},YP),{storageKey:l}),global:ZP},d=sN(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=rN(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new oP(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new KP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new YO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dR({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new SP(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hR=(t,e,r)=>new fR(t,e,r);function pR(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}pR()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mR=void 0,gR=void 0;throw new Error("Missing Supabase environment variables");const Ie=hR(mR,gR);function Wr({children:t}){const[,e]=xl(),{toast:r}=hi(),{data:n}=cr({queryKey:["/api/auth/session"],queryFn:async()=>{const{data:{user:i}}=await Ie.auth.getUser();if(!i)return e("/login"),null;const{data:o,error:a}=await Ie.from("users").select("*").eq("id",i.id).single();return a?(console.error("Error fetching user profile:",a),null):{...o,role:o.role}}}),s=async()=>{await Ie.auth.signOut(),r({title:"Logged out",description:"You have been successfully logged out"}),e("/login")};return n?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(WO,{userRole:n.role,userName:n.name,onLogout:s}),u.jsx("main",{className:"min-h-screen md:min-h-0",children:t}),u.jsx(VO,{userRole:n.role})]}):null}const $e=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ke("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));$e.displayName="Card";const yt=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ke("flex flex-col space-y-1.5 p-6",t),...e}));yt.displayName="CardHeader";const wt=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));wt.displayName="CardTitle";const Eb=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ke("text-sm text-muted-foreground",t),...e}));Eb.displayName="CardDescription";const Ue=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ke("p-6 pt-0",t),...e}));Ue.displayName="CardContent";const vR=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ke("flex items-center p-6 pt-0",t),...e}));vR.displayName="CardFooter";function yR(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx($e,{className:"w-full max-w-md mx-4",children:u.jsxs(Ue,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(jT,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const En=_.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:Ke("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));En.displayName="Input";var wR="Label",kb=_.forwardRef((t,e)=>u.jsx(Ve.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));kb.displayName=wR;var Cb=kb;const xR=Uu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_n=_.forwardRef(({className:t,...e},r)=>u.jsx(Cb,{ref:r,className:Ke(xR(),t),...e}));_n.displayName=Cb.displayName;function _R(){const[,t]=xl(),{toast:e}=hi(),[r,n]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState(""),[l,c]=_.useState("email"),[d,f]=_.useState(!1),h=async x=>{x.preventDefault(),f(!0);try{const{data:p,error:w}=await Ie.auth.signInWithPassword({email:r,password:s});if(w)throw w;const{data:y,error:m}=await Ie.from("users").select("role").eq("id",p.user.id).single();if(m)throw m;const g=y.role;t(g==="admin"?"/admin/dashboard":g==="agent"?"/agent/dashboard":"/farmer/orders"),e({title:"Login successful",description:"Welcome back!"})}catch(p){e({title:"Login failed",description:p.message,variant:"destructive"})}finally{f(!1)}},v=async x=>{x.preventDefault(),f(!0);try{const{error:p}=await Ie.auth.signInWithOtp({phone:o});if(p)throw p;e({title:"OTP sent",description:"Please check your phone for the verification code"})}catch(p){e({title:"Login failed",description:p.message,variant:"destructive"})}finally{f(!1)}};return u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:u.jsxs($e,{className:"w-full max-w-md",children:[u.jsxs(yt,{className:"text-center space-y-2",children:[u.jsx("div",{className:"flex justify-center mb-2",children:u.jsx("span",{className:"material-icons text-primary text-5xl",children:"agriculture"})}),u.jsx(wt,{className:"text-3xl font-bold",children:"Gladfore"}),u.jsx(Eb,{className:"text-base",children:"Fertilizer Credit Management System"})]}),u.jsxs(Ue,{children:[u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsxs(Kt,{variant:l==="email"?"default":"outline",className:"flex-1",onClick:()=>c("email"),"data-testid":"button-login-type-email",children:[u.jsx("span",{className:"material-icons text-xl mr-2",children:"email"}),"Email"]}),u.jsxs(Kt,{variant:l==="phone"?"default":"outline",className:"flex-1",onClick:()=>c("phone"),"data-testid":"button-login-type-phone",children:[u.jsx("span",{className:"material-icons text-xl mr-2",children:"phone"}),"Phone"]})]}),l==="email"?u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_n,{htmlFor:"email",children:"Email"}),u.jsx(En,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:x=>n(x.target.value),required:!0,className:"h-14","data-testid":"input-email"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_n,{htmlFor:"password",children:"Password"}),u.jsx(En,{id:"password",type:"password",placeholder:"Enter your password",value:s,onChange:x=>i(x.target.value),required:!0,className:"h-14","data-testid":"input-password"})]}),u.jsx(Kt,{type:"submit",className:"w-full h-12",disabled:d,"data-testid":"button-login",children:d?"Signing in...":"Sign In"})]}):u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_n,{htmlFor:"phone",children:"Phone Number"}),u.jsx(En,{id:"phone",type:"tel",placeholder:"+254 700 000000",value:o,onChange:x=>a(x.target.value),required:!0,className:"h-14","data-testid":"input-phone"})]}),u.jsx(Kt,{type:"submit",className:"w-full h-12",disabled:d,"data-testid":"button-send-otp",children:d?"Sending OTP...":"Send OTP"})]}),u.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[u.jsx("p",{children:"For Admin/Agent: Use email & password"}),u.jsx("p",{children:"For Farmers: Use phone number (OTP)"})]})]})]})})}function bR(){const r=[{name:"Amina",quote:"Gladfore's input credit helped me buy fertilizer when I needed it most. Harvest was better and I paid back on time."},{name:"Kofi",quote:"The agents were helpful and the 50:50 credit made it easy to access quality inputs without upfront full payment."}];return u.jsx("main",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-800",children:u.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-16",children:[u.jsxs("header",{className:"flex items-center justify-between mb-12",children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Gladfore"}),u.jsx("nav",{className:"space-x-4",children:u.jsx(hs,{href:"/login",className:"text-sm text-slate-700 dark:text-slate-200",children:"Sign in"})})]}),u.jsxs("section",{className:"grid gap-8 lg:grid-cols-2 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-4xl font-extrabold mb-4 text-slate-900 dark:text-white",children:"Grow with confidence — 50:50 input credit"}),u.jsx("p",{className:"text-lg text-slate-700 dark:text-slate-300 mb-6",children:"Gladfore partners with smallholder farmers to provide fertilizer on a 50:50 credit. Farmers pay 50% upfront and the remainder after harvest at an agreed date — making quality inputs accessible when they matter."}),u.jsxs("ul",{className:"space-y-3 mb-6",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"inline-block w-8 h-8 rounded-full bg-green-600 text-white flex items-center justify-center",children:"✓"}),u.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"Pay only half upfront — the rest after harvest."})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"inline-block w-8 h-8 rounded-full bg-amber-500 text-white flex items-center justify-center",children:"★"}),u.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:"Agents earn commission for curating qualified farmers."})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(hs,{href:"/login?role=farmer",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:opacity-95",children:"Join as a farmer"}),u.jsx(hs,{href:"/login?role=agent",className:"px-4 py-2 border border-slate-300 rounded-md text-slate-800 hover:bg-slate-50",children:"Join as an agent"})]})]}),u.jsxs("aside",{className:"bg-white dark:bg-slate-900 rounded-lg shadow p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-sm text-slate-500",children:"Our impact"}),u.jsxs("div",{className:"flex items-baseline gap-4 mt-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:1234 .toLocaleString()}),u.jsx("div",{className:"text-sm text-slate-500",children:"farmers"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:4567 .toLocaleString()}),u.jsx("div",{className:"text-sm text-slate-500",children:"fertilizers given"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm text-slate-500 mb-3",children:"Testimonials"}),u.jsx("div",{className:"space-y-3",children:r.map(n=>u.jsxs("blockquote",{className:"p-3 rounded-md bg-slate-50 dark:bg-slate-800",children:[u.jsxs("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:["“",n.quote,"”"]}),u.jsxs("footer",{className:"text-xs text-slate-500 mt-2",children:["— ",n.name]})]},n.name))})]})]})]}),u.jsxs("section",{className:"mt-12",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-white",children:"Agents: Earn while you help"}),u.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-4",children:"As an agent, you represent Gladfore in your area. You help identify farmers who qualify for our 50:50 credit, assist with onboarding, and earn commission when contracts are successful and repaid."}),u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Ready to join? Sign up above or contact our team to learn more."})]})]})})}function ln({title:t,subtitle:e,action:r}){return u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-foreground",children:t}),e&&u.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:e})]}),r&&u.jsx("div",{className:"mt-4 md:mt-0",children:r})]})}function SR(t,e){return t*e}function Tb(t){return t*.5}function Uv(t,e){const r=Tb(t);return Math.abs(e-r)<.01}function Ot(t){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(t)}function Xi(t){const e=typeof t=="string"?new Date(t):t;return new Intl.DateTimeFormat("en-KE",{year:"numeric",month:"short",day:"numeric"}).format(e)}function qd(t){return new Date>new Date(t)}function ER(t){switch(t.toLowerCase()){case"approved":case"paid":return"default";case"pending":return"secondary";case"rejected":case"overdue":return"destructive";default:return"outline"}}function kR(){const{data:t,isLoading:e}=cr({queryKey:["/api/admin/stats"],queryFn:async()=>{const{data:r,error:n}=await Ie.from("orders").select("*");if(n)throw n;const s=r.filter(l=>l.status==="approved").reduce((l,c)=>l+parseFloat(c.down_payment||"0"),0),i=r.filter(l=>l.status==="approved").reduce((l,c)=>l+parseFloat(c.remaining_balance||"0"),0),o=r.filter(l=>l.status==="pending").length,a=r.filter(l=>l.status==="approved").length;return{totalDownPayments:s,totalPendingDebt:i,pendingOrders:o,approvedOrders:a}}});return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[u.jsx(ln,{title:"Admin Dashboard",subtitle:"Overview of system performance and financials"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"Total Down Payments"}),u.jsx("span",{className:"material-icons text-primary",children:"payments"})]}),u.jsxs(Ue,{children:[u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":Ot((t==null?void 0:t.totalDownPayments)||0)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From approved orders"})]})]}),u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"Total Pending Debt"}),u.jsx("span",{className:"material-icons text-destructive",children:"account_balance"})]}),u.jsxs(Ue,{children:[u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":Ot((t==null?void 0:t.totalPendingDebt)||0)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Remaining 50% balance"})]})]}),u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"Pending Orders"}),u.jsx("span",{className:"material-icons text-secondary-foreground",children:"pending"})]}),u.jsxs(Ue,{children:[u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":(t==null?void 0:t.pendingOrders)||0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting approval"})]})]}),u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"Approved Orders"}),u.jsx("span",{className:"material-icons text-primary",children:"check_circle"})]}),u.jsxs(Ue,{children:[u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":(t==null?void 0:t.approvedOrders)||0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active credit lines"})]})]})]})]})}var jb={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(QS,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s,i=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,a={},l=0,c={};function d(b){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var O=C(E);O.chunkSize=parseInt(O.chunkSize),E.step||E.chunk||(O.chunkSize=null),this._handle=new p(O),(this._handle.streamer=this)._config=O}).call(this,b),this.parseChunk=function(E,O){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let F=this._config.newline;F||(N=this._config.quoteChar||'"',F=this._handle.guessLineEndings(E,N)),E=[...E.split(F).slice(L)].join(F)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(E))!==void 0&&(E=N),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+E,N=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=N.meta.cursor,L=(this._finished||(this._partialLine=L.substring(E-this._baseIndex),this._baseIndex=E),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:N,workerId:c.WORKER_ID,finished:L});else if(j(this._config.chunk)&&!O){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!L||!j(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(E){j(this._config.error)?this._config.error(E):o&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:E,finished:!1})}}function f(b){var E;(b=b||{}).chunkSize||(b.chunkSize=c.RemoteChunkSize),d.call(this,b),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),i||(E.onload=P(this._chunkLoaded,this),E.onerror=P(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var O,L=this._config.downloadRequestHeaders;for(O in L)E.setRequestHeader(O,L[O])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+N));try{E.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}i&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(O){O=E.statusText||O,this._sendError(new Error(O))}}function h(b){(b=b||{}).chunkSize||(b.chunkSize=c.LocalChunkSize),d.call(this,b);var E,O,L=typeof FileReader<"u";this.stream=function(N){this._input=N,O=N.slice||N.webkitSlice||N.mozSlice,L?((E=new FileReader).onload=P(this._chunkLoaded,this),E.onerror=P(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,F=(this._config.chunkSize&&(F=Math.min(this._start+this._config.chunkSize,this._input.size),N=O.call(N,this._start,F)),E.readAsText(N,this._config.encoding));L||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(E.error)}}function v(b){var E;d.call(this,b=b||{}),this.stream=function(O){return E=O,this._nextChunk()},this._nextChunk=function(){var O,L;if(!this._finished)return O=this._config.chunkSize,E=O?(L=E.substring(0,O),E.substring(O)):(L=E,""),this._finished=!E,this.parseChunk(L)}}function x(b){d.call(this,b=b||{});var E=[],O=!0,L=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):O=!0},this._streamData=P(function(N){try{E.push(typeof N=="string"?N:N.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(F){this._streamError(F)}},this),this._streamError=P(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=P(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(b){var E,O,L,N,F=Math.pow(2,53),M=-F,ee=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,A=0,D=0,q=!1,W=!1,te=[],Z={data:[],errors:[],meta:{}};function we(ie){return b.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function Pe(){if(Z&&L&&(ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),L=!1),b.skipEmptyLines&&(Z.data=Z.data.filter(function(Q){return!we(Q)})),Te()){let Q=function(le,je){j(b.transformHeader)&&(le=b.transformHeader(le,je)),te.push(le)};if(Z)if(Array.isArray(Z.data[0])){for(var ie=0;Te()&&ie<Z.data.length;ie++)Z.data[ie].forEach(Q);Z.data.splice(0,1)}else Z.data.forEach(Q)}function ce(Q,le){for(var je=b.header?{}:[],xe=0;xe<Q.length;xe++){var Ne=xe,me=Q[xe],me=((at,ge)=>(De=>(b.dynamicTypingFunction&&b.dynamicTyping[De]===void 0&&(b.dynamicTyping[De]=b.dynamicTypingFunction(De)),(b.dynamicTyping[De]||b.dynamicTyping)===!0))(at)?ge==="true"||ge==="TRUE"||ge!=="false"&&ge!=="FALSE"&&((De=>{if(ee.test(De)&&(De=parseFloat(De),M<De&&De<F))return 1})(ge)?parseFloat(ge):K.test(ge)?new Date(ge):ge===""?null:ge):ge)(Ne=b.header?xe>=te.length?"__parsed_extra":te[xe]:Ne,me=b.transform?b.transform(me,Ne):me);Ne==="__parsed_extra"?(je[Ne]=je[Ne]||[],je[Ne].push(me)):je[Ne]=me}return b.header&&(xe>te.length?ne("FieldMismatch","TooManyFields","Too many fields: expected "+te.length+" fields but parsed "+xe,D+le):xe<te.length&&ne("FieldMismatch","TooFewFields","Too few fields: expected "+te.length+" fields but parsed "+xe,D+le)),je}var ue;Z&&(b.header||b.dynamicTyping||b.transform)&&(ue=1,!Z.data.length||Array.isArray(Z.data[0])?(Z.data=Z.data.map(ce),ue=Z.data.length):Z.data=ce(Z.data,0),b.header&&Z.meta&&(Z.meta.fields=te),D+=ue)}function Te(){return b.header&&te.length===0}function ne(ie,ce,ue,Q){ie={type:ie,code:ce,message:ue},Q!==void 0&&(ie.row=Q),Z.errors.push(ie)}j(b.step)&&(N=b.step,b.step=function(ie){Z=ie,Te()?Pe():(Pe(),Z.data.length!==0&&(A+=ie.data.length,b.preview&&A>b.preview?O.abort():(Z.data=Z.data[0],N(Z,B))))}),this.parse=function(ie,ce,ue){var Q=b.quoteChar||'"',Q=(b.newline||(b.newline=this.guessLineEndings(ie,Q)),L=!1,b.delimiter?j(b.delimiter)&&(b.delimiter=b.delimiter(ie),Z.meta.delimiter=b.delimiter):((Q=((le,je,xe,Ne,me)=>{var at,ge,De,cn;me=me||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var un=0;un<me.length;un++){for(var k,R=me[un],I=0,H=0,U=0,$=(De=void 0,new y({comments:Ne,delimiter:R,newline:je,preview:10}).parse(le)),J=0;J<$.data.length;J++)xe&&we($.data[J])?U++:(k=$.data[J].length,H+=k,De===void 0?De=k:0<k&&(I+=Math.abs(k-De),De=k));0<$.data.length&&(H/=$.data.length-U),(ge===void 0||I<=ge)&&(cn===void 0||cn<H)&&1.99<H&&(ge=I,at=R,cn=H)}return{successful:!!(b.delimiter=at),bestDelimiter:at}})(ie,b.newline,b.skipEmptyLines,b.comments,b.delimitersToGuess)).successful?b.delimiter=Q.bestDelimiter:(L=!0,b.delimiter=c.DefaultDelimiter),Z.meta.delimiter=b.delimiter),C(b));return b.preview&&b.header&&Q.preview++,E=ie,O=new y(Q),Z=O.parse(E,ce,ue),Pe(),q?{meta:{paused:!0}}:Z||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,O.abort(),E=j(b.chunk)?"":E.substring(O.getCharIndex())},this.resume=function(){B.streamer._halted?(q=!1,B.streamer.parseChunk(E,!0)):setTimeout(B.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,O.abort(),Z.meta.aborted=!0,j(b.complete)&&b.complete(Z),E=""},this.guessLineEndings=function(le,Q){le=le.substring(0,1048576);var Q=new RegExp(w(Q)+"([^]*?)"+w(Q),"gm"),ue=(le=le.replace(Q,"")).split("\r"),Q=le.split(`
`),le=1<Q.length&&Q[0].length<ue[0].length;if(ue.length===1||le)return`
`;for(var je=0,xe=0;xe<ue.length;xe++)ue[xe][0]===`
`&&je++;return je>=ue.length/2?`\r
`:"\r"}}function w(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(b){var E=(b=b||{}).delimiter,O=b.newline,L=b.comments,N=b.step,F=b.preview,M=b.fastMode,ee=null,K=!1,B=b.quoteChar==null?'"':b.quoteChar,A=B;if(b.escapeChar!==void 0&&(A=b.escapeChar),(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=","),L===E)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<c.BAD_DELIMITERS.indexOf(L))&&(L=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var D=0,q=!1;this.parse=function(W,te,Z){if(typeof W!="string")throw new Error("Input must be a string");var we=W.length,Pe=E.length,Te=O.length,ne=L.length,ie=j(N),ce=[],ue=[],Q=[],le=D=0;if(!W)return I();if(M||M!==!1&&W.indexOf(B)===-1){for(var je=W.split(O),xe=0;xe<je.length;xe++){if(Q=je[xe],D+=Q.length,xe!==je.length-1)D+=O.length;else if(Z)return I();if(!L||Q.substring(0,ne)!==L){if(ie){if(ce=[],cn(Q.split(E)),H(),q)return I()}else cn(Q.split(E));if(F&&F<=xe)return ce=ce.slice(0,F),I(!0)}}return I()}for(var Ne=W.indexOf(E,D),me=W.indexOf(O,D),at=new RegExp(w(A)+w(B),"g"),ge=W.indexOf(B,D);;)if(W[D]===B)for(ge=D,D++;;){if((ge=W.indexOf(B,ge+1))===-1)return Z||ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ce.length,index:D}),k();if(ge===we-1)return k(W.substring(D,ge).replace(at,B));if(B===A&&W[ge+1]===A)ge++;else if(B===A||ge===0||W[ge-1]!==A){Ne!==-1&&Ne<ge+1&&(Ne=W.indexOf(E,ge+1));var De=un((me=me!==-1&&me<ge+1?W.indexOf(O,ge+1):me)===-1?Ne:Math.min(Ne,me));if(W.substr(ge+1+De,Pe)===E){Q.push(W.substring(D,ge).replace(at,B)),W[D=ge+1+De+Pe]!==B&&(ge=W.indexOf(B,D)),Ne=W.indexOf(E,D),me=W.indexOf(O,D);break}if(De=un(me),W.substring(ge+1+De,ge+1+De+Te)===O){if(Q.push(W.substring(D,ge).replace(at,B)),R(ge+1+De+Te),Ne=W.indexOf(E,D),ge=W.indexOf(B,D),ie&&(H(),q))return I();if(F&&ce.length>=F)return I(!0);break}ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ce.length,index:D}),ge++}}else if(L&&Q.length===0&&W.substring(D,D+ne)===L){if(me===-1)return I();D=me+Te,me=W.indexOf(O,D),Ne=W.indexOf(E,D)}else if(Ne!==-1&&(Ne<me||me===-1))Q.push(W.substring(D,Ne)),D=Ne+Pe,Ne=W.indexOf(E,D);else{if(me===-1)break;if(Q.push(W.substring(D,me)),R(me+Te),ie&&(H(),q))return I();if(F&&ce.length>=F)return I(!0)}return k();function cn(U){ce.push(U),le=D}function un(U){var $=0;return $=U!==-1&&(U=W.substring(ge+1,U))&&U.trim()===""?U.length:$}function k(U){return Z||(U===void 0&&(U=W.substring(D)),Q.push(U),D=we,cn(Q),ie&&H()),I()}function R(U){D=U,cn(Q),Q=[],me=W.indexOf(O,D)}function I(U){if(b.header&&!te&&ce.length&&!K){var $=ce[0],J=Object.create(null),ke=new Set($);let Ge=!1;for(let Ze=0;Ze<$.length;Ze++){let hr=$[Ze];if(J[hr=j(b.transformHeader)?b.transformHeader(hr,Ze):hr]){let dn,mi=J[hr];for(;dn=hr+"_"+mi,mi++,ke.has(dn););ke.add(dn),$[Ze]=dn,J[hr]++,Ge=!0,(ee=ee===null?{}:ee)[dn]=hr}else J[hr]=1,$[Ze]=hr;ke.add(hr)}Ge&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:ce,errors:ue,meta:{delimiter:E,linebreak:O,aborted:q,truncated:!!U,cursor:le+(te||0),renamedHeaders:ee}}}function H(){N(I()),ce=[],ue=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return D}}function m(b){var E=b.data,O=a[E.workerId],L=!1;if(E.error)O.userError(E.error,E.file);else if(E.results&&E.results.data){var N={abort:function(){L=!0,g(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(j(O.userStep)){for(var F=0;F<E.results.data.length&&(O.userStep({data:E.results.data[F],errors:E.results.errors,meta:E.results.meta},N),!L);F++);delete E.results}else j(O.userChunk)&&(O.userChunk(E.results,N,E.file),delete E.results)}E.finished&&!L&&g(E.workerId,E.results)}function g(b,E){var O=a[b];j(O.userComplete)&&O.userComplete(E),O.terminate(),delete a[b]}function S(){throw new Error("Not implemented.")}function C(b){if(typeof b!="object"||b===null)return b;var E,O=Array.isArray(b)?[]:{};for(E in b)O[E]=C(b[E]);return O}function P(b,E){return function(){b.apply(E,arguments)}}function j(b){return typeof b=="function"}return c.parse=function(b,E){var O=(E=E||{}).dynamicTyping||!1;if(j(O)&&(E.dynamicTypingFunction=O,O={}),E.dynamicTyping=O,E.transform=!!j(E.transform)&&E.transform,!E.worker||!c.WORKERS_SUPPORTED)return O=null,c.NODE_STREAM_INPUT,typeof b=="string"?(b=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(b),O=new(E.download?f:v)(E)):b.readable===!0&&j(b.read)&&j(b.on)?O=new x(E):(n.File&&b instanceof File||b instanceof Object)&&(O=new h(E)),O.stream(b);(O=(()=>{var L;return!!c.WORKERS_SUPPORTED&&(L=(()=>{var N=n.URL||n.webkitURL||null,F=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))})(),(L=new n.Worker(L)).onmessage=m,L.id=l++,a[L.id]=L)})()).userStep=E.step,O.userChunk=E.chunk,O.userComplete=E.complete,O.userError=E.error,E.step=j(E.step),E.chunk=j(E.chunk),E.complete=j(E.complete),E.error=j(E.error),delete E.worker,O.postMessage({input:b,config:E,workerId:O.id})},c.unparse=function(b,E){var O=!1,L=!0,N=",",F=`\r
`,M='"',ee=M+M,K=!1,B=null,A=!1,D=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||c.BAD_DELIMITERS.filter(function(te){return E.delimiter.indexOf(te)!==-1}).length||(N=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(O=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(K=E.skipEmptyLines),typeof E.newline=="string"&&(F=E.newline),typeof E.quoteChar=="string"&&(M=E.quoteChar),typeof E.header=="boolean"&&(L=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");B=E.columns}E.escapeChar!==void 0&&(ee=E.escapeChar+M),E.escapeFormulae instanceof RegExp?A=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(A=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(M),"g"));if(typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(b)){if(!b.length||Array.isArray(b[0]))return q(null,b,K);if(typeof b[0]=="object")return q(B||Object.keys(b[0]),b,K)}else if(typeof b=="object")return typeof b.data=="string"&&(b.data=JSON.parse(b.data)),Array.isArray(b.data)&&(b.fields||(b.fields=b.meta&&b.meta.fields||B),b.fields||(b.fields=Array.isArray(b.data[0])?b.fields:typeof b.data[0]=="object"?Object.keys(b.data[0]):[]),Array.isArray(b.data[0])||typeof b.data[0]=="object"||(b.data=[b.data])),q(b.fields||[],b.data||[],K);throw new Error("Unable to serialize unrecognized input");function q(te,Z,we){var Pe="",Te=(typeof te=="string"&&(te=JSON.parse(te)),typeof Z=="string"&&(Z=JSON.parse(Z)),Array.isArray(te)&&0<te.length),ne=!Array.isArray(Z[0]);if(Te&&L){for(var ie=0;ie<te.length;ie++)0<ie&&(Pe+=N),Pe+=W(te[ie],ie);0<Z.length&&(Pe+=F)}for(var ce=0;ce<Z.length;ce++){var ue=(Te?te:Z[ce]).length,Q=!1,le=Te?Object.keys(Z[ce]).length===0:Z[ce].length===0;if(we&&!Te&&(Q=we==="greedy"?Z[ce].join("").trim()==="":Z[ce].length===1&&Z[ce][0].length===0),we==="greedy"&&Te){for(var je=[],xe=0;xe<ue;xe++){var Ne=ne?te[xe]:xe;je.push(Z[ce][Ne])}Q=je.join("").trim()===""}if(!Q){for(var me=0;me<ue;me++){0<me&&!le&&(Pe+=N);var at=Te&&ne?te[me]:me;Pe+=W(Z[ce][at],me)}ce<Z.length-1&&(!we||0<ue&&!le)&&(Pe+=F)}}return Pe}function W(te,Z){var we,Pe;return te==null?"":te.constructor===Date?JSON.stringify(te).slice(1,25):(Pe=!1,A&&typeof te=="string"&&A.test(te)&&(te="'"+te,Pe=!0),we=te.toString().replace(D,ee),(Pe=Pe||O===!0||typeof O=="function"&&O(te,Z)||Array.isArray(O)&&O[Z]||((Te,ne)=>{for(var ie=0;ie<ne.length;ie++)if(-1<Te.indexOf(ne[ie]))return!0;return!1})(we,c.BAD_DELIMITERS)||-1<we.indexOf(N)||we.charAt(0)===" "||we.charAt(we.length-1)===" ")?M+we+M:we)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=p,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=v,c.ReadableStreamStreamer=x,n.jQuery&&((s=n.jQuery).fn.parse=function(b){var E=b.config||{},O=[];return this.each(function(F){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var M=0;M<this.files.length;M++)O.push({file:this.files[M],inputElem:this,instanceConfig:s.extend({},E)})}),L(),this;function L(){if(O.length===0)j(b.complete)&&b.complete();else{var F,M,ee,K,B=O[0];if(j(b.before)){var A=b.before(B.file,B.inputElem);if(typeof A=="object"){if(A.action==="abort")return F="AbortError",M=B.file,ee=B.inputElem,K=A.reason,void(j(b.error)&&b.error({name:F},M,ee,K));if(A.action==="skip")return void N();typeof A.config=="object"&&(B.instanceConfig=s.extend(B.instanceConfig,A.config))}else if(A==="skip")return void N()}var D=B.instanceConfig.complete;B.instanceConfig.complete=function(q){j(D)&&D(q,B.file,B.inputElem),N()},c.parse(B.file,B.instanceConfig)}}function N(){O.splice(0,1),L()}}),o&&(n.onmessage=function(b){b=b.data,c.WORKER_ID===void 0&&b&&(c.WORKER_ID=b.workerId),typeof b.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(b.input,b.config),finished:!0}):(n.File&&b.input instanceof File||b.input instanceof Object)&&(b=c.parse(b.input,b.config))&&n.postMessage({workerId:c.WORKER_ID,results:b,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(v.prototype=Object.create(v.prototype)).constructor=v,(x.prototype=Object.create(d.prototype)).constructor=x,c})})(jb);var CR=jb.exports;const TR=zh(CR);function jR(){const{toast:t}=hi(),e=_.useRef(null),[r,n]=_.useState(!1),[s,i]=_.useState(null),{data:o,isLoading:a}=cr({queryKey:["/api/farmers"],queryFn:async()=>{const{data:f,error:h}=await Ie.from("farmers").select("*").order("created_at",{ascending:!1});if(h)throw h;return f}}),l=Ba({mutationFn:async f=>new Promise((h,v)=>{TR.parse(f,{header:!0,skipEmptyLines:!0,complete:async x=>{try{const p=x.data.map(y=>({name:y.name||y.Name,phone:y.phone||y.Phone,national_id:y.national_id||y.nationalId||y.ID})),{error:w}=await Ie.from("farmers").insert(p);if(w)throw w;h()}catch(p){v(p)}},error:x=>{v(x)}})}),onSuccess:()=>{Eo.invalidateQueries({queryKey:["/api/farmers"]}),t({title:"Upload successful",description:"Farmers have been added to the system"}),i(null),e.current&&(e.current.value="")},onError:f=>{t({title:"Upload failed",description:f.message,variant:"destructive"})}}),c=f=>{var v;const h=(v=f.target.files)==null?void 0:v[0];h&&i(h)},d=async()=>{s&&(n(!0),await l.mutateAsync(s),n(!1))};return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[u.jsx(ln,{title:"Farmers Management",subtitle:"Upload and manage farmer data"}),u.jsx($e,{className:"mb-6",children:u.jsxs(Ue,{className:"p-4 md:p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Farmers (CSV)"}),u.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 md:p-12 text-center hover-elevate",children:[u.jsx("input",{ref:e,type:"file",accept:".csv",onChange:c,className:"hidden","data-testid":"input-csv-file"}),u.jsx("span",{className:"material-icons text-5xl text-muted-foreground mb-4",children:"cloud_upload"}),u.jsx("h4",{className:"text-base font-medium mb-2",children:s?s.name:"Upload CSV File"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"CSV should include: Name, Phone, National ID"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[u.jsxs(Kt,{variant:"outline",onClick:()=>{var f;return(f=e.current)==null?void 0:f.click()},"data-testid":"button-browse-file",children:[u.jsx("span",{className:"material-icons mr-2",children:"attach_file"}),"Browse File"]}),s&&u.jsxs(Kt,{onClick:d,disabled:r,"data-testid":"button-upload-csv",children:[u.jsx("span",{className:"material-icons mr-2",children:"cloud_upload"}),r?"Uploading...":"Upload"]})]})]})]})}),u.jsx($e,{children:u.jsxs(Ue,{className:"p-4 md:p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Registered Farmers (",(o==null?void 0:o.length)||0,")"]}),a?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading farmers..."}):o&&o.length>0?u.jsx("div",{className:"space-y-3",children:o.map(f=>u.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-card-border hover-elevate","data-testid":`farmer-card-${f.id}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"material-icons text-2xl text-primary",children:"person"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:f.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:f.phone})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"text-sm font-mono text-muted-foreground",children:["ID: ",f.national_id]})})]},f.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("span",{className:"material-icons text-5xl text-muted-foreground mb-3",children:"people_outline"}),u.jsx("p",{className:"text-muted-foreground",children:"No farmers registered yet"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a CSV file to get started"})]})]})})]})}const OR=Uu("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function PR({className:t,variant:e,...r}){return u.jsx("div",{className:Ke(OR({variant:e}),t),...r})}function Za({status:t,className:e}){const r=ER(t);return u.jsx(PR,{variant:r,className:`uppercase text-xs font-semibold ${e}`,"data-testid":`badge-status-${t.toLowerCase()}`,children:t})}function NR(){const{toast:t}=hi(),{data:e,isLoading:r}=cr({queryKey:["/api/admin/orders"],queryFn:async()=>{const{data:a,error:l}=await Ie.from("orders").select(`
          *,
          farmers(*),
          agents:users!orders_agent_id_fkey(*)
        `).order("created_at",{ascending:!1});if(l)throw l;return a}}),n=Ba({mutationFn:async a=>{const{data:{user:l}}=await Ie.auth.getUser();if(!l)throw new Error("Not authenticated");const{error:c}=await Ie.from("orders").update({status:"approved",approved_at:new Date().toISOString(),approved_by:l.id}).eq("id",a);if(c)throw c;const d=e==null?void 0:e.find(f=>f.id===a);if(d){const f=new Date;f.setDate(f.getDate()+30);const{error:h}=await Ie.from("payments").insert({order_id:a,amount:d.remaining_balance,due_date:f.toISOString(),status:"pending"});if(h)throw h}},onSuccess:()=>{Eo.invalidateQueries({queryKey:["/api/admin/orders"]}),t({title:"Order approved",description:"Payment schedule has been created"})},onError:a=>{t({title:"Approval failed",description:a.message,variant:"destructive"})}}),s=Ba({mutationFn:async a=>{const{error:l}=await Ie.from("orders").update({status:"rejected"}).eq("id",a);if(l)throw l},onSuccess:()=>{Eo.invalidateQueries({queryKey:["/api/admin/orders"]}),t({title:"Order rejected"})},onError:a=>{t({title:"Rejection failed",description:a.message,variant:"destructive"})}}),i=(e==null?void 0:e.filter(a=>a.status==="pending"))||[],o=(e==null?void 0:e.filter(a=>a.status!=="pending"))||[];return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[u.jsx(ln,{title:"Orders Management",subtitle:"Review and approve farmer orders"}),i.length>0&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-secondary-foreground",children:"pending"}),"Pending Approval (",i.length,")"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(a=>u.jsxs($e,{className:"shadow-sm",children:[u.jsx(yt,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs(wt,{className:"text-lg",children:["Order #",a.id.slice(0,8)]}),u.jsx(Za,{status:a.status})]})}),u.jsxs(Ue,{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Farmer"}),u.jsx("p",{className:"font-medium",children:a.farmers.name}),u.jsx("p",{className:"text-xs text-muted-foreground",children:a.farmers.phone})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Agent"}),u.jsx("p",{className:"font-medium",children:a.agents.name})]})]}),u.jsx("div",{className:"border-t border-card-border pt-3",children:u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Product"}),u.jsx("p",{className:"font-medium",children:a.product_name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Quantity"}),u.jsxs("p",{className:"font-medium",children:[a.quantity," units"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Total Cost"}),u.jsx("p",{className:"font-semibold text-base",children:Ot(parseFloat(a.total_cost))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Down Payment (50%)"}),u.jsx("p",{className:"font-semibold text-base text-primary",children:Ot(parseFloat(a.down_payment))})]})]})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[u.jsxs(Kt,{className:"flex-1",onClick:()=>n.mutate(a.id),disabled:n.isPending,"data-testid":`button-approve-${a.id}`,children:[u.jsx("span",{className:"material-icons mr-2 text-xl",children:"check_circle"}),"Approve"]}),u.jsxs(Kt,{variant:"destructive",className:"flex-1",onClick:()=>s.mutate(a.id),disabled:s.isPending,"data-testid":`button-reject-${a.id}`,children:[u.jsx("span",{className:"material-icons mr-2 text-xl",children:"cancel"}),"Reject"]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",Xi(a.created_at)]})]})]},a.id))})]}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Order History (",o.length,")"]}),r?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading orders..."}):o.length>0?u.jsx("div",{className:"space-y-3",children:o.map(a=>u.jsx($e,{className:"hover-elevate",children:u.jsx(Ue,{className:"p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("p",{className:"font-semibold",children:["Order #",a.id.slice(0,8)]}),u.jsx(Za,{status:a.status})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsx("p",{className:"text-muted-foreground",children:u.jsx("span",{className:"font-medium text-foreground",children:a.farmers.name})}),u.jsx("p",{className:"text-muted-foreground",children:Xi(a.created_at)})]})]}),u.jsxs("div",{className:"text-left sm:text-right",children:[u.jsx("p",{className:"text-xl font-bold text-foreground",children:Ot(parseFloat(a.total_cost))}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Paid: ",Ot(parseFloat(a.down_payment))]})]})]})})},a.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("span",{className:"material-icons text-5xl text-muted-foreground mb-3",children:"receipt_long"}),u.jsx("p",{className:"text-muted-foreground",children:"No orders yet"})]})]})]})}function RR(){const{data:t,isLoading:e}=cr({queryKey:["/api/agent/stats"],queryFn:async()=>{const{data:{user:r}}=await Ie.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await Ie.from("orders").select("*").eq("agent_id",r.id);if(s)throw s;const{data:i,error:o}=await Ie.from("farmers").select("*").eq("agent_id",r.id);if(o)throw o;return{totalOrders:n.length,pendingOrders:n.filter(a=>a.status==="pending").length,approvedOrders:n.filter(a=>a.status==="approved").length,linkedFarmers:i.length}}});return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[u.jsx(ln,{title:"Agent Dashboard",subtitle:"Manage orders and farmers",action:u.jsx(hs,{href:"/agent/new-order",children:u.jsx("a",{children:u.jsxs(Kt,{className:"w-full md:w-auto","data-testid":"button-create-order",children:[u.jsx("span",{className:"material-icons mr-2",children:"add_circle"}),"Create Order"]})})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),u.jsx("span",{className:"material-icons text-primary",children:"receipt_long"})]}),u.jsx(Ue,{children:u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":(t==null?void 0:t.totalOrders)||0})})]}),u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),u.jsx("span",{className:"material-icons text-secondary-foreground",children:"pending"})]}),u.jsx(Ue,{children:u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":(t==null?void 0:t.pendingOrders)||0})})]}),u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"Approved"}),u.jsx("span",{className:"material-icons text-primary",children:"check_circle"})]}),u.jsx(Ue,{children:u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":(t==null?void 0:t.approvedOrders)||0})})]}),u.jsxs($e,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(wt,{className:"text-sm font-medium text-muted-foreground",children:"My Farmers"}),u.jsx("span",{className:"material-icons text-primary",children:"people"})]}),u.jsx(Ue,{children:u.jsx("div",{className:"text-3xl font-bold text-foreground",children:e?"...":(t==null?void 0:t.linkedFarmers)||0})})]})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(hs,{href:"/agent/new-order",children:u.jsx("a",{children:u.jsx($e,{className:"hover-elevate cursor-pointer",children:u.jsxs(Ue,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx("span",{className:"material-icons text-primary text-2xl",children:"add_circle"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Create New Order"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Process fertilizer credit for a farmer"})]})]})})})}),u.jsx(hs,{href:"/agent/farmers",children:u.jsx("a",{children:u.jsx($e,{className:"hover-elevate cursor-pointer",children:u.jsxs(Ue,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx("span",{className:"material-icons text-primary text-2xl",children:"people"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Manage Farmers"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"View and link farmers"})]})]})})})})]})]})}function AR(){var d,f;const{toast:t}=hi(),[e,r]=_.useState(""),s=((f=(d=cr({queryKey:["/api/auth/user"],queryFn:async()=>await Ie.auth.getUser()}).data)==null?void 0:d.data)==null?void 0:f.user)??null,{data:i,isLoading:o}=cr({queryKey:["/api/farmers/search",e],queryFn:async()=>{let h=Ie.from("farmers").select("*").order("created_at",{ascending:!1});e&&(h=h.or(`phone.ilike.%${e}%,national_id.ilike.%${e}%,name.ilike.%${e}%`));const{data:v,error:x}=await h;if(x)throw x;return v}}),a=Ba({mutationFn:async h=>{if(!s)throw new Error("Not authenticated");const{error:v}=await Ie.from("farmers").update({agent_id:s.id}).eq("id",h);if(v)throw v},onSuccess:()=>{Eo.invalidateQueries({queryKey:["/api/farmers/search"]}),t({title:"Farmer linked",description:"You can now create orders for this farmer"})},onError:h=>{t({title:"Failed to link farmer",description:h.message,variant:"destructive"})}}),l=(i==null?void 0:i.filter(h=>h.agent_id===(s==null?void 0:s.id)))||[],c=(i==null?void 0:i.filter(h=>!h.agent_id))||[];return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[u.jsx(ln,{title:"My Farmers",subtitle:"Search and link farmers to your account"}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"material-icons absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:"search"}),u.jsx(En,{type:"search",placeholder:"Search by phone number, ID, or name...",value:e,onChange:h=>r(h.target.value),className:"h-14 pl-12 pr-4 rounded-full","data-testid":"input-search-farmer"})]})}),l.length>0&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["My Linked Farmers (",l.length,")"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(h=>u.jsx($e,{className:"shadow-sm",children:u.jsxs(Ue,{className:"p-4 flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"material-icons text-primary text-2xl",children:"person"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-foreground truncate",children:h.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:h.phone}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",h.national_id]})]}),u.jsx("span",{className:"material-icons text-primary",children:"check_circle"})]})},h.id))})]}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Available Farmers (",c.length,")"]}),o?u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Searching farmers..."}):c.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(h=>u.jsx($e,{className:"shadow-sm",children:u.jsxs(Ue,{className:"p-4",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"material-icons text-muted-foreground text-2xl",children:"person_outline"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-semibold text-foreground truncate",children:h.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:h.phone}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",h.national_id]})]})]}),u.jsxs(Kt,{variant:"outline",className:"w-full",onClick:()=>a.mutate(h.id),disabled:a.isPending,"data-testid":`button-link-farmer-${h.id}`,children:[u.jsx("span",{className:"material-icons mr-2",children:"link"}),"Link to My Account"]})]})},h.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("span",{className:"material-icons text-5xl text-muted-foreground mb-3",children:e?"search_off":"people_outline"}),u.jsx("p",{className:"text-muted-foreground",children:e?"No farmers found matching your search":"No farmers available to link"})]})]})]})}var Cl=t=>t.type==="checkbox",Vs=t=>t instanceof Date,Mt=t=>t==null;const Ob=t=>typeof t=="object";var ot=t=>!Mt(t)&&!Array.isArray(t)&&Ob(t)&&!Vs(t),IR=t=>ot(t)&&t.target?Cl(t.target)?t.target.checked:t.target.value:t,DR=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,LR=(t,e)=>t.has(DR(e)),MR=t=>{const e=t.constructor&&t.constructor.prototype;return ot(e)&&e.hasOwnProperty("isPrototypeOf")},gm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ct(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gm&&(t instanceof Blob||n))&&(r||ot(t)))if(e=r?[]:{},!r&&!MR(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Ct(t[s]));else return t;return e}var Gu=t=>Array.isArray(t)?t.filter(Boolean):[],ct=t=>t===void 0,se=(t,e,r)=>{if(!e||!ot(t))return r;const n=Gu(e.split(/[,[\].]+?/)).reduce((s,i)=>Mt(s)?s:s[i],t);return ct(n)||n===t?ct(t[e])?r:t[e]:n},Hr=t=>typeof t=="boolean",vm=t=>/^\w*$/.test(t),Pb=t=>Gu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(t,e,r)=>{let n=-1;const s=vm(e)?[e]:Pb(e),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=t[a];l=ot(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Vv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ar={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ht.createContext(null);var FR=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Ar.all&&(e._proxyFormState[o]=!n||Ar.all),t[o]}});return s},Yr=t=>typeof t=="string",$R=(t,e,r,n,s)=>Yr(t)?(n&&e.watch.add(t),se(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),se(r,i))):(n&&(e.watchAll=!0),r),Nb=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Sa=t=>Array.isArray(t)?t:[t],zv=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Nh=t=>Mt(t)||!Ob(t);function Kn(t,e){if(Nh(t)||Nh(e))return t===e;if(Vs(t)&&Vs(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Vs(i)&&Vs(o)||ot(i)&&ot(o)||Array.isArray(i)&&Array.isArray(o)?!Kn(i,o):i!==o)return!1}}return!0}var Dt=t=>ot(t)&&!Object.keys(t).length,ym=t=>t.type==="file",Ir=t=>typeof t=="function",cu=t=>{if(!gm)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rb=t=>t.type==="select-multiple",wm=t=>t.type==="radio",UR=t=>wm(t)||Cl(t),Hd=t=>cu(t)&&t.isConnected;function VR(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ct(t)?n++:t[e[n++]];return t}function zR(t){for(const e in t)if(t.hasOwnProperty(e)&&!ct(t[e]))return!1;return!0}function ft(t,e){const r=Array.isArray(e)?e:vm(e)?[e]:Pb(e),n=r.length===1?t:VR(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ot(n)&&Dt(n)||Array.isArray(n)&&zR(n))&&ft(t,r.slice(0,-1)),t}var Ab=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function uu(t,e={}){const r=Array.isArray(t);if(ot(t)||r)for(const n in t)Array.isArray(t[n])||ot(t[n])&&!Ab(t[n])?(e[n]=Array.isArray(t[n])?[]:{},uu(t[n],e[n])):Mt(t[n])||(e[n]=!0);return e}function Ib(t,e,r){const n=Array.isArray(t);if(ot(t)||n)for(const s in t)Array.isArray(t[s])||ot(t[s])&&!Ab(t[s])?ct(e)||Nh(r[s])?r[s]=Array.isArray(t[s])?uu(t[s],[]):{...uu(t[s])}:Ib(t[s],Mt(e)?{}:e[s],r[s]):r[s]=!Kn(t[s],e[s]);return r}var Xo=(t,e)=>Ib(t,e,uu(e));const Bv={value:!1,isValid:!1},Wv={value:!0,isValid:!0};var Db=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ct(t[0].attributes.value)?ct(t[0].value)||t[0].value===""?Wv:{value:t[0].value,isValid:!0}:Wv:Bv}return Bv},Lb=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ct(t)?t:e?t===""?NaN:t&&+t:r&&Yr(t)?new Date(t):n?n(t):t;const qv={isValid:!1,value:null};var Mb=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,qv):qv;function Hv(t){const e=t.ref;return ym(e)?e.files:wm(e)?Mb(t.refs).value:Rb(e)?[...e.selectedOptions].map(({value:r})=>r):Cl(e)?Db(t.refs).value:Lb(ct(e.value)?t.ref.value:e.value,t)}var BR=(t,e,r,n)=>{const s={};for(const i of t){const o=se(e,i);o&&Fe(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},du=t=>t instanceof RegExp,ea=t=>ct(t)?t:du(t)?t.source:ot(t)?du(t.value)?t.value.source:t.value:t,Kv=t=>({isOnSubmit:!t||t===Ar.onSubmit,isOnBlur:t===Ar.onBlur,isOnChange:t===Ar.onChange,isOnAll:t===Ar.all,isOnTouch:t===Ar.onTouched});const Qv="AsyncFunction";var WR=t=>!!t&&!!t.validate&&!!(Ir(t.validate)&&t.validate.constructor.name===Qv||ot(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Qv)),qR=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Gv=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ea=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=se(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ea(a,e))break}else if(ot(a)&&Ea(a,e))break}}};function Zv(t,e,r){const n=se(t,r);if(n||vm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=se(e,i),a=se(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var HR=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Dt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Ar.all))},KR=(t,e,r)=>!t||!e||t===e||Sa(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),QR=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,GR=(t,e)=>!Gu(se(t,e)).length&&ft(t,e),ZR=(t,e,r)=>{const n=Sa(se(t,r));return Fe(n,"root",e[r]),Fe(t,r,n),t},Cc=t=>Yr(t);function Jv(t,e,r="validate"){if(Cc(t)||Array.isArray(t)&&t.every(Cc)||Hr(t)&&!t)return{type:r,message:Cc(t)?t:"",ref:e}}var bi=t=>ot(t)&&!du(t)?t:{value:t,message:""},Yv=async(t,e,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:f,max:h,pattern:v,validate:x,name:p,valueAsNumber:w,mount:y}=t._f,m=se(r,p);if(!y||e.has(p))return{};const g=a?a[0]:o,S=N=>{s&&g.reportValidity&&(g.setCustomValidity(Hr(N)?"":N||""),g.reportValidity())},C={},P=wm(o),j=Cl(o),b=P||j,E=(w||ym(o))&&ct(o.value)&&ct(m)||cu(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,O=Nb.bind(null,p,n,C),L=(N,F,M,ee=hn.maxLength,K=hn.minLength)=>{const B=N?F:M;C[p]={type:N?ee:K,message:B,ref:o,...O(N?ee:K,B)}};if(i?!Array.isArray(m)||!m.length:l&&(!b&&(E||Mt(m))||Hr(m)&&!m||j&&!Db(a).isValid||P&&!Mb(a).isValid)){const{value:N,message:F}=Cc(l)?{value:!!l,message:l}:bi(l);if(N&&(C[p]={type:hn.required,message:F,ref:g,...O(hn.required,F)},!n))return S(F),C}if(!E&&(!Mt(f)||!Mt(h))){let N,F;const M=bi(h),ee=bi(f);if(!Mt(m)&&!isNaN(m)){const K=o.valueAsNumber||m&&+m;Mt(M.value)||(N=K>M.value),Mt(ee.value)||(F=K<ee.value)}else{const K=o.valueAsDate||new Date(m),B=q=>new Date(new Date().toDateString()+" "+q),A=o.type=="time",D=o.type=="week";Yr(M.value)&&m&&(N=A?B(m)>B(M.value):D?m>M.value:K>new Date(M.value)),Yr(ee.value)&&m&&(F=A?B(m)<B(ee.value):D?m<ee.value:K<new Date(ee.value))}if((N||F)&&(L(!!N,M.message,ee.message,hn.max,hn.min),!n))return S(C[p].message),C}if((c||d)&&!E&&(Yr(m)||i&&Array.isArray(m))){const N=bi(c),F=bi(d),M=!Mt(N.value)&&m.length>+N.value,ee=!Mt(F.value)&&m.length<+F.value;if((M||ee)&&(L(M,N.message,F.message),!n))return S(C[p].message),C}if(v&&!E&&Yr(m)){const{value:N,message:F}=bi(v);if(du(N)&&!m.match(N)&&(C[p]={type:hn.pattern,message:F,ref:o,...O(hn.pattern,F)},!n))return S(F),C}if(x){if(Ir(x)){const N=await x(m,r),F=Jv(N,g);if(F&&(C[p]={...F,...O(hn.validate,F.message)},!n))return S(F.message),C}else if(ot(x)){let N={};for(const F in x){if(!Dt(N)&&!n)break;const M=Jv(await x[F](m,r),g,F);M&&(N={...M,...O(F,M.message)},S(M.message),n&&(C[p]=N))}if(!Dt(N)&&(C[p]={ref:g,...N},!n))return C}}return S(!0),C};const JR={mode:Ar.onSubmit,reValidateMode:Ar.onChange,shouldFocusError:!0};function YR(t={}){let e={...JR,...t},r={submitCount:0,isDirty:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=ot(e.defaultValues)||ot(e.values)?Ct(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Ct(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:zv(),state:zv()},v=Kv(e.mode),x=Kv(e.reValidateMode),p=e.criteriaMode===Ar.all,w=k=>R=>{clearTimeout(c),c=setTimeout(k,R)},y=async k=>{if(!e.disabled&&(d.isValid||f.isValid||k)){const R=e.resolver?Dt((await E()).errors):await L(n,!0);R!==r.isValid&&h.state.next({isValid:R})}},m=(k,R)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(a.mount)).forEach(I=>{I&&(R?Fe(r.validatingFields,I,R):ft(r.validatingFields,I))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Dt(r.validatingFields)}))},g=(k,R=[],I,H,U=!0,$=!0)=>{if(H&&I&&!e.disabled){if(o.action=!0,$&&Array.isArray(se(n,k))){const J=I(se(n,k),H.argA,H.argB);U&&Fe(n,k,J)}if($&&Array.isArray(se(r.errors,k))){const J=I(se(r.errors,k),H.argA,H.argB);U&&Fe(r.errors,k,J),GR(r.errors,k)}if((d.touchedFields||f.touchedFields)&&$&&Array.isArray(se(r.touchedFields,k))){const J=I(se(r.touchedFields,k),H.argA,H.argB);U&&Fe(r.touchedFields,k,J)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Xo(s,i)),h.state.next({name:k,isDirty:F(k,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Fe(i,k,R)},S=(k,R)=>{Fe(r.errors,k,R),h.state.next({errors:r.errors})},C=k=>{r.errors=k,h.state.next({errors:r.errors,isValid:!1})},P=(k,R,I,H)=>{const U=se(n,k);if(U){const $=se(i,k,ct(I)?se(s,k):I);ct($)||H&&H.defaultChecked||R?Fe(i,k,R?$:Hv(U._f)):K(k,$),o.mount&&y()}},j=(k,R,I,H,U)=>{let $=!1,J=!1;const ke={name:k};if(!e.disabled){if(!I||H){(d.isDirty||f.isDirty)&&(J=r.isDirty,r.isDirty=ke.isDirty=F(),$=J!==ke.isDirty);const Ge=Kn(se(s,k),R);J=!!se(r.dirtyFields,k),Ge?ft(r.dirtyFields,k):Fe(r.dirtyFields,k,!0),ke.dirtyFields=r.dirtyFields,$=$||(d.dirtyFields||f.dirtyFields)&&J!==!Ge}if(I){const Ge=se(r.touchedFields,k);Ge||(Fe(r.touchedFields,k,I),ke.touchedFields=r.touchedFields,$=$||(d.touchedFields||f.touchedFields)&&Ge!==I)}$&&U&&h.state.next(ke)}return $?ke:{}},b=(k,R,I,H)=>{const U=se(r.errors,k),$=(d.isValid||f.isValid)&&Hr(R)&&r.isValid!==R;if(e.delayError&&I?(l=w(()=>S(k,I)),l(e.delayError)):(clearTimeout(c),l=null,I?Fe(r.errors,k,I):ft(r.errors,k)),(I?!Kn(U,I):U)||!Dt(H)||$){const J={...H,...$&&Hr(R)?{isValid:R}:{},errors:r.errors,name:k};r={...r,...J},h.state.next(J)}},E=async k=>{m(k,!0);const R=await e.resolver(i,e.context,BR(k||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return m(k),R},O=async k=>{const{errors:R}=await E(k);if(k)for(const I of k){const H=se(R,I);H?Fe(r.errors,I,H):ft(r.errors,I)}else r.errors=R;return R},L=async(k,R,I={valid:!0})=>{for(const H in k){const U=k[H];if(U){const{_f:$,...J}=U;if($){const ke=a.array.has($.name),Ge=U._f&&WR(U._f);Ge&&d.validatingFields&&m([H],!0);const Ze=await Yv(U,a.disabled,i,p,e.shouldUseNativeValidation&&!R,ke);if(Ge&&d.validatingFields&&m([H]),Ze[$.name]&&(I.valid=!1,R))break;!R&&(se(Ze,$.name)?ke?ZR(r.errors,Ze,$.name):Fe(r.errors,$.name,Ze[$.name]):ft(r.errors,$.name))}!Dt(J)&&await L(J,R,I)}}return I.valid},N=()=>{for(const k of a.unMount){const R=se(n,k);R&&(R._f.refs?R._f.refs.every(I=>!Hd(I)):!Hd(R._f.ref))&&ce(k)}a.unMount=new Set},F=(k,R)=>!e.disabled&&(k&&R&&Fe(i,k,R),!Kn(te(),s)),M=(k,R,I)=>$R(k,a,{...o.mount?i:ct(R)?s:Yr(k)?{[k]:R}:R},I,R),ee=k=>Gu(se(o.mount?i:s,k,e.shouldUnregister?se(s,k,[]):[])),K=(k,R,I={})=>{const H=se(n,k);let U=R;if(H){const $=H._f;$&&(!$.disabled&&Fe(i,k,Lb(R,$)),U=cu($.ref)&&Mt(R)?"":R,Rb($.ref)?[...$.ref.options].forEach(J=>J.selected=U.includes(J.value)):$.refs?Cl($.ref)?$.refs.length>1?$.refs.forEach(J=>(!J.defaultChecked||!J.disabled)&&(J.checked=Array.isArray(U)?!!U.find(ke=>ke===J.value):U===J.value)):$.refs[0]&&($.refs[0].checked=!!U):$.refs.forEach(J=>J.checked=J.value===U):ym($.ref)?$.ref.value="":($.ref.value=U,$.ref.type||h.state.next({name:k,values:Ct(i)})))}(I.shouldDirty||I.shouldTouch)&&j(k,U,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&W(k)},B=(k,R,I)=>{for(const H in R){const U=R[H],$=`${k}.${H}`,J=se(n,$);(a.array.has(k)||ot(U)||J&&!J._f)&&!Vs(U)?B($,U,I):K($,U,I)}},A=(k,R,I={})=>{const H=se(n,k),U=a.array.has(k),$=Ct(R);Fe(i,k,$),U?(h.array.next({name:k,values:Ct(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&I.shouldDirty&&h.state.next({name:k,dirtyFields:Xo(s,i),isDirty:F(k,$)})):H&&!H._f&&!Mt($)?B(k,$,I):K(k,$,I),Gv(k,a)&&h.state.next({...r}),h.state.next({name:o.mount?k:void 0,values:Ct(i)})},D=async k=>{o.mount=!0;const R=k.target;let I=R.name,H=!0;const U=se(n,I),$=J=>{H=Number.isNaN(J)||Vs(J)&&isNaN(J.getTime())||Kn(J,se(i,I,J))};if(U){let J,ke;const Ge=R.type?Hv(U._f):IR(k),Ze=k.type===Vv.BLUR||k.type===Vv.FOCUS_OUT,hr=!qR(U._f)&&!e.resolver&&!se(r.errors,I)&&!U._f.deps||QR(Ze,se(r.touchedFields,I),r.isSubmitted,x,v),dn=Gv(I,a,Ze);Fe(i,I,Ge),Ze?(U._f.onBlur&&U._f.onBlur(k),l&&l(0)):U._f.onChange&&U._f.onChange(k);const mi=j(I,Ge,Ze),qS=!Dt(mi)||dn;if(!Ze&&h.state.next({name:I,type:k.type,values:Ct(i)}),hr)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ze&&y():Ze||y()),qS&&h.state.next({name:I,...dn?{}:mi});if(!Ze&&dn&&h.state.next({...r}),e.resolver){const{errors:bm}=await E([I]);if($(Ge),H){const HS=Zv(r.errors,n,I),Sm=Zv(bm,n,HS.name||I);J=Sm.error,I=Sm.name,ke=Dt(bm)}}else m([I],!0),J=(await Yv(U,a.disabled,i,p,e.shouldUseNativeValidation))[I],m([I]),$(Ge),H&&(J?ke=!1:(d.isValid||f.isValid)&&(ke=await L(n,!0)));H&&(U._f.deps&&W(U._f.deps),b(I,ke,J,mi))}},q=(k,R)=>{if(se(r.errors,R)&&k.focus)return k.focus(),1},W=async(k,R={})=>{let I,H;const U=Sa(k);if(e.resolver){const $=await O(ct(k)?k:U);I=Dt($),H=k?!U.some(J=>se($,J)):I}else k?(H=(await Promise.all(U.map(async $=>{const J=se(n,$);return await L(J&&J._f?{[$]:J}:J)}))).every(Boolean),!(!H&&!r.isValid)&&y()):H=I=await L(n);return h.state.next({...!Yr(k)||(d.isValid||f.isValid)&&I!==r.isValid?{}:{name:k},...e.resolver||!k?{isValid:I}:{},errors:r.errors}),R.shouldFocus&&!H&&Ea(n,q,k?U:a.mount),H},te=k=>{const R={...o.mount?i:s};return ct(k)?R:Yr(k)?se(R,k):k.map(I=>se(R,I))},Z=(k,R)=>({invalid:!!se((R||r).errors,k),isDirty:!!se((R||r).dirtyFields,k),error:se((R||r).errors,k),isValidating:!!se(r.validatingFields,k),isTouched:!!se((R||r).touchedFields,k)}),we=k=>{k&&Sa(k).forEach(R=>ft(r.errors,R)),h.state.next({errors:k?r.errors:{}})},Pe=(k,R,I)=>{const H=(se(n,k,{_f:{}})._f||{}).ref,U=se(r.errors,k)||{},{ref:$,message:J,type:ke,...Ge}=U;Fe(r.errors,k,{...Ge,...R,ref:H}),h.state.next({name:k,errors:r.errors,isValid:!1}),I&&I.shouldFocus&&H&&H.focus&&H.focus()},Te=(k,R)=>Ir(k)?h.state.subscribe({next:I=>k(M(void 0,R),I)}):M(k,R,!0),ne=k=>h.state.subscribe({next:R=>{KR(k.name,R.name,k.exact)&&HR(R,k.formState||d,De,k.reRenderRoot)&&k.callback({values:{...i},...r,...R})}}).unsubscribe,ie=k=>(o.mount=!0,f={...f,...k.formState},ne({...k,formState:f})),ce=(k,R={})=>{for(const I of k?Sa(k):a.mount)a.mount.delete(I),a.array.delete(I),R.keepValue||(ft(n,I),ft(i,I)),!R.keepError&&ft(r.errors,I),!R.keepDirty&&ft(r.dirtyFields,I),!R.keepTouched&&ft(r.touchedFields,I),!R.keepIsValidating&&ft(r.validatingFields,I),!e.shouldUnregister&&!R.keepDefaultValue&&ft(s,I);h.state.next({values:Ct(i)}),h.state.next({...r,...R.keepDirty?{isDirty:F()}:{}}),!R.keepIsValid&&y()},ue=({disabled:k,name:R})=>{(Hr(k)&&o.mount||k||a.disabled.has(R))&&(k?a.disabled.add(R):a.disabled.delete(R))},Q=(k,R={})=>{let I=se(n,k);const H=Hr(R.disabled)||Hr(e.disabled);return Fe(n,k,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:k}},name:k,mount:!0,...R}}),a.mount.add(k),I?ue({disabled:Hr(R.disabled)?R.disabled:e.disabled,name:k}):P(k,!0,R.value),{...H?{disabled:R.disabled||e.disabled}:{},...e.progressive?{required:!!R.required,min:ea(R.min),max:ea(R.max),minLength:ea(R.minLength),maxLength:ea(R.maxLength),pattern:ea(R.pattern)}:{},name:k,onChange:D,onBlur:D,ref:U=>{if(U){Q(k,R),I=se(n,k);const $=ct(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,J=UR($),ke=I._f.refs||[];if(J?ke.find(Ge=>Ge===$):$===I._f.ref)return;Fe(n,k,{_f:{...I._f,...J?{refs:[...ke.filter(Hd),$,...Array.isArray(se(s,k))?[{}]:[]],ref:{type:$.type,name:k}}:{ref:$}}}),P(k,!1,void 0,$)}else I=se(n,k,{}),I._f&&(I._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(LR(a.array,k)&&o.action)&&a.unMount.add(k)}}},le=()=>e.shouldFocusError&&Ea(n,q,a.mount),je=k=>{Hr(k)&&(h.state.next({disabled:k}),Ea(n,(R,I)=>{const H=se(n,I);H&&(R.disabled=H._f.disabled||k,Array.isArray(H._f.refs)&&H._f.refs.forEach(U=>{U.disabled=H._f.disabled||k}))},0,!1))},xe=(k,R)=>async I=>{let H;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let U=Ct(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:$,values:J}=await E();r.errors=$,U=J}else await L(n);if(a.disabled.size)for(const $ of a.disabled)Fe(U,$,void 0);if(ft(r.errors,"root"),Dt(r.errors)){h.state.next({errors:{}});try{await k(U,I)}catch($){H=$}}else R&&await R({...r.errors},I),le(),setTimeout(le);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dt(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},Ne=(k,R={})=>{se(n,k)&&(ct(R.defaultValue)?A(k,Ct(se(s,k))):(A(k,R.defaultValue),Fe(s,k,Ct(R.defaultValue))),R.keepTouched||ft(r.touchedFields,k),R.keepDirty||(ft(r.dirtyFields,k),r.isDirty=R.defaultValue?F(k,Ct(se(s,k))):F()),R.keepError||(ft(r.errors,k),d.isValid&&y()),h.state.next({...r}))},me=(k,R={})=>{const I=k?Ct(k):s,H=Ct(I),U=Dt(k),$=U?s:H;if(R.keepDefaultValues||(s=I),!R.keepValues){if(R.keepDirtyValues){const J=new Set([...a.mount,...Object.keys(Xo(s,i))]);for(const ke of Array.from(J))se(r.dirtyFields,ke)?Fe($,ke,se(i,ke)):A(ke,se($,ke))}else{if(gm&&ct(k))for(const J of a.mount){const ke=se(n,J);if(ke&&ke._f){const Ge=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(cu(Ge)){const Ze=Ge.closest("form");if(Ze){Ze.reset();break}}}}for(const J of a.mount)A(J,se($,J))}i=Ct($),h.array.next({values:{...$}}),h.state.next({values:{...$}})}a={mount:R.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:U?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!Kn(k,s)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:R.keepDirtyValues?R.keepDefaultValues&&i?Xo(s,i):r.dirtyFields:R.keepDefaultValues&&k?Xo(s,k):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},at=(k,R)=>me(Ir(k)?k(i):k,R),ge=(k,R={})=>{const I=se(n,k),H=I&&I._f;if(H){const U=H.refs?H.refs[0]:H.ref;U.focus&&(U.focus(),R.shouldSelect&&Ir(U.select)&&U.select())}},De=k=>{r={...r,...k}},un={control:{register:Q,unregister:ce,getFieldState:Z,handleSubmit:xe,setError:Pe,_subscribe:ne,_runSchema:E,_getWatch:M,_getDirty:F,_setValid:y,_setFieldArray:g,_setDisabledField:ue,_setErrors:C,_getFieldArray:ee,_reset:me,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(k=>{at(k,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:je,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return a},set _names(k){a=k},get _formState(){return r},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:ie,trigger:W,register:Q,handleSubmit:xe,watch:Te,setValue:A,getValues:te,reset:at,resetField:Ne,clearErrors:we,unregister:ce,setError:Pe,setFocus:ge,getFieldState:Z};return{...un,formControl:un}}function XR(t={}){const e=ht.useRef(void 0),r=ht.useRef(void 0),[n,s]=ht.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:YR(t),formState:n},t.formControl&&t.defaultValues&&!Ir(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,ht.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ht.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ht.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ht.useEffect(()=>{t.values&&!Kn(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ht.useEffect(()=>{t.errors&&!Dt(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),ht.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ht.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=FR(n,i),e.current}const Xv=(t,e,r)=>{if(t&&"reportValidity"in t){const n=se(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Fb=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Xv(n.ref,r,t):n.refs&&n.refs.forEach(s=>Xv(s,r,t))}},eA=(t,e)=>{e.shouldUseNativeValidation&&Fb(t,e);const r={};for(const n in t){const s=se(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(tA(e.names||Object.keys(t),n)){const o=Object.assign({},se(r,n));Fe(o,"root",i),Fe(r,n,o)}else Fe(r,n,i)}return r},tA=(t,e)=>t.some(r=>r.startsWith(e+"."));var rA=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=r[o].types,c=l&&l[n.code];r[o]=Nb(o,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},nA=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&Fb({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:eA(rA(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Re;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Re||(Re={}));var Rh;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Rh||(Rh={}));const X=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wn=t=>{switch(typeof t){case"undefined":return X.undefined;case"string":return X.string;case"number":return isNaN(t)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(t)?X.array:t===null?X.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?X.promise:typeof Map<"u"&&t instanceof Map?X.map:typeof Set<"u"&&t instanceof Set?X.set:typeof Date<"u"&&t instanceof Date?X.date:X.object;default:return X.unknown}},V=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),sA=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ar extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof ar))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ar.create=t=>new ar(t);const Oo=(t,e)=>{let r;switch(t.code){case V.invalid_type:t.received===X.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Re.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${Re.joinValues(t.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Re.joinValues(t.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${Re.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Re.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case V.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case V.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=e.defaultError,Re.assertNever(t)}return{message:r}};let $b=Oo;function iA(t){$b=t}function fu(){return $b}const hu=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},oA=[];function G(t,e){const r=fu(),n=hu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Oo?void 0:Oo].filter(s=>!!s)});t.common.issues.push(n)}class Rt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return pe;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Rt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return pe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const pe=Object.freeze({status:"aborted"}),zi=t=>({status:"dirty",value:t}),$t=t=>({status:"valid",value:t}),Ah=t=>t.status==="aborted",Ih=t=>t.status==="dirty",oi=t=>t.status==="valid",Ja=t=>typeof Promise<"u"&&t instanceof Promise;function pu(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Ub(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ae||(ae={}));var aa,la;class sn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ey=(t,e)=>{if(oi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ar(t.common.issues);return this._error=r,this._error}}};function ye(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Se{get description(){return this._def.description}_getType(e){return wn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:wn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Rt,ctx:{common:e.parent.common,data:e.data,parsedType:wn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ja(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wn(e)},i=this._parseSync({data:e,path:s.path,parent:s});return ey(s,i)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wn(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return oi(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>oi(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wn(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Ja(s)?s:Promise.resolve(s));return ey(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:V.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new zr({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rn.create(this,this._def)}nullable(){return bs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fr.create(this)}promise(){return No.create(this,this._def)}or(e){return tl.create([this,e],this._def)}and(e){return rl.create(this,e,this._def)}transform(e){return new zr({...ye(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new al({...ye(this._def),innerType:this,defaultValue:r,typeName:he.ZodDefault})}brand(){return new xm({typeName:he.ZodBranded,type:this,...ye(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ll({...ye(this._def),innerType:this,catchValue:r,typeName:he.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Tl.create(this,e)}readonly(){return cl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aA=/^c[^\s-]{8,}$/i,lA=/^[0-9a-z]+$/,cA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dA=/^[a-z0-9_-]{21}$/i,fA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Kd;const gA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_A=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bA=new RegExp(`^${Vb}$`);function zb(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function SA(t){return new RegExp(`^${zb(t)}$`)}function Bb(t){let e=`${Vb}T${zb(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function EA(t,e){return!!((e==="v4"||!e)&&gA.test(t)||(e==="v6"||!e)&&yA.test(t))}function kA(t,e){if(!fA.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function CA(t,e){return!!((e==="v4"||!e)&&vA.test(t)||(e==="v6"||!e)&&wA.test(t))}class Dr extends Se{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==X.string){const i=this._getOrReturnCtx(e);return G(i,{code:V.invalid_type,expected:X.string,received:i.parsedType}),pe}const n=new Rt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?G(s,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&G(s,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")pA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"email",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Kd||(Kd=new RegExp(mA,"u")),Kd.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"emoji",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")uA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"uuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")dA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"nanoid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")aA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")lA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid2",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")cA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ulid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),G(s,{validation:"url",code:V.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"regex",code:V.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),G(s,{code:V.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:V.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:V.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Bb(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:V.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?bA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:V.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?SA(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:V.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?hA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"duration",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?EA(e.data,i.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ip",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?kA(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"jwt",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?CA(e.data,i.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cidr",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?xA.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?_A.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64url",code:V.invalid_string,message:i.message}),n.dirty()):Re.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:V.invalid_string,...ae.errToObj(n)})}_addCheck(e){return new Dr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ae.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ae.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ae.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ae.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ae.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ae.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ae.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ae.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ae.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ae.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ae.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ae.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ae.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ae.errToObj(r)})}nonempty(e){return this.min(1,ae.errToObj(e))}trim(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Dr.create=t=>{var e;return new Dr({checks:[],typeName:he.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ye(t)})};function TA(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class ws extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==X.number){const i=this._getOrReturnCtx(e);return G(i,{code:V.invalid_type,expected:X.number,received:i.parsedType}),pe}let n;const s=new Rt;for(const i of this._def.checks)i.kind==="int"?Re.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:V.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:V.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:V.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?TA(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),G(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:V.not_finite,message:i.message}),s.dirty()):Re.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ae.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ae.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ae.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ae.toString(r))}setLimit(e,r,n,s){return new ws({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ae.toString(s)}]})}_addCheck(e){return new ws({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Re.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ws.create=t=>new ws({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class xs extends Se{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==X.bigint)return this._getInvalidInput(e);let n;const s=new Rt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:V.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:V.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),G(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Re.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return G(r,{code:V.invalid_type,expected:X.bigint,received:r.parsedType}),pe}gte(e,r){return this.setLimit("min",e,!0,ae.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ae.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ae.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ae.toString(r))}setLimit(e,r,n,s){return new xs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ae.toString(s)}]})}_addCheck(e){return new xs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}xs.create=t=>{var e;return new xs({checks:[],typeName:he.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ye(t)})};class Ya extends Se{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==X.boolean){const n=this._getOrReturnCtx(e);return G(n,{code:V.invalid_type,expected:X.boolean,received:n.parsedType}),pe}return $t(e.data)}}Ya.create=t=>new Ya({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class ai extends Se{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==X.date){const i=this._getOrReturnCtx(e);return G(i,{code:V.invalid_type,expected:X.date,received:i.parsedType}),pe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return G(i,{code:V.invalid_date}),pe}const n=new Rt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:V.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:V.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Re.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ae.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ae.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ai.create=t=>new ai({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,...ye(t)});class mu extends Se{_parse(e){if(this._getType(e)!==X.symbol){const n=this._getOrReturnCtx(e);return G(n,{code:V.invalid_type,expected:X.symbol,received:n.parsedType}),pe}return $t(e.data)}}mu.create=t=>new mu({typeName:he.ZodSymbol,...ye(t)});class Xa extends Se{_parse(e){if(this._getType(e)!==X.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:V.invalid_type,expected:X.undefined,received:n.parsedType}),pe}return $t(e.data)}}Xa.create=t=>new Xa({typeName:he.ZodUndefined,...ye(t)});class el extends Se{_parse(e){if(this._getType(e)!==X.null){const n=this._getOrReturnCtx(e);return G(n,{code:V.invalid_type,expected:X.null,received:n.parsedType}),pe}return $t(e.data)}}el.create=t=>new el({typeName:he.ZodNull,...ye(t)});class Po extends Se{constructor(){super(...arguments),this._any=!0}_parse(e){return $t(e.data)}}Po.create=t=>new Po({typeName:he.ZodAny,...ye(t)});class Js extends Se{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $t(e.data)}}Js.create=t=>new Js({typeName:he.ZodUnknown,...ye(t)});class An extends Se{_parse(e){const r=this._getOrReturnCtx(e);return G(r,{code:V.invalid_type,expected:X.never,received:r.parsedType}),pe}}An.create=t=>new An({typeName:he.ZodNever,...ye(t)});class gu extends Se{_parse(e){if(this._getType(e)!==X.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:V.invalid_type,expected:X.void,received:n.parsedType}),pe}return $t(e.data)}}gu.create=t=>new gu({typeName:he.ZodVoid,...ye(t)});class Fr extends Se{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==X.array)return G(r,{code:V.invalid_type,expected:X.array,received:r.parsedType}),pe;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(G(r,{code:o?V.too_big:V.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(G(r,{code:V.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(G(r,{code:V.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new sn(r,o,r.path,a)))).then(o=>Rt.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new sn(r,o,r.path,a)));return Rt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Fr({...this._def,minLength:{value:e,message:ae.toString(r)}})}max(e,r){return new Fr({...this._def,maxLength:{value:e,message:ae.toString(r)}})}length(e,r){return new Fr({...this._def,exactLength:{value:e,message:ae.toString(r)}})}nonempty(e){return this.min(1,e)}}Fr.create=(t,e)=>new Fr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...ye(e)});function Oi(t){if(t instanceof Ye){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=rn.create(Oi(n))}return new Ye({...t._def,shape:()=>e})}else return t instanceof Fr?new Fr({...t._def,type:Oi(t.element)}):t instanceof rn?rn.create(Oi(t.unwrap())):t instanceof bs?bs.create(Oi(t.unwrap())):t instanceof on?on.create(t.items.map(e=>Oi(e))):t}class Ye extends Se{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Re.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==X.object){const c=this._getOrReturnCtx(e);return G(c,{code:V.invalid_type,expected:X.object,received:c.parsedType}),pe}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof An&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new sn(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof An){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(G(s,{code:V.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new sn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>Rt.mergeObjectSync(n,c)):Rt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ae.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ae.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const r={};return Re.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ye({...this._def,shape:()=>r})}omit(e){const r={};return Re.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ye({...this._def,shape:()=>r})}deepPartial(){return Oi(this)}partial(e){const r={};return Re.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new Ye({...this._def,shape:()=>r})}required(e){const r={};return Re.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof rn;)i=i._def.innerType;r[n]=i}}),new Ye({...this._def,shape:()=>r})}keyof(){return Wb(Re.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:An.create(),typeName:he.ZodObject,...ye(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:An.create(),typeName:he.ZodObject,...ye(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:An.create(),typeName:he.ZodObject,...ye(e)});class tl extends Se{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ar(a.ctx.common.issues));return G(r,{code:V.invalid_union,unionErrors:o}),pe}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new ar(l));return G(r,{code:V.invalid_union,unionErrors:a}),pe}}get options(){return this._def.options}}tl.create=(t,e)=>new tl({options:t,typeName:he.ZodUnion,...ye(e)});const mn=t=>t instanceof sl?mn(t.schema):t instanceof zr?mn(t.innerType()):t instanceof il?[t.value]:t instanceof _s?t.options:t instanceof ol?Re.objectValues(t.enum):t instanceof al?mn(t._def.innerType):t instanceof Xa?[void 0]:t instanceof el?[null]:t instanceof rn?[void 0,...mn(t.unwrap())]:t instanceof bs?[null,...mn(t.unwrap())]:t instanceof xm||t instanceof cl?mn(t.unwrap()):t instanceof ll?mn(t._def.innerType):[];class Zu extends Se{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.object)return G(r,{code:V.invalid_type,expected:X.object,received:r.parsedType}),pe;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(G(r,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=mn(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Zu({typeName:he.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...ye(n)})}}function Dh(t,e){const r=wn(t),n=wn(e);if(t===e)return{valid:!0,data:t};if(r===X.object&&n===X.object){const s=Re.objectKeys(e),i=Re.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Dh(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===X.array&&n===X.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Dh(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===X.date&&n===X.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rl extends Se{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(Ah(i)||Ah(o))return pe;const a=Dh(i.value,o.value);return a.valid?((Ih(i)||Ih(o))&&r.dirty(),{status:r.value,value:a.data}):(G(n,{code:V.invalid_intersection_types}),pe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rl.create=(t,e,r)=>new rl({left:t,right:e,typeName:he.ZodIntersection,...ye(r)});class on extends Se{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.array)return G(n,{code:V.invalid_type,expected:X.array,received:n.parsedType}),pe;if(n.data.length<this._def.items.length)return G(n,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pe;!this._def.rest&&n.data.length>this._def.items.length&&(G(n,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new sn(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Rt.mergeArray(r,o)):Rt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new on({...this._def,rest:e})}}on.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new on({items:t,typeName:he.ZodTuple,rest:null,...ye(e)})};class nl extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.object)return G(n,{code:V.invalid_type,expected:X.object,received:n.parsedType}),pe;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new sn(n,a,n.path,a)),value:o._parse(new sn(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Rt.mergeObjectAsync(r,s):Rt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Se?new nl({keyType:e,valueType:r,typeName:he.ZodRecord,...ye(n)}):new nl({keyType:Dr.create(),valueType:e,typeName:he.ZodRecord,...ye(r)})}}class vu extends Se{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.map)return G(n,{code:V.invalid_type,expected:X.map,received:n.parsedType}),pe;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new sn(n,a,n.path,[c,"key"])),value:i._parse(new sn(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return pe;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return pe;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}}}}vu.create=(t,e,r)=>new vu({valueType:e,keyType:t,typeName:he.ZodMap,...ye(r)});class li extends Se{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.set)return G(n,{code:V.invalid_type,expected:X.set,received:n.parsedType}),pe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(G(n,{code:V.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(G(n,{code:V.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return pe;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new sn(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new li({...this._def,minSize:{value:e,message:ae.toString(r)}})}max(e,r){return new li({...this._def,maxSize:{value:e,message:ae.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}li.create=(t,e)=>new li({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,...ye(e)});class eo extends Se{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.function)return G(r,{code:V.invalid_type,expected:X.function,received:r.parsedType}),pe;function n(a,l){return hu({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fu(),Oo].filter(c=>!!c),issueData:{code:V.invalid_arguments,argumentsError:l}})}function s(a,l){return hu({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fu(),Oo].filter(c=>!!c),issueData:{code:V.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof No){const a=this;return $t(async function(...l){const c=new ar([]),d=await a._def.args.parseAsync(l,i).catch(v=>{throw c.addIssue(n(l,v)),c}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(v=>{throw c.addIssue(s(f,v)),c})})}else{const a=this;return $t(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new ar([n(l,c.error)]);const d=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new ar([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eo({...this._def,args:on.create(e).rest(Js.create())})}returns(e){return new eo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new eo({args:e||on.create([]).rest(Js.create()),returns:r||Js.create(),typeName:he.ZodFunction,...ye(n)})}}class sl extends Se{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}sl.create=(t,e)=>new sl({getter:t,typeName:he.ZodLazy,...ye(e)});class il extends Se{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return G(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}il.create=(t,e)=>new il({value:t,typeName:he.ZodLiteral,...ye(e)});function Wb(t,e){return new _s({values:t,typeName:he.ZodEnum,...ye(e)})}class _s extends Se{constructor(){super(...arguments),aa.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return G(r,{expected:Re.joinValues(n),received:r.parsedType,code:V.invalid_type}),pe}if(pu(this,aa)||Ub(this,aa,new Set(this._def.values)),!pu(this,aa).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return G(r,{received:r.data,code:V.invalid_enum_value,options:n}),pe}return $t(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return _s.create(e,{...this._def,...r})}exclude(e,r=this._def){return _s.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}aa=new WeakMap;_s.create=Wb;class ol extends Se{constructor(){super(...arguments),la.set(this,void 0)}_parse(e){const r=Re.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==X.string&&n.parsedType!==X.number){const s=Re.objectValues(r);return G(n,{expected:Re.joinValues(s),received:n.parsedType,code:V.invalid_type}),pe}if(pu(this,la)||Ub(this,la,new Set(Re.getValidEnumValues(this._def.values))),!pu(this,la).has(e.data)){const s=Re.objectValues(r);return G(n,{received:n.data,code:V.invalid_enum_value,options:s}),pe}return $t(e.data)}get enum(){return this._def.values}}la=new WeakMap;ol.create=(t,e)=>new ol({values:t,typeName:he.ZodNativeEnum,...ye(e)});class No extends Se{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.promise&&r.common.async===!1)return G(r,{code:V.invalid_type,expected:X.promise,received:r.parsedType}),pe;const n=r.parsedType===X.promise?r.data:Promise.resolve(r.data);return $t(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}No.create=(t,e)=>new No({type:t,typeName:he.ZodPromise,...ye(e)});class zr extends Se{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{G(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return pe;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?pe:l.status==="dirty"||r.value==="dirty"?zi(l.value):l});{if(r.value==="aborted")return pe;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?pe:a.status==="dirty"||r.value==="dirty"?zi(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?pe:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?pe:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!oi(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>oi(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Re.assertNever(s)}}zr.create=(t,e,r)=>new zr({schema:t,typeName:he.ZodEffects,effect:e,...ye(r)});zr.createWithPreprocess=(t,e,r)=>new zr({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,...ye(r)});class rn extends Se{_parse(e){return this._getType(e)===X.undefined?$t(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rn.create=(t,e)=>new rn({innerType:t,typeName:he.ZodOptional,...ye(e)});class bs extends Se{_parse(e){return this._getType(e)===X.null?$t(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bs.create=(t,e)=>new bs({innerType:t,typeName:he.ZodNullable,...ye(e)});class al extends Se{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===X.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ye(e)});class ll extends Se{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ja(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ar(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ar(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ll.create=(t,e)=>new ll({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ye(e)});class yu extends Se{_parse(e){if(this._getType(e)!==X.nan){const n=this._getOrReturnCtx(e);return G(n,{code:V.invalid_type,expected:X.nan,received:n.parsedType}),pe}return{status:"valid",value:e.data}}}yu.create=t=>new yu({typeName:he.ZodNaN,...ye(t)});const jA=Symbol("zod_brand");class xm extends Se{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Tl extends Se{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?pe:i.status==="dirty"?(r.dirty(),zi(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?pe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Tl({in:e,out:r,typeName:he.ZodPipeline})}}class cl extends Se{_parse(e){const r=this._def.innerType._parse(e),n=s=>(oi(s)&&(s.value=Object.freeze(s.value)),s);return Ja(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}cl.create=(t,e)=>new cl({innerType:t,typeName:he.ZodReadonly,...ye(e)});function ty(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function qb(t,e={},r){return t?Po.create().superRefine((n,s)=>{var i,o;const a=t(n);if(a instanceof Promise)return a.then(l=>{var c,d;if(!l){const f=ty(e,n),h=(d=(c=f.fatal)!==null&&c!==void 0?c:r)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!a){const l=ty(e,n),c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:c})}}):Po.create()}const OA={object:Ye.lazycreate};var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(he||(he={}));const PA=(t,e={message:`Input not instance of ${t.name}`})=>qb(r=>r instanceof t,e),Hb=Dr.create,Kb=ws.create,NA=yu.create,RA=xs.create,Qb=Ya.create,AA=ai.create,IA=mu.create,DA=Xa.create,LA=el.create,MA=Po.create,FA=Js.create,$A=An.create,UA=gu.create,VA=Fr.create,zA=Ye.create,BA=Ye.strictCreate,WA=tl.create,qA=Zu.create,HA=rl.create,KA=on.create,QA=nl.create,GA=vu.create,ZA=li.create,JA=eo.create,YA=sl.create,XA=il.create,eI=_s.create,tI=ol.create,rI=No.create,ry=zr.create,nI=rn.create,sI=bs.create,iI=zr.createWithPreprocess,oI=Tl.create,aI=()=>Hb().optional(),lI=()=>Kb().optional(),cI=()=>Qb().optional(),uI={string:t=>Dr.create({...t,coerce:!0}),number:t=>ws.create({...t,coerce:!0}),boolean:t=>Ya.create({...t,coerce:!0}),bigint:t=>xs.create({...t,coerce:!0}),date:t=>ai.create({...t,coerce:!0})},dI=pe;var Si=Object.freeze({__proto__:null,defaultErrorMap:Oo,setErrorMap:iA,getErrorMap:fu,makeIssue:hu,EMPTY_PATH:oA,addIssueToContext:G,ParseStatus:Rt,INVALID:pe,DIRTY:zi,OK:$t,isAborted:Ah,isDirty:Ih,isValid:oi,isAsync:Ja,get util(){return Re},get objectUtil(){return Rh},ZodParsedType:X,getParsedType:wn,ZodType:Se,datetimeRegex:Bb,ZodString:Dr,ZodNumber:ws,ZodBigInt:xs,ZodBoolean:Ya,ZodDate:ai,ZodSymbol:mu,ZodUndefined:Xa,ZodNull:el,ZodAny:Po,ZodUnknown:Js,ZodNever:An,ZodVoid:gu,ZodArray:Fr,ZodObject:Ye,ZodUnion:tl,ZodDiscriminatedUnion:Zu,ZodIntersection:rl,ZodTuple:on,ZodRecord:nl,ZodMap:vu,ZodSet:li,ZodFunction:eo,ZodLazy:sl,ZodLiteral:il,ZodEnum:_s,ZodNativeEnum:ol,ZodPromise:No,ZodEffects:zr,ZodTransformer:zr,ZodOptional:rn,ZodNullable:bs,ZodDefault:al,ZodCatch:ll,ZodNaN:yu,BRAND:jA,ZodBranded:xm,ZodPipeline:Tl,ZodReadonly:cl,custom:qb,Schema:Se,ZodSchema:Se,late:OA,get ZodFirstPartyTypeKind(){return he},coerce:uI,any:MA,array:VA,bigint:RA,boolean:Qb,date:AA,discriminatedUnion:qA,effect:ry,enum:eI,function:JA,instanceof:PA,intersection:HA,lazy:YA,literal:XA,map:GA,nan:NA,nativeEnum:tI,never:$A,null:LA,nullable:sI,number:Kb,object:zA,oboolean:cI,onumber:lI,optional:nI,ostring:aI,pipeline:oI,preprocess:iI,promise:rI,record:QA,set:ZA,strictObject:BA,string:Hb,symbol:IA,transformer:ry,tuple:KA,undefined:DA,union:WA,unknown:FA,void:UA,NEVER:dI,ZodIssueCode:V,quotelessJson:sA,ZodError:ar});function ny(t,[e,r]){return Math.min(r,Math.max(e,t))}var fI=_.createContext(void 0);function hI(t){const e=_.useContext(fI);return t||e||"ltr"}var Qd=0;function pI(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sy()),document.body.insertAdjacentElement("beforeend",t[1]??sy()),Qd++,()=>{Qd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qd--}},[])}function sy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gd="focusScope.autoFocusOnMount",Zd="focusScope.autoFocusOnUnmount",iy={bubbles:!1,cancelable:!0},mI="FocusScope",Gb=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=_.useState(null),c=ur(s),d=ur(i),f=_.useRef(null),h=st(e,p=>l(p)),v=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let p=function(g){if(v.paused||!a)return;const S=g.target;a.contains(S)?f.current=S:Vn(f.current,{select:!0})},w=function(g){if(v.paused||!a)return;const S=g.relatedTarget;S!==null&&(a.contains(S)||Vn(f.current,{select:!0}))},y=function(g){if(document.activeElement===document.body)for(const C of g)C.removedNodes.length>0&&Vn(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const m=new MutationObserver(y);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),m.disconnect()}}},[n,a,v.paused]),_.useEffect(()=>{if(a){ay.add(v);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(Gd,iy);a.addEventListener(Gd,c),a.dispatchEvent(y),y.defaultPrevented||(gI(_I(Zb(a)),{select:!0}),document.activeElement===p&&Vn(a))}return()=>{a.removeEventListener(Gd,c),setTimeout(()=>{const y=new CustomEvent(Zd,iy);a.addEventListener(Zd,d),a.dispatchEvent(y),y.defaultPrevented||Vn(p??document.body,{select:!0}),a.removeEventListener(Zd,d),ay.remove(v)},0)}}},[a,c,d,v]);const x=_.useCallback(p=>{if(!r&&!n||v.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(w&&y){const m=p.currentTarget,[g,S]=vI(m);g&&S?!p.shiftKey&&y===S?(p.preventDefault(),r&&Vn(g,{select:!0})):p.shiftKey&&y===g&&(p.preventDefault(),r&&Vn(S,{select:!0})):y===m&&p.preventDefault()}},[r,n,v.paused]);return u.jsx(Ve.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Gb.displayName=mI;function gI(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Vn(n,{select:e}),document.activeElement!==r)return}function vI(t){const e=Zb(t),r=oy(e,t),n=oy(e.reverse(),t);return[r,n]}function Zb(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function oy(t,e){for(const r of t)if(!yI(r,{upTo:e}))return r}function yI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wI(t){return t instanceof HTMLInputElement&&"select"in t}function Vn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&wI(t)&&e&&t.select()}}var ay=xI();function xI(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=ly(t,e),t.unshift(e)},remove(e){var r;t=ly(t,e),(r=t[0])==null||r.resume()}}}function ly(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function _I(t){return t.filter(e=>e.tagName!=="A")}function bI(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var SI=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ei=new WeakMap,oc=new WeakMap,ac={},Jd=0,Jb=function(t){return t&&(t.host||Jb(t.parentNode))},EI=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Jb(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},kI=function(t,e,r,n){var s=EI(e,Array.isArray(t)?t:[t]);ac[r]||(ac[r]=new WeakMap);var i=ac[r],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var v=h.getAttribute(n),x=v!==null&&v!=="false",p=(Ei.get(h)||0)+1,w=(i.get(h)||0)+1;Ei.set(h,p),i.set(h,w),o.push(h),p===1&&x&&oc.set(h,!0),w===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),Jd++,function(){o.forEach(function(f){var h=Ei.get(f)-1,v=i.get(f)-1;Ei.set(f,h),i.set(f,v),h||(oc.has(f)||f.removeAttribute(n),oc.delete(f)),v||f.removeAttribute(r)}),Jd--,Jd||(Ei=new WeakMap,Ei=new WeakMap,oc=new WeakMap,ac={})}},CI=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=SI(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),kI(n,s,r,"aria-hidden")):function(){return null}},Tc="right-scroll-bar-position",jc="width-before-scroll-bar",TI="with-scroll-bars-hidden",jI="--removed-body-scroll-bar-size";function Yd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function OI(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var PI=typeof window<"u"?_.useLayoutEffect:_.useEffect,cy=new WeakMap;function NI(t,e){var r=OI(null,function(n){return t.forEach(function(s){return Yd(s,n)})});return PI(function(){var n=cy.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(a){i.has(a)||Yd(a,null)}),i.forEach(function(a){s.has(a)||Yd(a,o)})}cy.set(r,t)},[t]),r}function RI(t){return t}function AI(t,e){e===void 0&&(e=RI);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return s}function II(t){t===void 0&&(t={});var e=AI(null);return e.options=yr({async:!0,ssr:!1},t),e}var Yb=function(t){var e=t.sideCar,r=Cs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,yr({},r))};Yb.isSideCarExport=!0;function DI(t,e){return t.useMedium(e),Yb}var Xb=II(),Xd=function(){},Ju=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:Xd,onWheelCapture:Xd,onTouchMoveCapture:Xd}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,v=t.noIsolation,x=t.inert,p=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,m=t.gapMode,g=Cs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,C=NI([r,e]),P=yr(yr({},g),s);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:Xb,removeScrollBar:c,shards:f,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:m}),o?_.cloneElement(_.Children.only(a),yr(yr({},P),{ref:C})):_.createElement(y,yr({},P,{className:l,ref:C}),a))});Ju.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ju.classNames={fullWidth:jc,zeroRight:Tc};var LI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MI(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LI();return e&&t.setAttribute("nonce",e),t}function FI(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $I(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var UI=function(){var t=0,e=null;return{add:function(r){t==0&&(e=MI())&&(FI(e,r),$I(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VI=function(){var t=UI();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},eS=function(){var t=VI(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},zI={left:0,top:0,right:0,gap:0},ef=function(t){return parseInt(t||"",10)||0},BI=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ef(r),ef(n),ef(s)]},WI=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zI;var e=BI(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},qI=eS(),to="data-scroll-locked",HI=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(TI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(to,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tc,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(jc,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Tc," .").concat(Tc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(jc," .").concat(jc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(to,`] {
    `).concat(jI,": ").concat(a,`px;
  }
`)},uy=function(){var t=parseInt(document.body.getAttribute(to)||"0",10);return isFinite(t)?t:0},KI=function(){_.useEffect(function(){return document.body.setAttribute(to,(uy()+1).toString()),function(){var t=uy()-1;t<=0?document.body.removeAttribute(to):document.body.setAttribute(to,t.toString())}},[])},QI=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;KI();var i=_.useMemo(function(){return WI(s)},[s]);return _.createElement(qI,{styles:HI(i,!e,s,r?"":"!important")})},Lh=!1;if(typeof window<"u")try{var lc=Object.defineProperty({},"passive",{get:function(){return Lh=!0,!0}});window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{Lh=!1}var ki=Lh?{passive:!1}:!1,GI=function(t){return t.tagName==="TEXTAREA"},tS=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!GI(t)&&r[e]==="visible")},ZI=function(t){return tS(t,"overflowY")},JI=function(t){return tS(t,"overflowX")},dy=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=rS(t,n);if(s){var i=nS(t,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},YI=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},XI=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},rS=function(t,e){return t==="v"?ZI(e):JI(e)},nS=function(t,e){return t==="v"?YI(e):XI(e)},eD=function(t,e){return t==="h"&&e==="rtl"?-1:1},tD=function(t,e,r,n,s){var i=eD(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),c=!1,d=o>0,f=0,h=0;do{var v=nS(t,a),x=v[0],p=v[1],w=v[2],y=p-w-i*x;(x||y)&&rS(t,a)&&(f+=y,h+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},cc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fy=function(t){return[t.deltaX,t.deltaY]},hy=function(t){return t&&"current"in t?t.current:t},rD=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nD=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sD=0,Ci=[];function iD(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),s=_.useState(sD++)[0],i=_.useState(eS)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=am([t.lockRef.current],(t.shards||[]).map(hy),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=_.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=cc(p),m=r.current,g="deltaX"in p?p.deltaX:m[0]-y[0],S="deltaY"in p?p.deltaY:m[1]-y[1],C,P=p.target,j=Math.abs(g)>Math.abs(S)?"h":"v";if("touches"in p&&j==="h"&&P.type==="range")return!1;var b=dy(j,P);if(!b)return!0;if(b?C=j:(C=j==="v"?"h":"v",b=dy(j,P)),!b)return!1;if(!n.current&&"changedTouches"in p&&(g||S)&&(n.current=C),!C)return!0;var E=n.current||C;return tD(E,w,p,E==="h"?g:S,!0)},[]),l=_.useCallback(function(p){var w=p;if(!(!Ci.length||Ci[Ci.length-1]!==i)){var y="deltaY"in w?fy(w):cc(w),m=e.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&rD(C.delta,y)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var g=(o.current.shards||[]).map(hy).filter(Boolean).filter(function(C){return C.contains(w.target)}),S=g.length>0?a(w,g[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=_.useCallback(function(p,w,y,m){var g={name:p,delta:w,target:y,should:m,shadowParent:oD(y)};e.current.push(g),setTimeout(function(){e.current=e.current.filter(function(S){return S!==g})},1)},[]),d=_.useCallback(function(p){r.current=cc(p),n.current=void 0},[]),f=_.useCallback(function(p){c(p.type,fy(p),p.target,a(p,t.lockRef.current))},[]),h=_.useCallback(function(p){c(p.type,cc(p),p.target,a(p,t.lockRef.current))},[]);_.useEffect(function(){return Ci.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ki),document.addEventListener("touchmove",l,ki),document.addEventListener("touchstart",d,ki),function(){Ci=Ci.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,ki),document.removeEventListener("touchmove",l,ki),document.removeEventListener("touchstart",d,ki)}},[]);var v=t.removeScrollBar,x=t.inert;return _.createElement(_.Fragment,null,x?_.createElement(i,{styles:nD(s)}):null,v?_.createElement(QI,{gapMode:t.gapMode}):null)}function oD(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aD=DI(Xb,iD);var sS=_.forwardRef(function(t,e){return _.createElement(Ju,yr({},t,{ref:e,sideCar:aD}))});sS.classNames=Ju.classNames;var lD=[" ","Enter","ArrowUp","ArrowDown"],cD=[" ","Enter"],jl="Select",[Yu,Xu,uD]=fx(jl),[zo,sL]=_l(jl,[uD,Wu]),ed=Wu(),[dD,js]=zo(jl),[fD,hD]=zo(jl),iS=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:v,form:x}=t,p=ed(e),[w,y]=_.useState(null),[m,g]=_.useState(null),[S,C]=_.useState(!1),P=hI(c),[j=!1,b]=ch({prop:n,defaultProp:s,onChange:i}),[E,O]=ch({prop:o,defaultProp:a,onChange:l}),L=_.useRef(null),N=w?x||!!w.closest("form"):!0,[F,M]=_.useState(new Set),ee=Array.from(F).map(K=>K.props.value).join(";");return u.jsx(xO,{...p,children:u.jsxs(dD,{required:v,scope:e,trigger:w,onTriggerChange:y,valueNode:m,onValueNodeChange:g,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Gp(),value:E,onValueChange:O,open:j,onOpenChange:b,dir:P,triggerPointerDownPosRef:L,disabled:h,children:[u.jsx(Yu.Provider,{scope:e,children:u.jsx(fD,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(K=>{M(B=>new Set(B).add(K))},[]),onNativeOptionRemove:_.useCallback(K=>{M(B=>{const A=new Set(B);return A.delete(K),A})},[]),children:r})}),N?u.jsxs(PS,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:K=>O(K.target.value),disabled:h,form:x,children:[E===void 0?u.jsx("option",{value:""}):null,Array.from(F)]},ee):null]})})};iS.displayName=jl;var oS="SelectTrigger",aS=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=ed(r),o=js(oS,r),a=o.disabled||n,l=st(e,o.onTriggerChange),c=Xu(r),d=_.useRef("touch"),[f,h,v]=NS(p=>{const w=c().filter(g=>!g.disabled),y=w.find(g=>g.value===o.value),m=RS(w,p,y);m!==void 0&&o.onValueChange(m.value)}),x=p=>{a||(o.onOpenChange(!0),v()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return u.jsx(g_,{asChild:!0,...i,children:u.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":OS(o.value)?"":void 0,...s,ref:l,onClick:Ce(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&x(p)}),onPointerDown:Ce(s.onPointerDown,p=>{d.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:Ce(s.onKeyDown,p=>{const w=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(w&&p.key===" ")&&lD.includes(p.key)&&(x(),p.preventDefault())})})})});aS.displayName=oS;var lS="SelectValue",cS=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,l=js(lS,r),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=st(e,l.onValueNodeChange);return Nt(()=>{c(d)},[c,d]),u.jsx(Ve.span,{...a,ref:f,style:{pointerEvents:"none"},children:OS(l.value)?u.jsx(u.Fragment,{children:o}):i})});cS.displayName=lS;var pD="SelectIcon",uS=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return u.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});uS.displayName=pD;var mD="SelectPortal",dS=t=>u.jsx(Bp,{asChild:!0,...t});dS.displayName=mD;var ci="SelectContent",fS=_.forwardRef((t,e)=>{const r=js(ci,t.__scopeSelect),[n,s]=_.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?fi.createPortal(u.jsx(hS,{scope:t.__scopeSelect,children:u.jsx(Yu.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(pS,{...t,ref:e})});fS.displayName=ci;var kr=10,[hS,Os]=zo(ci),gD="SelectContentImpl",vD=Wa("SelectContent.RemoveScroll"),pS=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:p,avoidCollisions:w,...y}=t,m=js(ci,r),[g,S]=_.useState(null),[C,P]=_.useState(null),j=st(e,ne=>S(ne)),[b,E]=_.useState(null),[O,L]=_.useState(null),N=Xu(r),[F,M]=_.useState(!1),ee=_.useRef(!1);_.useEffect(()=>{if(g)return CI(g)},[g]),pI();const K=_.useCallback(ne=>{const[ie,...ce]=N().map(le=>le.ref.current),[ue]=ce.slice(-1),Q=document.activeElement;for(const le of ne)if(le===Q||(le==null||le.scrollIntoView({block:"nearest"}),le===ie&&C&&(C.scrollTop=0),le===ue&&C&&(C.scrollTop=C.scrollHeight),le==null||le.focus(),document.activeElement!==Q))return},[N,C]),B=_.useCallback(()=>K([b,g]),[K,b,g]);_.useEffect(()=>{F&&B()},[F,B]);const{onOpenChange:A,triggerPointerDownPosRef:D}=m;_.useEffect(()=>{if(g){let ne={x:0,y:0};const ie=ue=>{var Q,le;ne={x:Math.abs(Math.round(ue.pageX)-(((Q=D.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((le=D.current)==null?void 0:le.y)??0))}},ce=ue=>{ne.x<=10&&ne.y<=10?ue.preventDefault():g.contains(ue.target)||A(!1),document.removeEventListener("pointermove",ie),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ce,{capture:!0})}}},[g,A,D]),_.useEffect(()=>{const ne=()=>A(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[A]);const[q,W]=NS(ne=>{const ie=N().filter(Q=>!Q.disabled),ce=ie.find(Q=>Q.ref.current===document.activeElement),ue=RS(ie,ne,ce);ue&&setTimeout(()=>ue.ref.current.focus())}),te=_.useCallback((ne,ie,ce)=>{const ue=!ee.current&&!ce;(m.value!==void 0&&m.value===ie||ue)&&(E(ne),ue&&(ee.current=!0))},[m.value]),Z=_.useCallback(()=>g==null?void 0:g.focus(),[g]),we=_.useCallback((ne,ie,ce)=>{const ue=!ee.current&&!ce;(m.value!==void 0&&m.value===ie||ue)&&L(ne)},[m.value]),Pe=n==="popper"?Mh:mS,Te=Pe===Mh?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:x,hideWhenDetached:p,avoidCollisions:w}:{};return u.jsx(hS,{scope:r,content:g,viewport:C,onViewportChange:P,itemRefCallback:te,selectedItem:b,onItemLeave:Z,itemTextRefCallback:we,focusSelectedItem:B,selectedItemText:O,position:n,isPositioned:F,searchRef:q,children:u.jsx(sS,{as:vD,allowPinchZoom:!0,children:u.jsx(Gb,{asChild:!0,trapped:m.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ce(s,ne=>{var ie;(ie=m.trigger)==null||ie.focus({preventScroll:!0}),ne.preventDefault()}),children:u.jsx(Mu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:u.jsx(Pe,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:ne=>ne.preventDefault(),...y,...Te,onPlaced:()=>M(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ce(y.onKeyDown,ne=>{const ie=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ie&&ne.key.length===1&&W(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ue=N().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Q=ne.target,le=ue.indexOf(Q);ue=ue.slice(le+1)}setTimeout(()=>K(ue)),ne.preventDefault()}})})})})})})});pS.displayName=gD;var yD="SelectItemAlignedPosition",mS=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=js(ci,r),o=Os(ci,r),[a,l]=_.useState(null),[c,d]=_.useState(null),f=st(e,j=>d(j)),h=Xu(r),v=_.useRef(!1),x=_.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:y,focusSelectedItem:m}=o,g=_.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&p&&w&&y){const j=i.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(i.dir!=="rtl"){const Q=O.left-b.left,le=E.left-Q,je=j.left-le,xe=j.width+je,Ne=Math.max(xe,b.width),me=window.innerWidth-kr,at=ny(le,[kr,Math.max(kr,me-Ne)]);a.style.minWidth=xe+"px",a.style.left=at+"px"}else{const Q=b.right-O.right,le=window.innerWidth-E.right-Q,je=window.innerWidth-j.right-le,xe=j.width+je,Ne=Math.max(xe,b.width),me=window.innerWidth-kr,at=ny(le,[kr,Math.max(kr,me-Ne)]);a.style.minWidth=xe+"px",a.style.right=at+"px"}const L=h(),N=window.innerHeight-kr*2,F=p.scrollHeight,M=window.getComputedStyle(c),ee=parseInt(M.borderTopWidth,10),K=parseInt(M.paddingTop,10),B=parseInt(M.borderBottomWidth,10),A=parseInt(M.paddingBottom,10),D=ee+K+F+A+B,q=Math.min(w.offsetHeight*5,D),W=window.getComputedStyle(p),te=parseInt(W.paddingTop,10),Z=parseInt(W.paddingBottom,10),we=j.top+j.height/2-kr,Pe=N-we,Te=w.offsetHeight/2,ne=w.offsetTop+Te,ie=ee+K+ne,ce=D-ie;if(ie<=we){const Q=L.length>0&&w===L[L.length-1].ref.current;a.style.bottom="0px";const le=c.clientHeight-p.offsetTop-p.offsetHeight,je=Math.max(Pe,Te+(Q?Z:0)+le+B),xe=ie+je;a.style.height=xe+"px"}else{const Q=L.length>0&&w===L[0].ref.current;a.style.top="0px";const je=Math.max(we,ee+p.offsetTop+(Q?te:0)+Te)+ce;a.style.height=je+"px",p.scrollTop=ie-we+p.offsetTop}a.style.margin=`${kr}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[h,i.trigger,i.valueNode,a,c,p,w,y,i.dir,n]);Nt(()=>g(),[g]);const[S,C]=_.useState();Nt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const P=_.useCallback(j=>{j&&x.current===!0&&(g(),m==null||m(),x.current=!1)},[g,m]);return u.jsx(xD,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:P,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:u.jsx(Ve.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mS.displayName=yD;var wD="SelectPopperPosition",Mh=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=kr,...i}=t,o=ed(r);return u.jsx(v_,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mh.displayName=wD;var[xD,_m]=zo(ci,{}),Fh="SelectViewport",gS=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Os(Fh,r),o=_m(Fh,r),a=st(e,i.onViewportChange),l=_.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(Yu.Slot,{scope:r,children:u.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ce(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const v=Math.abs(l.current-d.scrollTop);if(v>0){const x=window.innerHeight-kr*2,p=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),y=Math.max(p,w);if(y<x){const m=y+v,g=Math.min(x,m),S=m-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});gS.displayName=Fh;var vS="SelectGroup",[_D,bD]=zo(vS),SD=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Gp();return u.jsx(_D,{scope:r,id:s,children:u.jsx(Ve.div,{role:"group","aria-labelledby":s,...n,ref:e})})});SD.displayName=vS;var yS="SelectLabel",wS=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=bD(yS,r);return u.jsx(Ve.div,{id:s.id,...n,ref:e})});wS.displayName=yS;var wu="SelectItem",[ED,xS]=zo(wu),_S=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=js(wu,r),l=Os(wu,r),c=a.value===n,[d,f]=_.useState(i??""),[h,v]=_.useState(!1),x=st(e,m=>{var g;return(g=l.itemRefCallback)==null?void 0:g.call(l,m,n,s)}),p=Gp(),w=_.useRef("touch"),y=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(ED,{scope:r,value:n,disabled:s,textId:p,isSelected:c,onItemTextChange:_.useCallback(m=>{f(g=>g||((m==null?void 0:m.textContent)??"").trim())},[]),children:u.jsx(Yu.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:u.jsx(Ve.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Ce(o.onFocus,()=>v(!0)),onBlur:Ce(o.onBlur,()=>v(!1)),onClick:Ce(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Ce(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Ce(o.onPointerDown,m=>{w.current=m.pointerType}),onPointerMove:Ce(o.onPointerMove,m=>{var g;w.current=m.pointerType,s?(g=l.onItemLeave)==null||g.call(l):w.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,m=>{var g;m.currentTarget===document.activeElement&&((g=l.onItemLeave)==null||g.call(l))}),onKeyDown:Ce(o.onKeyDown,m=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&m.key===" "||(cD.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})})})})});_S.displayName=wu;var ca="SelectItemText",bS=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=js(ca,r),a=Os(ca,r),l=xS(ca,r),c=hD(ca,r),[d,f]=_.useState(null),h=st(e,y=>f(y),l.onItemTextChange,y=>{var m;return(m=a.itemTextRefCallback)==null?void 0:m.call(a,y,l.value,l.disabled)}),v=d==null?void 0:d.textContent,x=_.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=c;return Nt(()=>(p(x),()=>w(x)),[p,w,x]),u.jsxs(u.Fragment,{children:[u.jsx(Ve.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fi.createPortal(i.children,o.valueNode):null]})});bS.displayName=ca;var SS="SelectItemIndicator",ES=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return xS(SS,r).isSelected?u.jsx(Ve.span,{"aria-hidden":!0,...n,ref:e}):null});ES.displayName=SS;var $h="SelectScrollUpButton",kS=_.forwardRef((t,e)=>{const r=Os($h,t.__scopeSelect),n=_m($h,t.__scopeSelect),[s,i]=_.useState(!1),o=st(e,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(TS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});kS.displayName=$h;var Uh="SelectScrollDownButton",CS=_.forwardRef((t,e)=>{const r=Os(Uh,t.__scopeSelect),n=_m(Uh,t.__scopeSelect),[s,i]=_.useState(!1),o=st(e,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?u.jsx(TS,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});CS.displayName=Uh;var TS=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Os("SelectScrollButton",r),o=_.useRef(null),a=Xu(r),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),Nt(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(s.onPointerLeave,()=>{l()})})}),kD="SelectSeparator",jS=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(Ve.div,{"aria-hidden":!0,...n,ref:e})});jS.displayName=kD;var Vh="SelectArrow",CD=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=ed(r),i=js(Vh,r),o=Os(Vh,r);return i.open&&o.position==="popper"?u.jsx(y_,{...s,...n,ref:e}):null});CD.displayName=Vh;function OS(t){return t===""||t===void 0}var PS=_.forwardRef((t,e)=>{const{value:r,...n}=t,s=_.useRef(null),i=st(e,s),o=bI(r);return _.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(f)}},[o,r]),u.jsx(bl,{asChild:!0,children:u.jsx("select",{...n,ref:i,defaultValue:r})})});PS.displayName="BubbleSelect";function NS(t){const e=ur(t),r=_.useRef(""),n=_.useRef(0),s=_.useCallback(o=>{const a=r.current+o;e(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function RS(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=TD(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function TD(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var jD=iS,AS=aS,OD=cS,PD=uS,ND=dS,IS=fS,RD=gS,DS=wS,LS=_S,AD=bS,ID=ES,MS=kS,FS=CS,$S=jS;const DD=jD,LD=OD,US=_.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(AS,{ref:n,className:Ke("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(PD,{asChild:!0,children:u.jsx($x,{className:"h-4 w-4 opacity-50"})})]}));US.displayName=AS.displayName;const VS=_.forwardRef(({className:t,...e},r)=>u.jsx(MS,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(TT,{className:"h-4 w-4"})}));VS.displayName=MS.displayName;const zS=_.forwardRef(({className:t,...e},r)=>u.jsx(FS,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx($x,{className:"h-4 w-4"})}));zS.displayName=FS.displayName;const BS=_.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>u.jsx(ND,{children:u.jsxs(IS,{ref:s,className:Ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(VS,{}),u.jsx(RD,{className:Ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(zS,{})]})}));BS.displayName=IS.displayName;const MD=_.forwardRef(({className:t,...e},r)=>u.jsx(DS,{ref:r,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));MD.displayName=DS.displayName;const WS=_.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(LS,{ref:n,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(ID,{children:u.jsx(CT,{className:"h-4 w-4"})})}),u.jsx(AD,{children:e})]}));WS.displayName=LS.displayName;const FD=_.forwardRef(({className:t,...e},r)=>u.jsx($S,{ref:r,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));FD.displayName=$S.displayName;const $D=Si.object({farmerId:Si.string().min(1,"Please select a farmer"),productName:Si.string().min(1,"Product name is required"),quantity:Si.coerce.number().positive("Quantity must be positive"),unitPrice:Si.coerce.number().positive("Unit price must be positive"),downPayment:Si.coerce.number().positive("Down payment is required")});function UD(){var y,m;const[,t]=xl(),{toast:e}=hi(),[r,n]=_.useState(0),[s,i]=_.useState(0),[o,a]=_.useState(!1),c=((m=(y=cr({queryKey:["/api/auth/user"],queryFn:async()=>await Ie.auth.getUser()}).data)==null?void 0:y.data)==null?void 0:m.user)??null,{data:d}=cr({queryKey:["/api/agent/farmers"],queryFn:async()=>{if(!c)return[];const{data:g,error:S}=await Ie.from("farmers").select("*").eq("agent_id",c.id);if(S)throw S;return g}}),f=XR({resolver:nA($D),defaultValues:{farmerId:"",productName:"",quantity:0,unitPrice:0,downPayment:0}}),h=f.watch("quantity"),v=f.watch("unitPrice"),x=f.watch("downPayment");_.useEffect(()=>{if(h>0&&v>0){const g=SR(h,v),S=Tb(g);n(g),i(S),x===0&&f.setValue("downPayment",S)}},[h,v]),_.useEffect(()=>{if(r>0&&x>0){const g=Uv(r,x);a(g)}else a(!1)},[r,x]);const p=Ba({mutationFn:async g=>{if(!c)throw new Error("Not authenticated");if(!Uv(r,g.downPayment))throw new Error("Down payment must be exactly 50% of total cost");const{error:S}=await Ie.from("orders").insert({farmer_id:g.farmerId,agent_id:c.id,product_name:g.productName,quantity:g.quantity.toString(),unit_price:g.unitPrice.toString(),total_cost:r.toString(),down_payment:g.downPayment.toString(),remaining_balance:(r-g.downPayment).toString(),status:"pending"});if(S)throw S},onSuccess:()=>{Eo.invalidateQueries({queryKey:["/api/agent/stats"]}),e({title:"Order created",description:"Order submitted for admin approval"}),t("/agent/dashboard")},onError:g=>{e({title:"Failed to create order",description:g.message,variant:"destructive"})}}),w=g=>{p.mutate(g)};return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6 max-w-2xl mx-auto",children:[u.jsx(ln,{title:"Create New Order",subtitle:"Process fertilizer credit for a farmer"}),u.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-6",children:[u.jsxs($e,{children:[u.jsx(yt,{children:u.jsx(wt,{className:"text-lg",children:"Farmer Information"})}),u.jsx(Ue,{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(_n,{htmlFor:"farmerId",children:"Select Farmer"}),u.jsxs(DD,{value:f.watch("farmerId"),onValueChange:g=>f.setValue("farmerId",g),children:[u.jsx(US,{className:"h-14","data-testid":"select-farmer",children:u.jsx(LD,{placeholder:"Choose a linked farmer"})}),u.jsx(BS,{children:d==null?void 0:d.map(g=>u.jsxs(WS,{value:g.id,children:[g.name," - ",g.phone]},g.id))})]}),f.formState.errors.farmerId&&u.jsx("p",{className:"text-sm text-destructive",children:f.formState.errors.farmerId.message})]})})]}),u.jsxs($e,{children:[u.jsx(yt,{children:u.jsx(wt,{className:"text-lg",children:"Product Details"})}),u.jsxs(Ue,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_n,{htmlFor:"productName",children:"Product Name"}),u.jsx(En,{id:"productName",placeholder:"e.g., NPK Fertilizer 50kg",...f.register("productName"),className:"h-14","data-testid":"input-product-name"}),f.formState.errors.productName&&u.jsx("p",{className:"text-sm text-destructive",children:f.formState.errors.productName.message})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(_n,{htmlFor:"quantity",children:"Quantity"}),u.jsx(En,{id:"quantity",type:"number",step:"0.01",placeholder:"0",...f.register("quantity"),className:"h-14","data-testid":"input-quantity"}),f.formState.errors.quantity&&u.jsx("p",{className:"text-sm text-destructive",children:f.formState.errors.quantity.message})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(_n,{htmlFor:"unitPrice",children:"Unit Price (KES)"}),u.jsx(En,{id:"unitPrice",type:"number",step:"0.01",placeholder:"0.00",...f.register("unitPrice"),className:"h-14","data-testid":"input-unit-price"}),f.formState.errors.unitPrice&&u.jsx("p",{className:"text-sm text-destructive",children:f.formState.errors.unitPrice.message})]})]})]})]}),u.jsxs($e,{children:[u.jsx(yt,{children:u.jsx(wt,{className:"text-lg",children:"Cost Summary"})}),u.jsxs(Ue,{className:"space-y-4",children:[u.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Cost"}),u.jsx("span",{className:"font-semibold text-foreground",children:Ot(r)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Required Down Payment (50%)"}),u.jsx("span",{className:"font-semibold text-primary",children:Ot(s)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Remaining Balance"}),u.jsx("span",{className:"font-semibold text-foreground",children:Ot(r-s)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(_n,{htmlFor:"downPayment",className:"flex items-center gap-2",children:["Down Payment Amount (KES)",o&&u.jsx("span",{className:"material-icons text-primary text-xl",children:"check_circle"})]}),u.jsx(En,{id:"downPayment",type:"number",step:"0.01",placeholder:"0.00",...f.register("downPayment"),className:`h-14 text-lg font-semibold ${o?"border-primary":""}`,"data-testid":"input-down-payment"}),!o&&x>0&&u.jsxs("p",{className:"text-sm text-destructive",children:["Down payment must be exactly 50% (",Ot(s),")"]}),o&&u.jsxs("p",{className:"text-sm text-primary flex items-center gap-1",children:[u.jsx("span",{className:"material-icons text-base",children:"check_circle"}),"Exact 50% down payment verified"]})]})]})]}),u.jsx(Kt,{type:"submit",className:"w-full h-12",disabled:!o||p.isPending,"data-testid":"button-submit-order",children:p.isPending?"Submitting...":"Submit Order for Approval"})]})]})}function VD(){const{data:t}=cr({queryKey:["/api/agent/profile"],queryFn:async()=>{const{data:{user:e}}=await Ie.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await Ie.from("users").select("*").eq("id",e.id).single();if(n)throw n;return r}});return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6 max-w-2xl mx-auto",children:[u.jsx(ln,{title:"My Profile",subtitle:"Agent account information"}),u.jsxs($e,{children:[u.jsx(yt,{children:u.jsx(wt,{children:"Account Details"})}),u.jsxs(Ue,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-card-border",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx("span",{className:"material-icons text-primary text-3xl",children:"account_circle"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-xl text-foreground",children:(t==null?void 0:t.name)||"Agent"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Agent"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{className:"font-medium text-foreground",children:t==null?void 0:t.email})]}),(t==null?void 0:t.agent_id)&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Agent ID"}),u.jsx("p",{className:"font-medium font-mono text-foreground",children:t.agent_id})]}),(t==null?void 0:t.phone)&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),u.jsx("p",{className:"font-medium text-foreground",children:t.phone})]})]})]})]})]})}function zD(){const{data:t,isLoading:e}=cr({queryKey:["/api/farmer/orders"],queryFn:async()=>{const{data:{user:r}}=await Ie.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await Ie.from("farmers").select("id").eq("phone",r.phone||r.email).limit(1);if(s)throw s;if(!n||n.length===0)return[];const i=n[0].id,{data:o,error:a}=await Ie.from("orders").select("*").eq("farmer_id",i).order("created_at",{ascending:!1});if(a)throw a;return o}});return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[u.jsx(ln,{title:"My Orders",subtitle:"View your fertilizer credit orders"}),e?u.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading orders..."}):t&&t.length>0?u.jsx("div",{className:"space-y-4",children:t.map(r=>u.jsxs($e,{className:"shadow-sm",children:[u.jsx(yt,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx(wt,{className:"text-lg",children:r.product_name}),u.jsx(Za,{status:r.status})]})}),u.jsxs(Ue,{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Order ID"}),u.jsxs("p",{className:"font-mono text-xs",children:["#",r.id.slice(0,8)]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Date"}),u.jsx("p",{className:"font-medium",children:Xi(r.created_at)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Quantity"}),u.jsxs("p",{className:"font-medium",children:[r.quantity," units"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-muted-foreground",children:"Unit Price"}),u.jsx("p",{className:"font-medium",children:Ot(parseFloat(r.unit_price))})]})]}),u.jsx("div",{className:"border-t border-card-border pt-3",children:u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Cost"}),u.jsx("p",{className:"text-xl font-bold text-foreground",children:Ot(parseFloat(r.total_cost))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Down Payment"}),u.jsx("p",{className:"text-xl font-bold text-primary",children:Ot(parseFloat(r.down_payment))})]})]})}),r.status==="approved"&&u.jsx("div",{className:"bg-muted p-3 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Remaining Balance"}),u.jsx("p",{className:"text-lg font-semibold text-destructive",children:Ot(parseFloat(r.remaining_balance))})]}),u.jsx("span",{className:"material-icons text-destructive",children:"account_balance"})]})})]})]},r.id))}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("span",{className:"material-icons text-5xl text-muted-foreground mb-3",children:"receipt_long"}),u.jsx("p",{className:"text-muted-foreground",children:"No orders yet"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Contact your agent to create an order"})]})]})}function BD(){const{data:t,isLoading:e}=cr({queryKey:["/api/farmer/payments"],queryFn:async()=>{const{data:{user:s}}=await Ie.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:i,error:o}=await Ie.from("farmers").select("id").eq("phone",s.phone||s.email).limit(1);if(o)throw o;if(!i||i.length===0)return[];const a=i[0].id,{data:l,error:c}=await Ie.from("payments").select(`
          *,
          orders(*)
        `).eq("orders.farmer_id",a).order("due_date",{ascending:!0});if(c)throw c;return l}}),r=t==null?void 0:t.find(s=>s.status==="pending"),n=(t==null?void 0:t.filter(s=>s.status==="pending"&&qd(new Date(s.due_date))))||[];return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6",children:[u.jsx(ln,{title:"Payment Schedule",subtitle:"Track your remaining balance payments"}),r&&u.jsxs($e,{className:"mb-6 border-2 border-primary",children:[u.jsx(yt,{children:u.jsxs(wt,{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"notifications_active"}),"Next Payment Due"]})}),u.jsxs(Ue,{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount Due"}),u.jsx("p",{className:"text-3xl font-bold text-primary",children:Ot(parseFloat(r.amount))})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),u.jsx("p",{className:"text-lg font-semibold",children:Xi(r.due_date)}),qd(new Date(r.due_date))&&u.jsx(Za,{status:"overdue",className:"mt-1"})]})]}),u.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Order"}),u.jsx("p",{className:"font-medium",children:r.orders.product_name}),u.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["#",r.orders.id.slice(0,8)]})]})]})]}),n.length>0&&u.jsx($e,{className:"mb-6 border-2 border-destructive",children:u.jsxs(Ue,{className:"p-4 flex items-center gap-3",children:[u.jsx("span",{className:"material-icons text-destructive text-3xl",children:"warning"}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-destructive",children:[n.length," Payment",n.length>1?"s":""," Overdue"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Please contact your agent to arrange payment"})]})]})}),u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Payment History (",(t==null?void 0:t.length)||0,")"]}),e?u.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading payments..."}):t&&t.length>0?u.jsx("div",{className:"space-y-3",children:t.map(s=>{const i=s.status==="pending"&&qd(new Date(s.due_date));return u.jsx($e,{className:`shadow-sm ${i?"border-destructive":""}`,children:u.jsx(Ue,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("p",{className:"font-semibold text-foreground",children:s.orders.product_name}),u.jsx(Za,{status:i?"overdue":s.status})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",Xi(s.due_date)]}),s.paid_date&&u.jsxs("p",{className:"text-sm text-primary",children:["Paid: ",Xi(s.paid_date)]})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-xl font-bold text-foreground",children:Ot(parseFloat(s.amount))})})]})})},s.id)})}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("span",{className:"material-icons text-5xl text-muted-foreground mb-3",children:"payments"}),u.jsx("p",{className:"text-muted-foreground",children:"No payments scheduled"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Payments will appear once orders are approved"})]})]})]})}function WD(){const{data:t}=cr({queryKey:["/api/farmer/profile"],queryFn:async()=>{const{data:{user:e}}=await Ie.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:r,error:n}=await Ie.from("farmers").select("*").eq("phone",e.phone||e.email).single();if(n)throw n;return r}});return u.jsxs("div",{className:"p-4 md:p-6 pb-20 md:pb-6 max-w-2xl mx-auto",children:[u.jsx(ln,{title:"My Profile",subtitle:"Farmer account information"}),u.jsxs($e,{children:[u.jsx(yt,{children:u.jsx(wt,{children:"Account Details"})}),u.jsxs(Ue,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-card-border",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx("span",{className:"material-icons text-primary text-3xl",children:"person"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-xl text-foreground",children:(t==null?void 0:t.name)||"Farmer"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Farmer"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),u.jsx("p",{className:"font-medium text-foreground",children:t==null?void 0:t.phone})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"National ID"}),u.jsx("p",{className:"font-medium font-mono text-foreground",children:t==null?void 0:t.national_id})]})]})]})]})]})}function qD(){return u.jsxs(Z1,{children:[u.jsx(Jt,{path:"/login",component:_R}),u.jsx(Jt,{path:"/",children:()=>u.jsx(bR,{})}),u.jsx(Jt,{path:"/admin/dashboard",children:()=>u.jsx(Wr,{children:u.jsx(kR,{})})}),u.jsx(Jt,{path:"/admin/farmers",children:()=>u.jsx(Wr,{children:u.jsx(jR,{})})}),u.jsx(Jt,{path:"/admin/orders",children:()=>u.jsx(Wr,{children:u.jsx(NR,{})})}),u.jsx(Jt,{path:"/agent/dashboard",children:()=>u.jsx(Wr,{children:u.jsx(RR,{})})}),u.jsx(Jt,{path:"/agent/farmers",children:()=>u.jsx(Wr,{children:u.jsx(AR,{})})}),u.jsx(Jt,{path:"/agent/new-order",children:()=>u.jsx(Wr,{children:u.jsx(UD,{})})}),u.jsx(Jt,{path:"/agent/profile",children:()=>u.jsx(Wr,{children:u.jsx(VD,{})})}),u.jsx(Jt,{path:"/farmer/orders",children:()=>u.jsx(Wr,{children:u.jsx(zD,{})})}),u.jsx(Jt,{path:"/farmer/payments",children:()=>u.jsx(Wr,{children:u.jsx(BD,{})})}),u.jsx(Jt,{path:"/farmer/profile",children:()=>u.jsx(Wr,{children:u.jsx(WD,{})})}),u.jsx(Jt,{component:yR})]})}function HD(){return u.jsx(gC,{client:Eo,children:u.jsxs(FO,{children:[u.jsx(dj,{}),u.jsx(qD,{})]})})}F0(document.getElementById("root")).render(u.jsx(HD,{}));
